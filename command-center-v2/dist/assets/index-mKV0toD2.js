(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function eC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zv={exports:{}},Da={},Jv={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=Symbol.for("react.element"),tC=Symbol.for("react.portal"),nC=Symbol.for("react.fragment"),rC=Symbol.for("react.strict_mode"),iC=Symbol.for("react.profiler"),sC=Symbol.for("react.provider"),oC=Symbol.for("react.context"),lC=Symbol.for("react.forward_ref"),aC=Symbol.for("react.suspense"),uC=Symbol.for("react.memo"),cC=Symbol.for("react.lazy"),xp=Symbol.iterator;function dC(t){return t===null||typeof t!="object"?null:(t=xp&&t[xp]||t["@@iterator"],typeof t=="function"?t:null)}var ey={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ty=Object.assign,ny={};function Li(t,e,n){this.props=t,this.context=e,this.refs=ny,this.updater=n||ey}Li.prototype.isReactComponent={};Li.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Li.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ry(){}ry.prototype=Li.prototype;function qd(t,e,n){this.props=t,this.context=e,this.refs=ny,this.updater=n||ey}var Xd=qd.prototype=new ry;Xd.constructor=qd;ty(Xd,Li.prototype);Xd.isPureReactComponent=!0;var Sp=Array.isArray,iy=Object.prototype.hasOwnProperty,Zd={current:null},sy={key:!0,ref:!0,__self:!0,__source:!0};function oy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)iy.call(e,r)&&!sy.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:xo,type:t,key:s,ref:o,props:i,_owner:Zd.current}}function fC(t,e){return{$$typeof:xo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jd(t){return typeof t=="object"&&t!==null&&t.$$typeof===xo}function hC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cp=/\/+/g;function yu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hC(""+t.key):e.toString(36)}function pl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xo:case tC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yu(o,0):r,Sp(i)?(n="",t!=null&&(n=t.replace(Cp,"$&/")+"/"),pl(i,e,n,"",function(u){return u})):i!=null&&(Jd(i)&&(i=fC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Sp(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+yu(s,l);o+=pl(s,e,n,a,i)}else if(a=dC(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+yu(s,l++),o+=pl(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wo(t,e,n){if(t==null)return t;var r=[],i=0;return pl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function pC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ye={current:null},ml={transition:null},mC={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:ml,ReactCurrentOwner:Zd};function ly(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Wo,forEach:function(t,e,n){Wo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wo(t,function(){e++}),e},toArray:function(t){return Wo(t,function(e){return e})||[]},only:function(t){if(!Jd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=Li;B.Fragment=nC;B.Profiler=iC;B.PureComponent=qd;B.StrictMode=rC;B.Suspense=aC;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mC;B.act=ly;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ty({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Zd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)iy.call(e,a)&&!sy.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:xo,type:t.type,key:i,ref:s,props:r,_owner:o}};B.createContext=function(t){return t={$$typeof:oC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sC,_context:t},t.Consumer=t};B.createElement=oy;B.createFactory=function(t){var e=oy.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:lC,render:t}};B.isValidElement=Jd;B.lazy=function(t){return{$$typeof:cC,_payload:{_status:-1,_result:t},_init:pC}};B.memo=function(t,e){return{$$typeof:uC,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=ml.transition;ml.transition={};try{t()}finally{ml.transition=e}};B.unstable_act=ly;B.useCallback=function(t,e){return Ye.current.useCallback(t,e)};B.useContext=function(t){return Ye.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Ye.current.useDeferredValue(t)};B.useEffect=function(t,e){return Ye.current.useEffect(t,e)};B.useId=function(){return Ye.current.useId()};B.useImperativeHandle=function(t,e,n){return Ye.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return Ye.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Ye.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Ye.current.useMemo(t,e)};B.useReducer=function(t,e,n){return Ye.current.useReducer(t,e,n)};B.useRef=function(t){return Ye.current.useRef(t)};B.useState=function(t){return Ye.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return Ye.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return Ye.current.useTransition()};B.version="18.3.1";Jv.exports=B;var w=Jv.exports;const se=eC(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC=w,vC=Symbol.for("react.element"),yC=Symbol.for("react.fragment"),_C=Object.prototype.hasOwnProperty,wC=gC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xC={key:!0,ref:!0,__self:!0,__source:!0};function ay(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_C.call(e,r)&&!xC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vC,type:t,key:s,ref:o,props:i,_owner:wC.current}}Da.Fragment=yC;Da.jsx=ay;Da.jsxs=ay;Zv.exports=Da;var _=Zv.exports,yc={},uy={exports:{}},gt={},cy={exports:{}},dy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var L=P.length;P.push(A);e:for(;0<L;){var X=L-1>>>1,$=P[X];if(0<i($,A))P[X]=A,P[L]=$,L=X;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var A=P[0],L=P.pop();if(L!==A){P[0]=L;e:for(var X=0,$=P.length,Xe=$>>>1;X<Xe;){var He=2*(X+1)-1,en=P[He],ye=He+1,tn=P[ye];if(0>i(en,L))ye<$&&0>i(tn,en)?(P[X]=tn,P[ye]=L,X=ye):(P[X]=en,P[He]=L,X=He);else if(ye<$&&0>i(tn,L))P[X]=tn,P[ye]=L,X=ye;else break e}}return A}function i(P,A){var L=P.sortIndex-A.sortIndex;return L!==0?L:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,c=null,f=3,h=!1,v=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=P)r(u),A.sortIndex=A.expirationTime,e(a,A);else break;A=n(u)}}function x(P){if(y=!1,g(P),!v)if(n(a)!==null)v=!0,Jt(C);else{var A=n(u);A!==null&&W(x,A.startTime-P)}}function C(P,A){v=!1,y&&(y=!1,p(E),E=-1),h=!0;var L=f;try{for(g(A),c=n(a);c!==null&&(!(c.expirationTime>A)||P&&!O());){var X=c.callback;if(typeof X=="function"){c.callback=null,f=c.priorityLevel;var $=X(c.expirationTime<=A);A=t.unstable_now(),typeof $=="function"?c.callback=$:c===n(a)&&r(a),g(A)}else r(a);c=n(a)}if(c!==null)var Xe=!0;else{var He=n(u);He!==null&&W(x,He.startTime-A),Xe=!1}return Xe}finally{c=null,f=L,h=!1}}var T=!1,k=null,E=-1,R=5,I=-1;function O(){return!(t.unstable_now()-I<R)}function le(){if(k!==null){var P=t.unstable_now();I=P;var A=!0;try{A=k(!0,P)}finally{A?Q():(T=!1,k=null)}}else T=!1}var Q;if(typeof m=="function")Q=function(){m(le)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Ut=Pe.port2;Pe.port1.onmessage=le,Q=function(){Ut.postMessage(null)}}else Q=function(){S(le,0)};function Jt(P){k=P,T||(T=!0,Q())}function W(P,A){E=S(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,Jt(C))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var L=f;f=A;try{return P()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=f;f=P;try{return A()}finally{f=L}},t.unstable_scheduleCallback=function(P,A,L){var X=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?X+L:X):L=X,P){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=L+$,P={id:d++,callback:A,priorityLevel:P,startTime:L,expirationTime:$,sortIndex:-1},L>X?(P.sortIndex=L,e(u,P),n(a)===null&&P===n(u)&&(y?(p(E),E=-1):y=!0,W(x,L-X))):(P.sortIndex=$,e(a,P),v||h||(v=!0,Jt(C))),P},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(P){var A=f;return function(){var L=f;f=A;try{return P.apply(this,arguments)}finally{f=L}}}})(dy);cy.exports=dy;var SC=cy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC=w,pt=SC;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fy=new Set,zs={};function Mr(t,e){Si(t,e),Si(t+"Capture",e)}function Si(t,e){for(zs[t]=e,t=0;t<e.length;t++)fy.add(e[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=Object.prototype.hasOwnProperty,EC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ep={},Tp={};function TC(t){return _c.call(Tp,t)?!0:_c.call(Ep,t)?!1:EC.test(t)?Tp[t]=!0:(Ep[t]=!0,!1)}function kC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bC(t,e,n,r){if(e===null||typeof e>"u"||kC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qe(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Le[t]=new Qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Le[e]=new Qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Le[t]=new Qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Le[t]=new Qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Le[t]=new Qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Le[t]=new Qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Le[t]=new Qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Le[t]=new Qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Le[t]=new Qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var ef=/[\-:]([a-z])/g;function tf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ef,tf);Le[e]=new Qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ef,tf);Le[e]=new Qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ef,tf);Le[e]=new Qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Le[t]=new Qe(t,1,!1,t.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Le[t]=new Qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function nf(t,e,n,r){var i=Le.hasOwnProperty(e)?Le[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bC(e,n,i,r)&&(n=null),r||i===null?TC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cn=CC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),Kr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),rf=Symbol.for("react.strict_mode"),wc=Symbol.for("react.profiler"),hy=Symbol.for("react.provider"),py=Symbol.for("react.context"),sf=Symbol.for("react.forward_ref"),xc=Symbol.for("react.suspense"),Sc=Symbol.for("react.suspense_list"),of=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),my=Symbol.for("react.offscreen"),kp=Symbol.iterator;function Ji(t){return t===null||typeof t!="object"?null:(t=kp&&t[kp]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,_u;function fs(t){if(_u===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_u=e&&e[1]||""}return`
`+_u+t}var wu=!1;function xu(t,e){if(!t||wu)return"";wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{wu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fs(t):""}function NC(t){switch(t.tag){case 5:return fs(t.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return t=xu(t.type,!1),t;case 11:return t=xu(t.type.render,!1),t;case 1:return t=xu(t.type,!0),t;default:return""}}function Cc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gr:return"Fragment";case Kr:return"Portal";case wc:return"Profiler";case rf:return"StrictMode";case xc:return"Suspense";case Sc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case py:return(t.displayName||"Context")+".Consumer";case hy:return(t._context.displayName||"Context")+".Provider";case sf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case of:return e=t.displayName||null,e!==null?e:Cc(t.type)||"Memo";case An:e=t._payload,t=t._init;try{return Cc(t(e))}catch{}}return null}function IC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cc(e);case 8:return e===rf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PC(t){var e=gy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ho(t){t._valueTracker||(t._valueTracker=PC(t))}function vy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ec(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yy(t,e){e=e.checked,e!=null&&nf(t,"checked",e,!1)}function Tc(t,e){yy(t,e);var n=Xn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kc(t,e.type,n):e.hasOwnProperty("defaultValue")&&kc(t,e.type,Xn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Np(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kc(t,e,n){(e!=="number"||Dl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hs=Array.isArray;function di(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ip(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(hs(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xn(n)}}function _y(t,e){var n=Xn(e.value),r=Xn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ko,xy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ko.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RC=["Webkit","ms","Moz","O"];Object.keys(_s).forEach(function(t){RC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_s[e]=_s[t]})});function Sy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_s.hasOwnProperty(t)&&_s[t]?(""+e).trim():e+"px"}function Cy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DC=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ic(t,e){if(e){if(DC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Pc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=null;function lf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dc=null,fi=null,hi=null;function Rp(t){if(t=Eo(t)){if(typeof Dc!="function")throw Error(b(280));var e=t.stateNode;e&&(e=Fa(e),Dc(t.stateNode,t.type,e))}}function Ey(t){fi?hi?hi.push(t):hi=[t]:fi=t}function Ty(){if(fi){var t=fi,e=hi;if(hi=fi=null,Rp(t),e)for(t=0;t<e.length;t++)Rp(e[t])}}function ky(t,e){return t(e)}function by(){}var Su=!1;function Ny(t,e,n){if(Su)return t(e,n);Su=!0;try{return ky(t,e,n)}finally{Su=!1,(fi!==null||hi!==null)&&(by(),Ty())}}function Us(t,e){var n=t.stateNode;if(n===null)return null;var r=Fa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Ac=!1;if(mn)try{var es={};Object.defineProperty(es,"passive",{get:function(){Ac=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Ac=!1}function AC(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ws=!1,Al=null,Ml=!1,Mc=null,MC={onError:function(t){ws=!0,Al=t}};function OC(t,e,n,r,i,s,o,l,a){ws=!1,Al=null,AC.apply(MC,arguments)}function LC(t,e,n,r,i,s,o,l,a){if(OC.apply(this,arguments),ws){if(ws){var u=Al;ws=!1,Al=null}else throw Error(b(198));Ml||(Ml=!0,Mc=u)}}function Or(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Iy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dp(t){if(Or(t)!==t)throw Error(b(188))}function FC(t){var e=t.alternate;if(!e){if(e=Or(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dp(i),t;if(s===r)return Dp(i),e;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function Py(t){return t=FC(t),t!==null?Ry(t):null}function Ry(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ry(t);if(e!==null)return e;t=t.sibling}return null}var Dy=pt.unstable_scheduleCallback,Ap=pt.unstable_cancelCallback,jC=pt.unstable_shouldYield,VC=pt.unstable_requestPaint,ve=pt.unstable_now,zC=pt.unstable_getCurrentPriorityLevel,af=pt.unstable_ImmediatePriority,Ay=pt.unstable_UserBlockingPriority,Ol=pt.unstable_NormalPriority,BC=pt.unstable_LowPriority,My=pt.unstable_IdlePriority,Aa=null,Qt=null;function UC(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Aa,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:HC,WC=Math.log,$C=Math.LN2;function HC(t){return t>>>=0,t===0?32:31-(WC(t)/$C|0)|0}var Go=64,Yo=4194304;function ps(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ll(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ps(l):(s&=o,s!==0&&(r=ps(s)))}else o=n&~i,o!==0?r=ps(o):s!==0&&(r=ps(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Lt(e),i=1<<n,r|=t[n],e&=~i;return r}function KC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Lt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=KC(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Oc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Oy(){var t=Go;return Go<<=1,!(Go&4194240)&&(Go=64),t}function Cu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function So(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lt(e),t[e]=n}function YC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Lt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function uf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Lt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var G=0;function Ly(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fy,cf,jy,Vy,zy,Lc=!1,Qo=[],zn=null,Bn=null,Un=null,Ws=new Map,$s=new Map,Ln=[],QC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mp(t,e){switch(t){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Ws.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(e.pointerId)}}function ts(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Eo(e),e!==null&&cf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qC(t,e,n,r,i){switch(e){case"focusin":return zn=ts(zn,t,e,n,r,i),!0;case"dragenter":return Bn=ts(Bn,t,e,n,r,i),!0;case"mouseover":return Un=ts(Un,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ws.set(s,ts(Ws.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$s.set(s,ts($s.get(s)||null,t,e,n,r,i)),!0}return!1}function By(t){var e=gr(t.target);if(e!==null){var n=Or(e);if(n!==null){if(e=n.tag,e===13){if(e=Iy(n),e!==null){t.blockedOn=e,zy(t.priority,function(){jy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rc=r,n.target.dispatchEvent(r),Rc=null}else return e=Eo(n),e!==null&&cf(e),t.blockedOn=n,!1;e.shift()}return!0}function Op(t,e,n){gl(t)&&n.delete(e)}function XC(){Lc=!1,zn!==null&&gl(zn)&&(zn=null),Bn!==null&&gl(Bn)&&(Bn=null),Un!==null&&gl(Un)&&(Un=null),Ws.forEach(Op),$s.forEach(Op)}function ns(t,e){t.blockedOn===e&&(t.blockedOn=null,Lc||(Lc=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,XC)))}function Hs(t){function e(i){return ns(i,t)}if(0<Qo.length){ns(Qo[0],t);for(var n=1;n<Qo.length;n++){var r=Qo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zn!==null&&ns(zn,t),Bn!==null&&ns(Bn,t),Un!==null&&ns(Un,t),Ws.forEach(e),$s.forEach(e),n=0;n<Ln.length;n++)r=Ln[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)By(n),n.blockedOn===null&&Ln.shift()}var pi=Cn.ReactCurrentBatchConfig,Fl=!0;function ZC(t,e,n,r){var i=G,s=pi.transition;pi.transition=null;try{G=1,df(t,e,n,r)}finally{G=i,pi.transition=s}}function JC(t,e,n,r){var i=G,s=pi.transition;pi.transition=null;try{G=4,df(t,e,n,r)}finally{G=i,pi.transition=s}}function df(t,e,n,r){if(Fl){var i=Fc(t,e,n,r);if(i===null)Au(t,e,r,jl,n),Mp(t,r);else if(qC(i,t,e,n,r))r.stopPropagation();else if(Mp(t,r),e&4&&-1<QC.indexOf(t)){for(;i!==null;){var s=Eo(i);if(s!==null&&Fy(s),s=Fc(t,e,n,r),s===null&&Au(t,e,r,jl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Au(t,e,r,null,n)}}var jl=null;function Fc(t,e,n,r){if(jl=null,t=lf(r),t=gr(t),t!==null)if(e=Or(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Iy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jl=t,null}function Uy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zC()){case af:return 1;case Ay:return 4;case Ol:case BC:return 16;case My:return 536870912;default:return 16}default:return 16}}var jn=null,ff=null,vl=null;function Wy(){if(vl)return vl;var t,e=ff,n=e.length,r,i="value"in jn?jn.value:jn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return vl=i.slice(t,1<r?1-r:void 0)}function yl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qo(){return!0}function Lp(){return!1}function vt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qo:Lp,this.isPropagationStopped=Lp,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),e}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hf=vt(Fi),Co=de({},Fi,{view:0,detail:0}),e1=vt(Co),Eu,Tu,rs,Ma=de({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rs&&(rs&&t.type==="mousemove"?(Eu=t.screenX-rs.screenX,Tu=t.screenY-rs.screenY):Tu=Eu=0,rs=t),Eu)},movementY:function(t){return"movementY"in t?t.movementY:Tu}}),Fp=vt(Ma),t1=de({},Ma,{dataTransfer:0}),n1=vt(t1),r1=de({},Co,{relatedTarget:0}),ku=vt(r1),i1=de({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),s1=vt(i1),o1=de({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l1=vt(o1),a1=de({},Fi,{data:0}),jp=vt(a1),u1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d1[t])?!!e[t]:!1}function pf(){return f1}var h1=de({},Co,{key:function(t){if(t.key){var e=u1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pf,charCode:function(t){return t.type==="keypress"?yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p1=vt(h1),m1=de({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vp=vt(m1),g1=de({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pf}),v1=vt(g1),y1=de({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),_1=vt(y1),w1=de({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x1=vt(w1),S1=[9,13,27,32],mf=mn&&"CompositionEvent"in window,xs=null;mn&&"documentMode"in document&&(xs=document.documentMode);var C1=mn&&"TextEvent"in window&&!xs,$y=mn&&(!mf||xs&&8<xs&&11>=xs),zp=" ",Bp=!1;function Hy(t,e){switch(t){case"keyup":return S1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yr=!1;function E1(t,e){switch(t){case"compositionend":return Ky(e);case"keypress":return e.which!==32?null:(Bp=!0,zp);case"textInput":return t=e.data,t===zp&&Bp?null:t;default:return null}}function T1(t,e){if(Yr)return t==="compositionend"||!mf&&Hy(t,e)?(t=Wy(),vl=ff=jn=null,Yr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $y&&e.locale!=="ko"?null:e.data;default:return null}}var k1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k1[t.type]:e==="textarea"}function Gy(t,e,n,r){Ey(r),e=Vl(e,"onChange"),0<e.length&&(n=new hf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ss=null,Ks=null;function b1(t){i0(t,0)}function Oa(t){var e=Xr(t);if(vy(e))return t}function N1(t,e){if(t==="change")return e}var Yy=!1;if(mn){var bu;if(mn){var Nu="oninput"in document;if(!Nu){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),Nu=typeof Wp.oninput=="function"}bu=Nu}else bu=!1;Yy=bu&&(!document.documentMode||9<document.documentMode)}function $p(){Ss&&(Ss.detachEvent("onpropertychange",Qy),Ks=Ss=null)}function Qy(t){if(t.propertyName==="value"&&Oa(Ks)){var e=[];Gy(e,Ks,t,lf(t)),Ny(b1,e)}}function I1(t,e,n){t==="focusin"?($p(),Ss=e,Ks=n,Ss.attachEvent("onpropertychange",Qy)):t==="focusout"&&$p()}function P1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oa(Ks)}function R1(t,e){if(t==="click")return Oa(e)}function D1(t,e){if(t==="input"||t==="change")return Oa(e)}function A1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vt=typeof Object.is=="function"?Object.is:A1;function Gs(t,e){if(Vt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_c.call(e,i)||!Vt(t[i],e[i]))return!1}return!0}function Hp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kp(t,e){var n=Hp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hp(n)}}function qy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xy(){for(var t=window,e=Dl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dl(t.document)}return e}function gf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function M1(t){var e=Xy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qy(n.ownerDocument.documentElement,n)){if(r!==null&&gf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Kp(n,s);var o=Kp(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var O1=mn&&"documentMode"in document&&11>=document.documentMode,Qr=null,jc=null,Cs=null,Vc=!1;function Gp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vc||Qr==null||Qr!==Dl(r)||(r=Qr,"selectionStart"in r&&gf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&Gs(Cs,r)||(Cs=r,r=Vl(jc,"onSelect"),0<r.length&&(e=new hf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qr)))}function Xo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qr={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},Iu={},Zy={};mn&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function La(t){if(Iu[t])return Iu[t];if(!qr[t])return t;var e=qr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zy)return Iu[t]=e[n];return t}var Jy=La("animationend"),e0=La("animationiteration"),t0=La("animationstart"),n0=La("transitionend"),r0=new Map,Yp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(t,e){r0.set(t,e),Mr(e,[t])}for(var Pu=0;Pu<Yp.length;Pu++){var Ru=Yp[Pu],L1=Ru.toLowerCase(),F1=Ru[0].toUpperCase()+Ru.slice(1);ir(L1,"on"+F1)}ir(Jy,"onAnimationEnd");ir(e0,"onAnimationIteration");ir(t0,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(n0,"onTransitionEnd");Si("onMouseEnter",["mouseout","mouseover"]);Si("onMouseLeave",["mouseout","mouseover"]);Si("onPointerEnter",["pointerout","pointerover"]);Si("onPointerLeave",["pointerout","pointerover"]);Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function Qp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LC(r,e,void 0,t),t.currentTarget=null}function i0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Qp(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Qp(i,l,u),s=a}}}if(Ml)throw t=Mc,Ml=!1,Mc=null,t}function te(t,e){var n=e[$c];n===void 0&&(n=e[$c]=new Set);var r=t+"__bubble";n.has(r)||(s0(e,t,2,!1),n.add(r))}function Du(t,e,n){var r=0;e&&(r|=4),s0(n,t,r,e)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function Ys(t){if(!t[Zo]){t[Zo]=!0,fy.forEach(function(n){n!=="selectionchange"&&(j1.has(n)||Du(n,!1,t),Du(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zo]||(e[Zo]=!0,Du("selectionchange",!1,e))}}function s0(t,e,n,r){switch(Uy(e)){case 1:var i=ZC;break;case 4:i=JC;break;default:i=df}n=i.bind(null,e,n,t),i=void 0,!Ac||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Au(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=gr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Ny(function(){var u=s,d=lf(n),c=[];e:{var f=r0.get(t);if(f!==void 0){var h=hf,v=t;switch(t){case"keypress":if(yl(n)===0)break e;case"keydown":case"keyup":h=p1;break;case"focusin":v="focus",h=ku;break;case"focusout":v="blur",h=ku;break;case"beforeblur":case"afterblur":h=ku;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=n1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=v1;break;case Jy:case e0:case t0:h=s1;break;case n0:h=_1;break;case"scroll":h=e1;break;case"wheel":h=x1;break;case"copy":case"cut":case"paste":h=l1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Vp}var y=(e&4)!==0,S=!y&&t==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,g;m!==null;){g=m;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,p!==null&&(x=Us(m,p),x!=null&&y.push(Qs(m,x,g)))),S)break;m=m.return}0<y.length&&(f=new h(f,v,null,n,d),c.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Rc&&(v=n.relatedTarget||n.fromElement)&&(gr(v)||v[gn]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?gr(v):null,v!==null&&(S=Or(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=Fp,x="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=Vp,x="onPointerLeave",p="onPointerEnter",m="pointer"),S=h==null?f:Xr(h),g=v==null?f:Xr(v),f=new y(x,m+"leave",h,n,d),f.target=S,f.relatedTarget=g,x=null,gr(d)===u&&(y=new y(p,m+"enter",v,n,d),y.target=g,y.relatedTarget=S,x=y),S=x,h&&v)t:{for(y=h,p=v,m=0,g=y;g;g=$r(g))m++;for(g=0,x=p;x;x=$r(x))g++;for(;0<m-g;)y=$r(y),m--;for(;0<g-m;)p=$r(p),g--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=$r(y),p=$r(p)}y=null}else y=null;h!==null&&qp(c,f,h,y,!1),v!==null&&S!==null&&qp(c,S,v,y,!0)}}e:{if(f=u?Xr(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=N1;else if(Up(f))if(Yy)C=D1;else{C=P1;var T=I1}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=R1);if(C&&(C=C(t,u))){Gy(c,C,n,d);break e}T&&T(t,f,u),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&kc(f,"number",f.value)}switch(T=u?Xr(u):window,t){case"focusin":(Up(T)||T.contentEditable==="true")&&(Qr=T,jc=u,Cs=null);break;case"focusout":Cs=jc=Qr=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Gp(c,n,d);break;case"selectionchange":if(O1)break;case"keydown":case"keyup":Gp(c,n,d)}var k;if(mf)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Yr?Hy(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&($y&&n.locale!=="ko"&&(Yr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Yr&&(k=Wy()):(jn=d,ff="value"in jn?jn.value:jn.textContent,Yr=!0)),T=Vl(u,E),0<T.length&&(E=new jp(E,t,null,n,d),c.push({event:E,listeners:T}),k?E.data=k:(k=Ky(n),k!==null&&(E.data=k)))),(k=C1?E1(t,n):T1(t,n))&&(u=Vl(u,"onBeforeInput"),0<u.length&&(d=new jp("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=k))}i0(c,e)})}function Qs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Us(t,n),s!=null&&r.unshift(Qs(t,s,i)),s=Us(t,e),s!=null&&r.push(Qs(t,s,i))),t=t.return}return r}function $r(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Us(n,s),a!=null&&o.unshift(Qs(n,a,l))):i||(a=Us(n,s),a!=null&&o.push(Qs(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var V1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function Xp(t){return(typeof t=="string"?t:""+t).replace(V1,`
`).replace(z1,"")}function Jo(t,e,n){if(e=Xp(e),Xp(t)!==e&&n)throw Error(b(425))}function zl(){}var zc=null,Bc=null;function Uc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wc=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,Zp=typeof Promise=="function"?Promise:void 0,U1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zp<"u"?function(t){return Zp.resolve(null).then(t).catch(W1)}:Wc;function W1(t){setTimeout(function(){throw t})}function Mu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Hs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hs(e)}function Wn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ji=Math.random().toString(36).slice(2),Yt="__reactFiber$"+ji,qs="__reactProps$"+ji,gn="__reactContainer$"+ji,$c="__reactEvents$"+ji,$1="__reactListeners$"+ji,H1="__reactHandles$"+ji;function gr(t){var e=t[Yt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gn]||n[Yt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jp(t);t!==null;){if(n=t[Yt])return n;t=Jp(t)}return e}t=n,n=t.parentNode}return null}function Eo(t){return t=t[Yt]||t[gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function Fa(t){return t[qs]||null}var Hc=[],Zr=-1;function sr(t){return{current:t}}function re(t){0>Zr||(t.current=Hc[Zr],Hc[Zr]=null,Zr--)}function ee(t,e){Zr++,Hc[Zr]=t.current,t.current=e}var Zn={},$e=sr(Zn),nt=sr(!1),Tr=Zn;function Ci(t,e){var n=t.type.contextTypes;if(!n)return Zn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rt(t){return t=t.childContextTypes,t!=null}function Bl(){re(nt),re($e)}function em(t,e,n){if($e.current!==Zn)throw Error(b(168));ee($e,e),ee(nt,n)}function o0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,IC(t)||"Unknown",i));return de({},n,r)}function Ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zn,Tr=$e.current,ee($e,t),ee(nt,nt.current),!0}function tm(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=o0(t,e,Tr),r.__reactInternalMemoizedMergedChildContext=t,re(nt),re($e),ee($e,t)):re(nt),ee(nt,n)}var ln=null,ja=!1,Ou=!1;function l0(t){ln===null?ln=[t]:ln.push(t)}function K1(t){ja=!0,l0(t)}function or(){if(!Ou&&ln!==null){Ou=!0;var t=0,e=G;try{var n=ln;for(G=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ln=null,ja=!1}catch(i){throw ln!==null&&(ln=ln.slice(t+1)),Dy(af,or),i}finally{G=e,Ou=!1}}return null}var Jr=[],ei=0,Wl=null,$l=0,St=[],Ct=0,kr=null,an=1,un="";function cr(t,e){Jr[ei++]=$l,Jr[ei++]=Wl,Wl=t,$l=e}function a0(t,e,n){St[Ct++]=an,St[Ct++]=un,St[Ct++]=kr,kr=t;var r=an;t=un;var i=32-Lt(r)-1;r&=~(1<<i),n+=1;var s=32-Lt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,an=1<<32-Lt(e)+i|n<<i|r,un=s+t}else an=1<<s|n<<i|r,un=t}function vf(t){t.return!==null&&(cr(t,1),a0(t,1,0))}function yf(t){for(;t===Wl;)Wl=Jr[--ei],Jr[ei]=null,$l=Jr[--ei],Jr[ei]=null;for(;t===kr;)kr=St[--Ct],St[Ct]=null,un=St[--Ct],St[Ct]=null,an=St[--Ct],St[Ct]=null}var ft=null,dt=null,oe=!1,Dt=null;function u0(t,e){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,dt=Wn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kr!==null?{id:an,overflow:un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ft=t,dt=null,!0):!1;default:return!1}}function Kc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gc(t){if(oe){var e=dt;if(e){var n=e;if(!nm(t,e)){if(Kc(t))throw Error(b(418));e=Wn(n.nextSibling);var r=ft;e&&nm(t,e)?u0(r,n):(t.flags=t.flags&-4097|2,oe=!1,ft=t)}}else{if(Kc(t))throw Error(b(418));t.flags=t.flags&-4097|2,oe=!1,ft=t}}}function rm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function el(t){if(t!==ft)return!1;if(!oe)return rm(t),oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uc(t.type,t.memoizedProps)),e&&(e=dt)){if(Kc(t))throw c0(),Error(b(418));for(;e;)u0(t,e),e=Wn(e.nextSibling)}if(rm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dt=Wn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=ft?Wn(t.stateNode.nextSibling):null;return!0}function c0(){for(var t=dt;t;)t=Wn(t.nextSibling)}function Ei(){dt=ft=null,oe=!1}function _f(t){Dt===null?Dt=[t]:Dt.push(t)}var G1=Cn.ReactCurrentBatchConfig;function is(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function tl(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function im(t){var e=t._init;return e(t._payload)}function d0(t){function e(p,m){if(t){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=Gn(p,m),p.index=0,p.sibling=null,p}function s(p,m,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,x){return m===null||m.tag!==6?(m=Uu(g,p.mode,x),m.return=p,m):(m=i(m,g),m.return=p,m)}function a(p,m,g,x){var C=g.type;return C===Gr?d(p,m,g.props.children,x,g.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===An&&im(C)===m.type)?(x=i(m,g.props),x.ref=is(p,m,g),x.return=p,x):(x=Tl(g.type,g.key,g.props,null,p.mode,x),x.ref=is(p,m,g),x.return=p,x)}function u(p,m,g,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Wu(g,p.mode,x),m.return=p,m):(m=i(m,g.children||[]),m.return=p,m)}function d(p,m,g,x,C){return m===null||m.tag!==7?(m=Cr(g,p.mode,x,C),m.return=p,m):(m=i(m,g),m.return=p,m)}function c(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Uu(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $o:return g=Tl(m.type,m.key,m.props,null,p.mode,g),g.ref=is(p,null,m),g.return=p,g;case Kr:return m=Wu(m,p.mode,g),m.return=p,m;case An:var x=m._init;return c(p,x(m._payload),g)}if(hs(m)||Ji(m))return m=Cr(m,p.mode,g,null),m.return=p,m;tl(p,m)}return null}function f(p,m,g,x){var C=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:l(p,m,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $o:return g.key===C?a(p,m,g,x):null;case Kr:return g.key===C?u(p,m,g,x):null;case An:return C=g._init,f(p,m,C(g._payload),x)}if(hs(g)||Ji(g))return C!==null?null:d(p,m,g,x,null);tl(p,g)}return null}function h(p,m,g,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(g)||null,l(m,p,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $o:return p=p.get(x.key===null?g:x.key)||null,a(m,p,x,C);case Kr:return p=p.get(x.key===null?g:x.key)||null,u(m,p,x,C);case An:var T=x._init;return h(p,m,g,T(x._payload),C)}if(hs(x)||Ji(x))return p=p.get(g)||null,d(m,p,x,C,null);tl(m,x)}return null}function v(p,m,g,x){for(var C=null,T=null,k=m,E=m=0,R=null;k!==null&&E<g.length;E++){k.index>E?(R=k,k=null):R=k.sibling;var I=f(p,k,g[E],x);if(I===null){k===null&&(k=R);break}t&&k&&I.alternate===null&&e(p,k),m=s(I,m,E),T===null?C=I:T.sibling=I,T=I,k=R}if(E===g.length)return n(p,k),oe&&cr(p,E),C;if(k===null){for(;E<g.length;E++)k=c(p,g[E],x),k!==null&&(m=s(k,m,E),T===null?C=k:T.sibling=k,T=k);return oe&&cr(p,E),C}for(k=r(p,k);E<g.length;E++)R=h(k,p,E,g[E],x),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?E:R.key),m=s(R,m,E),T===null?C=R:T.sibling=R,T=R);return t&&k.forEach(function(O){return e(p,O)}),oe&&cr(p,E),C}function y(p,m,g,x){var C=Ji(g);if(typeof C!="function")throw Error(b(150));if(g=C.call(g),g==null)throw Error(b(151));for(var T=C=null,k=m,E=m=0,R=null,I=g.next();k!==null&&!I.done;E++,I=g.next()){k.index>E?(R=k,k=null):R=k.sibling;var O=f(p,k,I.value,x);if(O===null){k===null&&(k=R);break}t&&k&&O.alternate===null&&e(p,k),m=s(O,m,E),T===null?C=O:T.sibling=O,T=O,k=R}if(I.done)return n(p,k),oe&&cr(p,E),C;if(k===null){for(;!I.done;E++,I=g.next())I=c(p,I.value,x),I!==null&&(m=s(I,m,E),T===null?C=I:T.sibling=I,T=I);return oe&&cr(p,E),C}for(k=r(p,k);!I.done;E++,I=g.next())I=h(k,p,E,I.value,x),I!==null&&(t&&I.alternate!==null&&k.delete(I.key===null?E:I.key),m=s(I,m,E),T===null?C=I:T.sibling=I,T=I);return t&&k.forEach(function(le){return e(p,le)}),oe&&cr(p,E),C}function S(p,m,g,x){if(typeof g=="object"&&g!==null&&g.type===Gr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case $o:e:{for(var C=g.key,T=m;T!==null;){if(T.key===C){if(C=g.type,C===Gr){if(T.tag===7){n(p,T.sibling),m=i(T,g.props.children),m.return=p,p=m;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===An&&im(C)===T.type){n(p,T.sibling),m=i(T,g.props),m.ref=is(p,T,g),m.return=p,p=m;break e}n(p,T);break}else e(p,T);T=T.sibling}g.type===Gr?(m=Cr(g.props.children,p.mode,x,g.key),m.return=p,p=m):(x=Tl(g.type,g.key,g.props,null,p.mode,x),x.ref=is(p,m,g),x.return=p,p=x)}return o(p);case Kr:e:{for(T=g.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(p,m.sibling),m=i(m,g.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=Wu(g,p.mode,x),m.return=p,p=m}return o(p);case An:return T=g._init,S(p,m,T(g._payload),x)}if(hs(g))return v(p,m,g,x);if(Ji(g))return y(p,m,g,x);tl(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,g),m.return=p,p=m):(n(p,m),m=Uu(g,p.mode,x),m.return=p,p=m),o(p)):n(p,m)}return S}var Ti=d0(!0),f0=d0(!1),Hl=sr(null),Kl=null,ti=null,wf=null;function xf(){wf=ti=Kl=null}function Sf(t){var e=Hl.current;re(Hl),t._currentValue=e}function Yc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mi(t,e){Kl=t,wf=ti=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Je=!0),t.firstContext=null)}function kt(t){var e=t._currentValue;if(wf!==t)if(t={context:t,memoizedValue:e,next:null},ti===null){if(Kl===null)throw Error(b(308));ti=t,Kl.dependencies={lanes:0,firstContext:t}}else ti=ti.next=t;return e}var vr=null;function Cf(t){vr===null?vr=[t]:vr.push(t)}function h0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Cf(e)):(n.next=i.next,i.next=n),e.interleaved=n,vn(t,r)}function vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mn=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $n(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vn(t,n)}return i=r.interleaved,i===null?(e.next=e,Cf(r)):(e.next=i.next,i.next=e),r.interleaved=e,vn(t,n)}function _l(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uf(t,n)}}function sm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gl(t,e,n,r){var i=t.updateQueue;Mn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(s!==null){var c=i.baseState;o=0,d=u=a=null,l=s;do{var f=l.lane,h=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(f=e,h=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){c=v.call(h,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(h,c,f):v,f==null)break e;c=de({},c,f);break e;case 2:Mn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,a=c):d=d.next=h,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Nr|=o,t.lanes=o,t.memoizedState=c}}function om(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var To={},qt=sr(To),Xs=sr(To),Zs=sr(To);function yr(t){if(t===To)throw Error(b(174));return t}function Tf(t,e){switch(ee(Zs,e),ee(Xs,t),ee(qt,To),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nc(e,t)}re(qt),ee(qt,e)}function ki(){re(qt),re(Xs),re(Zs)}function m0(t){yr(Zs.current);var e=yr(qt.current),n=Nc(e,t.type);e!==n&&(ee(Xs,t),ee(qt,n))}function kf(t){Xs.current===t&&(re(qt),re(Xs))}var ae=sr(0);function Yl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lu=[];function bf(){for(var t=0;t<Lu.length;t++)Lu[t]._workInProgressVersionPrimary=null;Lu.length=0}var wl=Cn.ReactCurrentDispatcher,Fu=Cn.ReactCurrentBatchConfig,br=0,ce=null,we=null,Te=null,Ql=!1,Es=!1,Js=0,Y1=0;function je(){throw Error(b(321))}function Nf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vt(t[n],e[n]))return!1;return!0}function If(t,e,n,r,i,s){if(br=s,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wl.current=t===null||t.memoizedState===null?Z1:J1,t=n(r,i),Es){s=0;do{if(Es=!1,Js=0,25<=s)throw Error(b(301));s+=1,Te=we=null,e.updateQueue=null,wl.current=eE,t=n(r,i)}while(Es)}if(wl.current=ql,e=we!==null&&we.next!==null,br=0,Te=we=ce=null,Ql=!1,e)throw Error(b(300));return t}function Pf(){var t=Js!==0;return Js=0,t}function Gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ce.memoizedState=Te=t:Te=Te.next=t,Te}function bt(){if(we===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=Te===null?ce.memoizedState:Te.next;if(e!==null)Te=e,we=t;else{if(t===null)throw Error(b(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Te===null?ce.memoizedState=Te=t:Te=Te.next=t}return Te}function eo(t,e){return typeof e=="function"?e(t):e}function ju(t){var e=bt(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=we,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var d=u.lane;if((br&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,ce.lanes|=d,Nr|=d}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Vt(r,e.memoizedState)||(Je=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ce.lanes|=s,Nr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vu(t){var e=bt(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Vt(s,e.memoizedState)||(Je=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function g0(){}function v0(t,e){var n=ce,r=bt(),i=e(),s=!Vt(r.memoizedState,i);if(s&&(r.memoizedState=i,Je=!0),r=r.queue,Rf(w0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,to(9,_0.bind(null,n,r,i,e),void 0,null),Ie===null)throw Error(b(349));br&30||y0(n,e,i)}return i}function y0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _0(t,e,n,r){e.value=n,e.getSnapshot=r,x0(e)&&S0(t)}function w0(t,e,n){return n(function(){x0(e)&&S0(t)})}function x0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vt(t,n)}catch{return!0}}function S0(t){var e=vn(t,1);e!==null&&Ft(e,t,1,-1)}function lm(t){var e=Gt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:t},e.queue=t,t=t.dispatch=X1.bind(null,ce,t),[e.memoizedState,t]}function to(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function C0(){return bt().memoizedState}function xl(t,e,n,r){var i=Gt();ce.flags|=t,i.memoizedState=to(1|e,n,void 0,r===void 0?null:r)}function Va(t,e,n,r){var i=bt();r=r===void 0?null:r;var s=void 0;if(we!==null){var o=we.memoizedState;if(s=o.destroy,r!==null&&Nf(r,o.deps)){i.memoizedState=to(e,n,s,r);return}}ce.flags|=t,i.memoizedState=to(1|e,n,s,r)}function am(t,e){return xl(8390656,8,t,e)}function Rf(t,e){return Va(2048,8,t,e)}function E0(t,e){return Va(4,2,t,e)}function T0(t,e){return Va(4,4,t,e)}function k0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function b0(t,e,n){return n=n!=null?n.concat([t]):null,Va(4,4,k0.bind(null,e,t),n)}function Df(){}function N0(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function I0(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function P0(t,e,n){return br&21?(Vt(n,e)||(n=Oy(),ce.lanes|=n,Nr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Je=!0),t.memoizedState=n)}function Q1(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var r=Fu.transition;Fu.transition={};try{t(!1),e()}finally{G=n,Fu.transition=r}}function R0(){return bt().memoizedState}function q1(t,e,n){var r=Kn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D0(t))A0(e,n);else if(n=h0(t,e,n,r),n!==null){var i=Ge();Ft(n,t,r,i),M0(n,e,r)}}function X1(t,e,n){var r=Kn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D0(t))A0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Vt(l,o)){var a=e.interleaved;a===null?(i.next=i,Cf(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=h0(t,e,i,r),n!==null&&(i=Ge(),Ft(n,t,r,i),M0(n,e,r))}}function D0(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function A0(t,e){Es=Ql=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function M0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uf(t,n)}}var ql={readContext:kt,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},Z1={readContext:kt,useCallback:function(t,e){return Gt().memoizedState=[t,e===void 0?null:e],t},useContext:kt,useEffect:am,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xl(4194308,4,k0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xl(4194308,4,t,e)},useInsertionEffect:function(t,e){return xl(4,2,t,e)},useMemo:function(t,e){var n=Gt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=q1.bind(null,ce,t),[r.memoizedState,t]},useRef:function(t){var e=Gt();return t={current:t},e.memoizedState=t},useState:lm,useDebugValue:Df,useDeferredValue:function(t){return Gt().memoizedState=t},useTransition:function(){var t=lm(!1),e=t[0];return t=Q1.bind(null,t[1]),Gt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ce,i=Gt();if(oe){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),Ie===null)throw Error(b(349));br&30||y0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,am(w0.bind(null,r,s,t),[t]),r.flags|=2048,to(9,_0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gt(),e=Ie.identifierPrefix;if(oe){var n=un,r=an;n=(r&~(1<<32-Lt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Js++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Y1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},J1={readContext:kt,useCallback:N0,useContext:kt,useEffect:Rf,useImperativeHandle:b0,useInsertionEffect:E0,useLayoutEffect:T0,useMemo:I0,useReducer:ju,useRef:C0,useState:function(){return ju(eo)},useDebugValue:Df,useDeferredValue:function(t){var e=bt();return P0(e,we.memoizedState,t)},useTransition:function(){var t=ju(eo)[0],e=bt().memoizedState;return[t,e]},useMutableSource:g0,useSyncExternalStore:v0,useId:R0,unstable_isNewReconciler:!1},eE={readContext:kt,useCallback:N0,useContext:kt,useEffect:Rf,useImperativeHandle:b0,useInsertionEffect:E0,useLayoutEffect:T0,useMemo:I0,useReducer:Vu,useRef:C0,useState:function(){return Vu(eo)},useDebugValue:Df,useDeferredValue:function(t){var e=bt();return we===null?e.memoizedState=t:P0(e,we.memoizedState,t)},useTransition:function(){var t=Vu(eo)[0],e=bt().memoizedState;return[t,e]},useMutableSource:g0,useSyncExternalStore:v0,useId:R0,unstable_isNewReconciler:!1};function Pt(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var za={isMounted:function(t){return(t=t._reactInternals)?Or(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ge(),i=Kn(t),s=dn(r,i);s.payload=e,n!=null&&(s.callback=n),e=$n(t,s,i),e!==null&&(Ft(e,t,i,r),_l(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ge(),i=Kn(t),s=dn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$n(t,s,i),e!==null&&(Ft(e,t,i,r),_l(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ge(),r=Kn(t),i=dn(n,r);i.tag=2,e!=null&&(i.callback=e),e=$n(t,i,r),e!==null&&(Ft(e,t,r,n),_l(e,t,r))}};function um(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gs(n,r)||!Gs(i,s):!0}function O0(t,e,n){var r=!1,i=Zn,s=e.contextType;return typeof s=="object"&&s!==null?s=kt(s):(i=rt(e)?Tr:$e.current,r=e.contextTypes,s=(r=r!=null)?Ci(t,i):Zn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=za,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function cm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&za.enqueueReplaceState(e,e.state,null)}function qc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ef(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kt(s):(s=rt(e)?Tr:$e.current,i.context=Ci(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&za.enqueueReplaceState(i,i.state,null),Gl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bi(t,e){try{var n="",r=e;do n+=NC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tE=typeof WeakMap=="function"?WeakMap:Map;function L0(t,e,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zl||(Zl=!0,ld=r),Xc(t,e)},n}function F0(t,e,n){n=dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xc(t,e),typeof r!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mE.bind(null,t,e,n),e.then(t,t))}function fm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dn(-1,1),e.tag=2,$n(n,e,1))),n.lanes|=1),t)}var nE=Cn.ReactCurrentOwner,Je=!1;function Ke(t,e,n,r){e.child=t===null?f0(e,null,n,r):Ti(e,t.child,n,r)}function pm(t,e,n,r,i){n=n.render;var s=e.ref;return mi(e,i),r=If(t,e,n,r,s,i),n=Pf(),t!==null&&!Je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yn(t,e,i)):(oe&&n&&vf(e),e.flags|=1,Ke(t,e,r,i),e.child)}function mm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,j0(t,e,s,r,i)):(t=Tl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gs,n(o,r)&&t.ref===e.ref)return yn(t,e,i)}return e.flags|=1,t=Gn(s,r),t.ref=e.ref,t.return=e,e.child=t}function j0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gs(s,r)&&t.ref===e.ref)if(Je=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Je=!0);else return e.lanes=t.lanes,yn(t,e,i)}return Zc(t,e,n,r,i)}function V0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(ri,ct),ct|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ee(ri,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ee(ri,ct),ct|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ee(ri,ct),ct|=r;return Ke(t,e,i,n),e.child}function z0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zc(t,e,n,r,i){var s=rt(n)?Tr:$e.current;return s=Ci(e,s),mi(e,i),n=If(t,e,n,r,s,i),r=Pf(),t!==null&&!Je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yn(t,e,i)):(oe&&r&&vf(e),e.flags|=1,Ke(t,e,n,i),e.child)}function gm(t,e,n,r,i){if(rt(n)){var s=!0;Ul(e)}else s=!1;if(mi(e,i),e.stateNode===null)Sl(t,e),O0(e,n,r),qc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=rt(n)?Tr:$e.current,u=Ci(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&cm(e,o,r,u),Mn=!1;var f=e.memoizedState;o.state=f,Gl(e,r,o,i),a=e.memoizedState,l!==r||f!==a||nt.current||Mn?(typeof d=="function"&&(Qc(e,n,d,r),a=e.memoizedState),(l=Mn||um(e,n,l,r,f,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,p0(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Pt(e.type,l),o.props=u,c=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=kt(a):(a=rt(n)?Tr:$e.current,a=Ci(e,a));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==a)&&cm(e,o,r,a),Mn=!1,f=e.memoizedState,o.state=f,Gl(e,r,o,i);var v=e.memoizedState;l!==c||f!==v||nt.current||Mn?(typeof h=="function"&&(Qc(e,n,h,r),v=e.memoizedState),(u=Mn||um(e,n,u,r,f,v,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Jc(t,e,n,r,s,i)}function Jc(t,e,n,r,i,s){z0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tm(e,n,!1),yn(t,e,s);r=e.stateNode,nE.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ti(e,t.child,null,s),e.child=Ti(e,null,l,s)):Ke(t,e,l,s),e.memoizedState=r.state,i&&tm(e,n,!0),e.child}function B0(t){var e=t.stateNode;e.pendingContext?em(t,e.pendingContext,e.pendingContext!==e.context):e.context&&em(t,e.context,!1),Tf(t,e.containerInfo)}function vm(t,e,n,r,i){return Ei(),_f(i),e.flags|=256,Ke(t,e,n,r),e.child}var ed={dehydrated:null,treeContext:null,retryLane:0};function td(t){return{baseLanes:t,cachePool:null,transitions:null}}function U0(t,e,n){var r=e.pendingProps,i=ae.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ee(ae,i&1),t===null)return Gc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wa(o,r,0,null),t=Cr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=td(n),e.memoizedState=ed,t):Af(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return rE(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Gn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Gn(l,s):(s=Cr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?td(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ed,r}return s=t.child,t=s.sibling,r=Gn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Af(t,e){return e=Wa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nl(t,e,n,r){return r!==null&&_f(r),Ti(e,t.child,null,n),t=Af(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rE(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zu(Error(b(422))),nl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Wa({mode:"visible",children:r.children},i,0,null),s=Cr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ti(e,t.child,null,o),e.child.memoizedState=td(o),e.memoizedState=ed,s);if(!(e.mode&1))return nl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(b(419)),r=zu(s,r,void 0),nl(t,e,o,r)}if(l=(o&t.childLanes)!==0,Je||l){if(r=Ie,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vn(t,i),Ft(r,t,i,-1))}return Vf(),r=zu(Error(b(421))),nl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gE.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dt=Wn(i.nextSibling),ft=e,oe=!0,Dt=null,t!==null&&(St[Ct++]=an,St[Ct++]=un,St[Ct++]=kr,an=t.id,un=t.overflow,kr=e),e=Af(e,r.children),e.flags|=4096,e)}function ym(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yc(t.return,e,n)}function Bu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function W0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ke(t,e,r.children,n),r=ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ym(t,n,e);else if(t.tag===19)ym(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ee(ae,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bu(e,!0,n,null,s);break;case"together":Bu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Nr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iE(t,e,n){switch(e.tag){case 3:B0(e),Ei();break;case 5:m0(e);break;case 1:rt(e.type)&&Ul(e);break;case 4:Tf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ee(Hl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ee(ae,ae.current&1),e.flags|=128,null):n&e.child.childLanes?U0(t,e,n):(ee(ae,ae.current&1),t=yn(t,e,n),t!==null?t.sibling:null);ee(ae,ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return W0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(ae,ae.current),r)break;return null;case 22:case 23:return e.lanes=0,V0(t,e,n)}return yn(t,e,n)}var $0,nd,H0,K0;$0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nd=function(){};H0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yr(qt.current);var s=null;switch(n){case"input":i=Ec(t,i),r=Ec(t,r),s=[];break;case"select":i=de({},i,{value:void 0}),r=de({},r,{value:void 0}),s=[];break;case"textarea":i=bc(t,i),r=bc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zl)}Ic(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&te("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};K0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ss(t,e){if(!oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sE(t,e,n){var r=e.pendingProps;switch(yf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return rt(e.type)&&Bl(),Ve(e),null;case 3:return r=e.stateNode,ki(),re(nt),re($e),bf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(el(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dt!==null&&(cd(Dt),Dt=null))),nd(t,e),Ve(e),null;case 5:kf(e);var i=yr(Zs.current);if(n=e.type,t!==null&&e.stateNode!=null)H0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return Ve(e),null}if(t=yr(qt.current),el(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yt]=e,r[qs]=s,t=(e.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(i=0;i<ms.length;i++)te(ms[i],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":bp(r,s),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},te("invalid",r);break;case"textarea":Ip(r,s),te("invalid",r)}Ic(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Jo(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Jo(r.textContent,l,t),i=["children",""+l]):zs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",r)}switch(n){case"input":Ho(r),Np(r,s,!0);break;case"textarea":Ho(r),Pp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yt]=e,t[qs]=r,$0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pc(n,r),n){case"dialog":te("cancel",t),te("close",t),i=r;break;case"iframe":case"object":case"embed":te("load",t),i=r;break;case"video":case"audio":for(i=0;i<ms.length;i++)te(ms[i],t);i=r;break;case"source":te("error",t),i=r;break;case"img":case"image":case"link":te("error",t),te("load",t),i=r;break;case"details":te("toggle",t),i=r;break;case"input":bp(t,r),i=Ec(t,r),te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=de({},r,{value:void 0}),te("invalid",t);break;case"textarea":Ip(t,r),i=bc(t,r),te("invalid",t);break;default:i=r}Ic(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Cy(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&xy(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Bs(t,a):typeof a=="number"&&Bs(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zs.hasOwnProperty(s)?a!=null&&s==="onScroll"&&te("scroll",t):a!=null&&nf(t,s,a,o))}switch(n){case"input":Ho(t),Np(t,r,!1);break;case"textarea":Ho(t),Pp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?di(t,!!r.multiple,s,!1):r.defaultValue!=null&&di(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ve(e),null;case 6:if(t&&e.stateNode!=null)K0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=yr(Zs.current),yr(qt.current),el(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yt]=e,(s=r.nodeValue!==n)&&(t=ft,t!==null))switch(t.tag){case 3:Jo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=e,e.stateNode=r}return Ve(e),null;case 13:if(re(ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oe&&dt!==null&&e.mode&1&&!(e.flags&128))c0(),Ei(),e.flags|=98560,s=!1;else if(s=el(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(b(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[Yt]=e}else Ei(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),s=!1}else Dt!==null&&(cd(Dt),Dt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ae.current&1?Ce===0&&(Ce=3):Vf())),e.updateQueue!==null&&(e.flags|=4),Ve(e),null);case 4:return ki(),nd(t,e),t===null&&Ys(e.stateNode.containerInfo),Ve(e),null;case 10:return Sf(e.type._context),Ve(e),null;case 17:return rt(e.type)&&Bl(),Ve(e),null;case 19:if(re(ae),s=e.memoizedState,s===null)return Ve(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ss(s,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yl(t),o!==null){for(e.flags|=128,ss(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ee(ae,ae.current&1|2),e.child}t=t.sibling}s.tail!==null&&ve()>Ni&&(e.flags|=128,r=!0,ss(s,!1),e.lanes=4194304)}else{if(!r)if(t=Yl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ss(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!oe)return Ve(e),null}else 2*ve()-s.renderingStartTime>Ni&&n!==1073741824&&(e.flags|=128,r=!0,ss(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ve(),e.sibling=null,n=ae.current,ee(ae,r?n&1|2:n&1),e):(Ve(e),null);case 22:case 23:return jf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ct&1073741824&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function oE(t,e){switch(yf(e),e.tag){case 1:return rt(e.type)&&Bl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ki(),re(nt),re($e),bf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kf(e),null;case 13:if(re(ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Ei()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(ae),null;case 4:return ki(),null;case 10:return Sf(e.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var rl=!1,Be=!1,lE=typeof WeakSet=="function"?WeakSet:Set,D=null;function ni(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(t,e,r)}else n.current=null}function rd(t,e,n){try{n()}catch(r){pe(t,e,r)}}var _m=!1;function aE(t,e){if(zc=Fl,t=Xy(),gf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,c=t,f=null;t:for(;;){for(var h;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(h=c.firstChild)!==null;)f=c,c=h;for(;;){if(c===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(a=o),(h=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bc={focusedElem:t,selectionRange:n},Fl=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,S=v.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:Pt(e.type,y),S);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(x){pe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return v=_m,_m=!1,v}function Ts(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rd(e,n,s)}i=i.next}while(i!==r)}}function Ba(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function id(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function G0(t){var e=t.alternate;e!==null&&(t.alternate=null,G0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yt],delete e[qs],delete e[$c],delete e[$1],delete e[H1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Y0(t){return t.tag===5||t.tag===3||t.tag===4}function wm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Y0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zl));else if(r!==4&&(t=t.child,t!==null))for(sd(t,e,n),t=t.sibling;t!==null;)sd(t,e,n),t=t.sibling}function od(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(od(t,e,n),t=t.sibling;t!==null;)od(t,e,n),t=t.sibling}var De=null,Rt=!1;function Rn(t,e,n){for(n=n.child;n!==null;)Q0(t,e,n),n=n.sibling}function Q0(t,e,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Aa,n)}catch{}switch(n.tag){case 5:Be||ni(n,e);case 6:var r=De,i=Rt;De=null,Rn(t,e,n),De=r,Rt=i,De!==null&&(Rt?(t=De,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Rt?(t=De,n=n.stateNode,t.nodeType===8?Mu(t.parentNode,n):t.nodeType===1&&Mu(t,n),Hs(t)):Mu(De,n.stateNode));break;case 4:r=De,i=Rt,De=n.stateNode.containerInfo,Rt=!0,Rn(t,e,n),De=r,Rt=i;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rd(n,e,o),i=i.next}while(i!==r)}Rn(t,e,n);break;case 1:if(!Be&&(ni(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pe(n,e,l)}Rn(t,e,n);break;case 21:Rn(t,e,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,Rn(t,e,n),Be=r):Rn(t,e,n);break;default:Rn(t,e,n)}}function xm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lE),e.forEach(function(r){var i=vE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,Rt=!1;break e;case 3:De=l.stateNode.containerInfo,Rt=!0;break e;case 4:De=l.stateNode.containerInfo,Rt=!0;break e}l=l.return}if(De===null)throw Error(b(160));Q0(s,o,i),De=null,Rt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){pe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q0(e,t),e=e.sibling}function q0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nt(e,t),Kt(t),r&4){try{Ts(3,t,t.return),Ba(3,t)}catch(y){pe(t,t.return,y)}try{Ts(5,t,t.return)}catch(y){pe(t,t.return,y)}}break;case 1:Nt(e,t),Kt(t),r&512&&n!==null&&ni(n,n.return);break;case 5:if(Nt(e,t),Kt(t),r&512&&n!==null&&ni(n,n.return),t.flags&32){var i=t.stateNode;try{Bs(i,"")}catch(y){pe(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&yy(i,s),Pc(l,o);var u=Pc(l,s);for(o=0;o<a.length;o+=2){var d=a[o],c=a[o+1];d==="style"?Cy(i,c):d==="dangerouslySetInnerHTML"?xy(i,c):d==="children"?Bs(i,c):nf(i,d,c,u)}switch(l){case"input":Tc(i,s);break;case"textarea":_y(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?di(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?di(i,!!s.multiple,s.defaultValue,!0):di(i,!!s.multiple,s.multiple?[]:"",!1))}i[qs]=s}catch(y){pe(t,t.return,y)}}break;case 6:if(Nt(e,t),Kt(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){pe(t,t.return,y)}}break;case 3:if(Nt(e,t),Kt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hs(e.containerInfo)}catch(y){pe(t,t.return,y)}break;case 4:Nt(e,t),Kt(t);break;case 13:Nt(e,t),Kt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lf=ve())),r&4&&xm(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Be=(u=Be)||d,Nt(e,t),Be=u):Nt(e,t),Kt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(c=D=d;D!==null;){switch(f=D,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ts(4,f,f.return);break;case 1:ni(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){pe(r,n,y)}}break;case 5:ni(f,f.return);break;case 22:if(f.memoizedState!==null){Cm(c);continue}}h!==null?(h.return=f,D=h):Cm(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Sy("display",o))}catch(y){pe(t,t.return,y)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){pe(t,t.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Nt(e,t),Kt(t),r&4&&xm(t);break;case 21:break;default:Nt(e,t),Kt(t)}}function Kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Y0(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bs(i,""),r.flags&=-33);var s=wm(t);od(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=wm(t);sd(t,l,o);break;default:throw Error(b(161))}}catch(a){pe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uE(t,e,n){D=t,X0(t)}function X0(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var i=D,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rl;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Be;l=rl;var u=Be;if(rl=o,(Be=a)&&!u)for(D=i;D!==null;)o=D,a=o.child,o.tag===22&&o.memoizedState!==null?Em(i):a!==null?(a.return=o,D=a):Em(i);for(;s!==null;)D=s,X0(s),s=s.sibling;D=i,rl=l,Be=u}Sm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,D=s):Sm(t)}}function Sm(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Be||Ba(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Be)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Pt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&om(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}om(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Hs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Be||e.flags&512&&id(e)}catch(f){pe(e,e.return,f)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Cm(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Em(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ba(4,e)}catch(a){pe(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){pe(e,i,a)}}var s=e.return;try{id(e)}catch(a){pe(e,s,a)}break;case 5:var o=e.return;try{id(e)}catch(a){pe(e,o,a)}}}catch(a){pe(e,e.return,a)}if(e===t){D=null;break}var l=e.sibling;if(l!==null){l.return=e.return,D=l;break}D=e.return}}var cE=Math.ceil,Xl=Cn.ReactCurrentDispatcher,Mf=Cn.ReactCurrentOwner,Tt=Cn.ReactCurrentBatchConfig,H=0,Ie=null,_e=null,Oe=0,ct=0,ri=sr(0),Ce=0,no=null,Nr=0,Ua=0,Of=0,ks=null,Ze=null,Lf=0,Ni=1/0,on=null,Zl=!1,ld=null,Hn=null,il=!1,Vn=null,Jl=0,bs=0,ad=null,Cl=-1,El=0;function Ge(){return H&6?ve():Cl!==-1?Cl:Cl=ve()}function Kn(t){return t.mode&1?H&2&&Oe!==0?Oe&-Oe:G1.transition!==null?(El===0&&(El=Oy()),El):(t=G,t!==0||(t=window.event,t=t===void 0?16:Uy(t.type)),t):1}function Ft(t,e,n,r){if(50<bs)throw bs=0,ad=null,Error(b(185));So(t,n,r),(!(H&2)||t!==Ie)&&(t===Ie&&(!(H&2)&&(Ua|=n),Ce===4&&Fn(t,Oe)),it(t,r),n===1&&H===0&&!(e.mode&1)&&(Ni=ve()+500,ja&&or()))}function it(t,e){var n=t.callbackNode;GC(t,e);var r=Ll(t,t===Ie?Oe:0);if(r===0)n!==null&&Ap(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ap(n),e===1)t.tag===0?K1(Tm.bind(null,t)):l0(Tm.bind(null,t)),U1(function(){!(H&6)&&or()}),n=null;else{switch(Ly(r)){case 1:n=af;break;case 4:n=Ay;break;case 16:n=Ol;break;case 536870912:n=My;break;default:n=Ol}n=s_(n,Z0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Z0(t,e){if(Cl=-1,El=0,H&6)throw Error(b(327));var n=t.callbackNode;if(gi()&&t.callbackNode!==n)return null;var r=Ll(t,t===Ie?Oe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ea(t,r);else{e=r;var i=H;H|=2;var s=e_();(Ie!==t||Oe!==e)&&(on=null,Ni=ve()+500,Sr(t,e));do try{hE();break}catch(l){J0(t,l)}while(!0);xf(),Xl.current=s,H=i,_e!==null?e=0:(Ie=null,Oe=0,e=Ce)}if(e!==0){if(e===2&&(i=Oc(t),i!==0&&(r=i,e=ud(t,i))),e===1)throw n=no,Sr(t,0),Fn(t,r),it(t,ve()),n;if(e===6)Fn(t,r);else{if(i=t.current.alternate,!(r&30)&&!dE(i)&&(e=ea(t,r),e===2&&(s=Oc(t),s!==0&&(r=s,e=ud(t,s))),e===1))throw n=no,Sr(t,0),Fn(t,r),it(t,ve()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:dr(t,Ze,on);break;case 3:if(Fn(t,r),(r&130023424)===r&&(e=Lf+500-ve(),10<e)){if(Ll(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ge(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wc(dr.bind(null,t,Ze,on),e);break}dr(t,Ze,on);break;case 4:if(Fn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Lt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cE(r/1960))-r,10<r){t.timeoutHandle=Wc(dr.bind(null,t,Ze,on),r);break}dr(t,Ze,on);break;case 5:dr(t,Ze,on);break;default:throw Error(b(329))}}}return it(t,ve()),t.callbackNode===n?Z0.bind(null,t):null}function ud(t,e){var n=ks;return t.current.memoizedState.isDehydrated&&(Sr(t,e).flags|=256),t=ea(t,e),t!==2&&(e=Ze,Ze=n,e!==null&&cd(e)),t}function cd(t){Ze===null?Ze=t:Ze.push.apply(Ze,t)}function dE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fn(t,e){for(e&=~Of,e&=~Ua,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lt(e),r=1<<n;t[n]=-1,e&=~r}}function Tm(t){if(H&6)throw Error(b(327));gi();var e=Ll(t,0);if(!(e&1))return it(t,ve()),null;var n=ea(t,e);if(t.tag!==0&&n===2){var r=Oc(t);r!==0&&(e=r,n=ud(t,r))}if(n===1)throw n=no,Sr(t,0),Fn(t,e),it(t,ve()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dr(t,Ze,on),it(t,ve()),null}function Ff(t,e){var n=H;H|=1;try{return t(e)}finally{H=n,H===0&&(Ni=ve()+500,ja&&or())}}function Ir(t){Vn!==null&&Vn.tag===0&&!(H&6)&&gi();var e=H;H|=1;var n=Tt.transition,r=G;try{if(Tt.transition=null,G=1,t)return t()}finally{G=r,Tt.transition=n,H=e,!(H&6)&&or()}}function jf(){ct=ri.current,re(ri)}function Sr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,B1(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(yf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bl();break;case 3:ki(),re(nt),re($e),bf();break;case 5:kf(r);break;case 4:ki();break;case 13:re(ae);break;case 19:re(ae);break;case 10:Sf(r.type._context);break;case 22:case 23:jf()}n=n.return}if(Ie=t,_e=t=Gn(t.current,null),Oe=ct=e,Ce=0,no=null,Of=Ua=Nr=0,Ze=ks=null,vr!==null){for(e=0;e<vr.length;e++)if(n=vr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vr=null}return t}function J0(t,e){do{var n=_e;try{if(xf(),wl.current=ql,Ql){for(var r=ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ql=!1}if(br=0,Te=we=ce=null,Es=!1,Js=0,Mf.current=null,n===null||n.return===null){Ce=1,no=e,_e=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Oe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=fm(o);if(h!==null){h.flags&=-257,hm(h,o,l,s,e),h.mode&1&&dm(s,u,e),e=h,a=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(a),e.updateQueue=y}else v.add(a);break e}else{if(!(e&1)){dm(s,u,e),Vf();break e}a=Error(b(426))}}else if(oe&&l.mode&1){var S=fm(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),hm(S,o,l,s,e),_f(bi(a,l));break e}}s=a=bi(a,l),Ce!==4&&(Ce=2),ks===null?ks=[s]:ks.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=L0(s,a,e);sm(s,p);break e;case 1:l=a;var m=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hn===null||!Hn.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=F0(s,l,e);sm(s,x);break e}}s=s.return}while(s!==null)}n_(n)}catch(C){e=C,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function e_(){var t=Xl.current;return Xl.current=ql,t===null?ql:t}function Vf(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Ie===null||!(Nr&268435455)&&!(Ua&268435455)||Fn(Ie,Oe)}function ea(t,e){var n=H;H|=2;var r=e_();(Ie!==t||Oe!==e)&&(on=null,Sr(t,e));do try{fE();break}catch(i){J0(t,i)}while(!0);if(xf(),H=n,Xl.current=r,_e!==null)throw Error(b(261));return Ie=null,Oe=0,Ce}function fE(){for(;_e!==null;)t_(_e)}function hE(){for(;_e!==null&&!jC();)t_(_e)}function t_(t){var e=i_(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?n_(t):_e=e,Mf.current=null}function n_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oE(n,e),n!==null){n.flags&=32767,_e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ce=6,_e=null;return}}else if(n=sE(n,e,ct),n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);Ce===0&&(Ce=5)}function dr(t,e,n){var r=G,i=Tt.transition;try{Tt.transition=null,G=1,pE(t,e,n,r)}finally{Tt.transition=i,G=r}return null}function pE(t,e,n,r){do gi();while(Vn!==null);if(H&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(YC(t,s),t===Ie&&(_e=Ie=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||il||(il=!0,s_(Ol,function(){return gi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Tt.transition,Tt.transition=null;var o=G;G=1;var l=H;H|=4,Mf.current=null,aE(t,n),q0(n,t),M1(Bc),Fl=!!zc,Bc=zc=null,t.current=n,uE(n),VC(),H=l,G=o,Tt.transition=s}else t.current=n;if(il&&(il=!1,Vn=t,Jl=i),s=t.pendingLanes,s===0&&(Hn=null),UC(n.stateNode),it(t,ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zl)throw Zl=!1,t=ld,ld=null,t;return Jl&1&&t.tag!==0&&gi(),s=t.pendingLanes,s&1?t===ad?bs++:(bs=0,ad=t):bs=0,or(),null}function gi(){if(Vn!==null){var t=Ly(Jl),e=Tt.transition,n=G;try{if(Tt.transition=null,G=16>t?16:t,Vn===null)var r=!1;else{if(t=Vn,Vn=null,Jl=0,H&6)throw Error(b(331));var i=H;for(H|=4,D=t.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Ts(8,d,s)}var c=d.child;if(c!==null)c.return=d,D=c;else for(;D!==null;){d=D;var f=d.sibling,h=d.return;if(G0(d),d===u){D=null;break}if(f!==null){f.return=h,D=f;break}D=h}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ts(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,D=p;break e}D=s.return}}var m=t.current;for(D=m;D!==null;){o=D;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,D=g;else e:for(o=m;D!==null;){if(l=D,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ba(9,l)}}catch(C){pe(l,l.return,C)}if(l===o){D=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,D=x;break e}D=l.return}}if(H=i,or(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Aa,t)}catch{}r=!0}return r}finally{G=n,Tt.transition=e}}return!1}function km(t,e,n){e=bi(n,e),e=L0(t,e,1),t=$n(t,e,1),e=Ge(),t!==null&&(So(t,1,e),it(t,e))}function pe(t,e,n){if(t.tag===3)km(t,t,n);else for(;e!==null;){if(e.tag===3){km(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){t=bi(n,t),t=F0(e,t,1),e=$n(e,t,1),t=Ge(),e!==null&&(So(e,1,t),it(e,t));break}}e=e.return}}function mE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ge(),t.pingedLanes|=t.suspendedLanes&n,Ie===t&&(Oe&n)===n&&(Ce===4||Ce===3&&(Oe&130023424)===Oe&&500>ve()-Lf?Sr(t,0):Of|=n),it(t,e)}function r_(t,e){e===0&&(t.mode&1?(e=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):e=1);var n=Ge();t=vn(t,e),t!==null&&(So(t,e,n),it(t,n))}function gE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),r_(t,n)}function vE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),r_(t,n)}var i_;i_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)Je=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Je=!1,iE(t,e,n);Je=!!(t.flags&131072)}else Je=!1,oe&&e.flags&1048576&&a0(e,$l,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sl(t,e),t=e.pendingProps;var i=Ci(e,$e.current);mi(e,n),i=If(null,e,r,t,i,n);var s=Pf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rt(r)?(s=!0,Ul(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ef(e),i.updater=za,e.stateNode=i,i._reactInternals=e,qc(e,r,t,n),e=Jc(null,e,r,!0,s,n)):(e.tag=0,oe&&s&&vf(e),Ke(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_E(r),t=Pt(r,t),i){case 0:e=Zc(null,e,r,t,n);break e;case 1:e=gm(null,e,r,t,n);break e;case 11:e=pm(null,e,r,t,n);break e;case 14:e=mm(null,e,r,Pt(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),Zc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),gm(t,e,r,i,n);case 3:e:{if(B0(e),t===null)throw Error(b(387));r=e.pendingProps,s=e.memoizedState,i=s.element,p0(t,e),Gl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=bi(Error(b(423)),e),e=vm(t,e,r,n,i);break e}else if(r!==i){i=bi(Error(b(424)),e),e=vm(t,e,r,n,i);break e}else for(dt=Wn(e.stateNode.containerInfo.firstChild),ft=e,oe=!0,Dt=null,n=f0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ei(),r===i){e=yn(t,e,n);break e}Ke(t,e,r,n)}e=e.child}return e;case 5:return m0(e),t===null&&Gc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Uc(r,i)?o=null:s!==null&&Uc(r,s)&&(e.flags|=32),z0(t,e),Ke(t,e,o,n),e.child;case 6:return t===null&&Gc(e),null;case 13:return U0(t,e,n);case 4:return Tf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ti(e,null,r,n):Ke(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),pm(t,e,r,i,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ee(Hl,r._currentValue),r._currentValue=o,s!==null)if(Vt(s.value,o)){if(s.children===i.children&&!nt.current){e=yn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=dn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Yc(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Yc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ke(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mi(e,n),i=kt(i),r=r(i),e.flags|=1,Ke(t,e,r,n),e.child;case 14:return r=e.type,i=Pt(r,e.pendingProps),i=Pt(r.type,i),mm(t,e,r,i,n);case 15:return j0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),Sl(t,e),e.tag=1,rt(r)?(t=!0,Ul(e)):t=!1,mi(e,n),O0(e,r,i),qc(e,r,i,n),Jc(null,e,r,!0,t,n);case 19:return W0(t,e,n);case 22:return V0(t,e,n)}throw Error(b(156,e.tag))};function s_(t,e){return Dy(t,e)}function yE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,n,r){return new yE(t,e,n,r)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _E(t){if(typeof t=="function")return zf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sf)return 11;if(t===of)return 14}return 2}function Gn(t,e){var n=t.alternate;return n===null?(n=Et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")zf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gr:return Cr(n.children,i,s,e);case rf:o=8,i|=8;break;case wc:return t=Et(12,n,e,i|2),t.elementType=wc,t.lanes=s,t;case xc:return t=Et(13,n,e,i),t.elementType=xc,t.lanes=s,t;case Sc:return t=Et(19,n,e,i),t.elementType=Sc,t.lanes=s,t;case my:return Wa(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hy:o=10;break e;case py:o=9;break e;case sf:o=11;break e;case of:o=14;break e;case An:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=Et(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Cr(t,e,n,r){return t=Et(7,t,r,e),t.lanes=n,t}function Wa(t,e,n,r){return t=Et(22,t,r,e),t.elementType=my,t.lanes=n,t.stateNode={isHidden:!1},t}function Uu(t,e,n){return t=Et(6,t,null,e),t.lanes=n,t}function Wu(t,e,n){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cu(0),this.expirationTimes=Cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bf(t,e,n,r,i,s,o,l,a){return t=new wE(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Et(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ef(s),t}function xE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function o_(t){if(!t)return Zn;t=t._reactInternals;e:{if(Or(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(rt(n))return o0(t,n,e)}return e}function l_(t,e,n,r,i,s,o,l,a){return t=Bf(n,r,!0,t,i,s,o,l,a),t.context=o_(null),n=t.current,r=Ge(),i=Kn(n),s=dn(r,i),s.callback=e??null,$n(n,s,i),t.current.lanes=i,So(t,i,r),it(t,r),t}function $a(t,e,n,r){var i=e.current,s=Ge(),o=Kn(i);return n=o_(n),e.context===null?e.context=n:e.pendingContext=n,e=dn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$n(i,e,o),t!==null&&(Ft(t,i,o,s),_l(t,i,o)),o}function ta(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uf(t,e){bm(t,e),(t=t.alternate)&&bm(t,e)}function SE(){return null}var a_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wf(t){this._internalRoot=t}Ha.prototype.render=Wf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));$a(t,e,null,null)};Ha.prototype.unmount=Wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ir(function(){$a(null,t,null,null)}),e[gn]=null}};function Ha(t){this._internalRoot=t}Ha.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ln.length&&e!==0&&e<Ln[n].priority;n++);Ln.splice(n,0,t),n===0&&By(t)}};function $f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ka(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nm(){}function CE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ta(o);s.call(u)}}var o=l_(e,r,t,0,null,!1,!1,"",Nm);return t._reactRootContainer=o,t[gn]=o.current,Ys(t.nodeType===8?t.parentNode:t),Ir(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ta(a);l.call(u)}}var a=Bf(t,0,!1,null,null,!1,!1,"",Nm);return t._reactRootContainer=a,t[gn]=a.current,Ys(t.nodeType===8?t.parentNode:t),Ir(function(){$a(e,a,n,r)}),a}function Ga(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=ta(o);l.call(a)}}$a(e,o,t,i)}else o=CE(n,e,t,i,r);return ta(o)}Fy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ps(e.pendingLanes);n!==0&&(uf(e,n|1),it(e,ve()),!(H&6)&&(Ni=ve()+500,or()))}break;case 13:Ir(function(){var r=vn(t,1);if(r!==null){var i=Ge();Ft(r,t,1,i)}}),Uf(t,1)}};cf=function(t){if(t.tag===13){var e=vn(t,134217728);if(e!==null){var n=Ge();Ft(e,t,134217728,n)}Uf(t,134217728)}};jy=function(t){if(t.tag===13){var e=Kn(t),n=vn(t,e);if(n!==null){var r=Ge();Ft(n,t,e,r)}Uf(t,e)}};Vy=function(){return G};zy=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};Dc=function(t,e,n){switch(e){case"input":if(Tc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fa(r);if(!i)throw Error(b(90));vy(r),Tc(r,i)}}}break;case"textarea":_y(t,n);break;case"select":e=n.value,e!=null&&di(t,!!n.multiple,e,!1)}};ky=Ff;by=Ir;var EE={usingClientEntryPoint:!1,Events:[Eo,Xr,Fa,Ey,Ty,Ff]},os={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TE={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Py(t),t===null?null:t.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||SE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{Aa=sl.inject(TE),Qt=sl}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EE;gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$f(e))throw Error(b(200));return xE(t,e,null,n)};gt.createRoot=function(t,e){if(!$f(t))throw Error(b(299));var n=!1,r="",i=a_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Bf(t,1,!1,null,null,n,!1,r,i),t[gn]=e.current,Ys(t.nodeType===8?t.parentNode:t),new Wf(e)};gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Py(e),t=t===null?null:t.stateNode,t};gt.flushSync=function(t){return Ir(t)};gt.hydrate=function(t,e,n){if(!Ka(e))throw Error(b(200));return Ga(null,t,e,!0,n)};gt.hydrateRoot=function(t,e,n){if(!$f(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=a_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=l_(e,null,t,1,n??null,i,!1,s,o),t[gn]=e.current,Ys(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ha(e)};gt.render=function(t,e,n){if(!Ka(e))throw Error(b(200));return Ga(null,t,e,!1,n)};gt.unmountComponentAtNode=function(t){if(!Ka(t))throw Error(b(40));return t._reactRootContainer?(Ir(function(){Ga(null,null,t,!1,function(){t._reactRootContainer=null,t[gn]=null})}),!0):!1};gt.unstable_batchedUpdates=Ff;gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ka(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Ga(t,e,n,!1,r)};gt.version="18.3.1-next-f1338f8080-20240426";function u_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u_)}catch(t){console.error(t)}}u_(),uy.exports=gt;var ii=uy.exports,Im=ii;yc.createRoot=Im.createRoot,yc.hydrateRoot=Im.hydrateRoot;const c_=w.createContext({});function kE(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hf=w.createContext(null),d_=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function bE(t=!0){const e=w.useContext(Hf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=w.useId();w.useEffect(()=>{t&&i(s)},[t]);const o=w.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Kf=typeof window<"u",NE=Kf?w.useLayoutEffect:w.useEffect,ht=t=>t;let f_=ht;function Gf(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ii=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},fn=t=>t*1e3,hn=t=>t/1e3,IE={useManualTiming:!1};function PE(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(a.schedule(u),t()),u(o)}const a={schedule:(u,d=!1,c=!1)=>{const h=c&&r?e:n;return d&&s.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,i&&(i=!1,a.process(u))}};return a}const ol=["read","resolveKeyframes","update","preRender","render","postRender"],RE=40;function h_(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ol.reduce((p,m)=>(p[m]=PE(s),p),{}),{read:l,resolveKeyframes:a,update:u,preRender:d,render:c,postRender:f}=o,h=()=>{const p=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,RE),1),i.timestamp=p,i.isProcessing=!0,l.process(i),a.process(i),u.process(i),d.process(i),c.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(h))},v=()=>{n=!0,r=!0,i.isProcessing||t(h)};return{schedule:ol.reduce((p,m)=>{const g=o[m];return p[m]=(x,C=!1,T=!1)=>(n||v(),g.schedule(x,C,T)),p},{}),cancel:p=>{for(let m=0;m<ol.length;m++)o[ol[m]].cancel(p)},state:i,steps:o}}const{schedule:ie,cancel:Jn,state:Ae,steps:$u}=h_(typeof requestAnimationFrame<"u"?requestAnimationFrame:ht,!0),p_=w.createContext({strict:!1}),Pm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pi={};for(const t in Pm)Pi[t]={isEnabled:e=>Pm[t].some(n=>!!e[n])};function DE(t){for(const e in t)Pi[e]={...Pi[e],...t[e]}}const AE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function na(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AE.has(t)}let m_=t=>!na(t);function ME(t){t&&(m_=e=>e.startsWith("on")?!na(e):t(e))}try{ME(require("@emotion/is-prop-valid").default)}catch{}function OE(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(m_(i)||n===!0&&na(i)||!e&&!na(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function LE(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Ya=w.createContext({});function ro(t){return typeof t=="string"||Array.isArray(t)}function Qa(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Yf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qf=["initial",...Yf];function qa(t){return Qa(t.animate)||Qf.some(e=>ro(t[e]))}function g_(t){return!!(qa(t)||t.variants)}function FE(t,e){if(qa(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ro(n)?n:void 0,animate:ro(r)?r:void 0}}return t.inherit!==!1?e:{}}function jE(t){const{initial:e,animate:n}=FE(t,w.useContext(Ya));return w.useMemo(()=>({initial:e,animate:n}),[Rm(e),Rm(n)])}function Rm(t){return Array.isArray(t)?t.join(" "):t}const VE=Symbol.for("motionComponentSymbol");function si(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zE(t,e,n){return w.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):si(n)&&(n.current=r))},[e])}const qf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BE="framerAppearId",v_="data-"+qf(BE),{schedule:Xf}=h_(queueMicrotask,!1),y_=w.createContext({});function UE(t,e,n,r,i){var s,o;const{visualElement:l}=w.useContext(Ya),a=w.useContext(p_),u=w.useContext(Hf),d=w.useContext(d_).reducedMotion,c=w.useRef(null);r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=c.current,h=w.useContext(y_);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&WE(c.current,n,i,h);const v=w.useRef(!1);w.useInsertionEffect(()=>{f&&v.current&&f.update(n,u)});const y=n[v_],S=w.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return NE(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Xf.render(f.render),S.current&&f.animationState&&f.animationState.animateChanges())}),w.useEffect(()=>{f&&(!S.current&&f.animationState&&f.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,y)}),S.current=!1))}),f}function WE(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:a,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:__(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&si(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:u})}function __(t){if(t)return t.options.allowProjection!==!1?t.projection:__(t.parent)}function $E({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&DE(t);function l(u,d){let c;const f={...w.useContext(d_),...u,layoutId:HE(u)},{isStatic:h}=f,v=jE(u),y=r(u,h);if(!h&&Kf){KE();const S=GE(f);c=S.MeasureLayout,v.visualElement=UE(i,y,f,e,S.ProjectionNode)}return _.jsxs(Ya.Provider,{value:v,children:[c&&v.visualElement?_.jsx(c,{visualElement:v.visualElement,...f}):null,n(i,u,zE(y,v.visualElement,d),y,h,v.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const a=w.forwardRef(l);return a[VE]=i,a}function HE({layoutId:t}){const e=w.useContext(c_).id;return e&&t!==void 0?e+"-"+t:t}function KE(t,e){w.useContext(p_).strict}function GE(t){const{drag:e,layout:n}=Pi;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const YE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zf(t){return typeof t!="string"||t.includes("-")?!1:!!(YE.indexOf(t)>-1||/[A-Z]/u.test(t))}function Dm(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Jf(t,e,n,r){if(typeof e=="function"){const[i,s]=Dm(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Dm(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const dd=t=>Array.isArray(t),QE=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),qE=t=>dd(t)?t[t.length-1]||0:t,We=t=>!!(t&&t.getVelocity);function kl(t){const e=We(t)?t.get():t;return QE(e)?e.toValue():e}function XE({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:ZE(r,i,s,t),renderState:e()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const w_=t=>(e,n)=>{const r=w.useContext(Ya),i=w.useContext(Hf),s=()=>XE(t,e,r,i);return n?s():kE(s)};function ZE(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=kl(s[f]);let{initial:o,animate:l}=t;const a=qa(t),u=g_(t);e&&u&&!a&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const c=d?l:o;if(c&&typeof c!="boolean"&&!Qa(c)){const f=Array.isArray(c)?c:[c];for(let h=0;h<f.length;h++){const v=Jf(t,f[h]);if(v){const{transitionEnd:y,transition:S,...p}=v;for(const m in p){let g=p[m];if(Array.isArray(g)){const x=d?g.length-1:0;g=g[x]}g!==null&&(i[m]=g)}for(const m in y)i[m]=y[m]}}}return i}const Vi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lr=new Set(Vi),x_=t=>e=>typeof e=="string"&&e.startsWith(t),S_=x_("--"),JE=x_("var(--"),eh=t=>JE(t)?eT.test(t.split("/*")[0].trim()):!1,eT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,C_=(t,e)=>e&&typeof t=="number"?e.transform(t):t,_n=(t,e,n)=>n>e?e:n<t?t:n,zi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},io={...zi,transform:t=>_n(0,1,t)},ll={...zi,default:1},ko=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Dn=ko("deg"),Xt=ko("%"),M=ko("px"),tT=ko("vh"),nT=ko("vw"),Am={...Xt,parse:t=>Xt.parse(t)/100,transform:t=>Xt.transform(t*100)},rT={borderWidth:M,borderTopWidth:M,borderRightWidth:M,borderBottomWidth:M,borderLeftWidth:M,borderRadius:M,radius:M,borderTopLeftRadius:M,borderTopRightRadius:M,borderBottomRightRadius:M,borderBottomLeftRadius:M,width:M,maxWidth:M,height:M,maxHeight:M,top:M,right:M,bottom:M,left:M,padding:M,paddingTop:M,paddingRight:M,paddingBottom:M,paddingLeft:M,margin:M,marginTop:M,marginRight:M,marginBottom:M,marginLeft:M,backgroundPositionX:M,backgroundPositionY:M},iT={rotate:Dn,rotateX:Dn,rotateY:Dn,rotateZ:Dn,scale:ll,scaleX:ll,scaleY:ll,scaleZ:ll,skew:Dn,skewX:Dn,skewY:Dn,distance:M,translateX:M,translateY:M,translateZ:M,x:M,y:M,z:M,perspective:M,transformPerspective:M,opacity:io,originX:Am,originY:Am,originZ:M},Mm={...zi,transform:Math.round},th={...rT,...iT,zIndex:Mm,size:M,fillOpacity:io,strokeOpacity:io,numOctaves:Mm},sT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oT=Vi.length;function lT(t,e,n){let r="",i=!0;for(let s=0;s<oT;s++){const o=Vi[s],l=t[o];if(l===void 0)continue;let a=!0;if(typeof l=="number"?a=l===(o.startsWith("scale")?1:0):a=parseFloat(l)===0,!a||n){const u=C_(l,th[o]);if(!a){i=!1;const d=sT[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function nh(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const a in e){const u=e[a];if(Lr.has(a)){o=!0;continue}else if(S_(a)){i[a]=u;continue}else{const d=C_(u,th[a]);a.startsWith("origin")?(l=!0,s[a]=d):r[a]=d}}if(e.transform||(o||n?r.transform=lT(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:a="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${a} ${u} ${d}`}}const aT={offset:"stroke-dashoffset",array:"stroke-dasharray"},uT={offset:"strokeDashoffset",array:"strokeDasharray"};function cT(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?aT:uT;t[s.offset]=M.transform(-r);const o=M.transform(e),l=M.transform(n);t[s.array]=`${o} ${l}`}function Om(t,e,n){return typeof t=="string"?t:M.transform(e+n*t)}function dT(t,e,n){const r=Om(e,t.x,t.width),i=Om(n,t.y,t.height);return`${r} ${i}`}function rh(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:a=0,...u},d,c){if(nh(t,u,c),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h,dimensions:v}=t;f.transform&&(v&&(h.transform=f.transform),delete f.transform),v&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=dT(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&cT(f,o,l,a,!1)}const ih=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),E_=()=>({...ih(),attrs:{}}),sh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function T_(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const k_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b_(t,e,n,r){T_(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(k_.has(i)?i:qf(i),e.attrs[i])}const ra={};function fT(t){Object.assign(ra,t)}function N_(t,{layout:e,layoutId:n}){return Lr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ra[t]||t==="opacity")}function oh(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(We(i[o])||e.style&&We(e.style[o])||N_(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function I_(t,e,n){const r=oh(t,e,n);for(const i in t)if(We(t[i])||We(e[i])){const s=Vi.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function hT(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Lm=["x","y","width","height","cx","cy","r"],pT={useVisualState:w_({scrapeMotionValuesFromProps:I_,createRenderState:E_,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const l in i)if(Lr.has(l)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let l=0;l<Lm.length;l++){const a=Lm[l];t[a]!==e[a]&&(o=!0)}o&&ie.read(()=>{hT(n,r),ie.render(()=>{rh(r,i,sh(n.tagName),t.transformTemplate),b_(n,r)})})}})},mT={useVisualState:w_({scrapeMotionValuesFromProps:oh,createRenderState:ih})};function P_(t,e,n){for(const r in e)!We(e[r])&&!N_(r,n)&&(t[r]=e[r])}function gT({transformTemplate:t},e){return w.useMemo(()=>{const n=ih();return nh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function vT(t,e){const n=t.style||{},r={};return P_(r,n,t),Object.assign(r,gT(t,e)),r}function yT(t,e){const n={},r=vT(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function _T(t,e,n,r){const i=w.useMemo(()=>{const s=E_();return rh(s,e,sh(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};P_(s,t.style,t),i.style={...s,...i.style}}return i}function wT(t=!1){return(n,r,i,{latestValues:s},o)=>{const a=(Zf(n)?_T:yT)(r,s,o,n),u=OE(r,typeof n=="string",t),d=n!==w.Fragment?{...u,...a,ref:i}:{},{children:c}=r,f=w.useMemo(()=>We(c)?c.get():c,[c]);return w.createElement(n,{...d,children:f})}}function xT(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Zf(r)?pT:mT,preloadedFeatures:t,useRender:wT(i),createVisualElement:e,Component:r};return $E(o)}}function R_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Xa(t,e,n){const r=t.getProps();return Jf(r,e,n!==void 0?n:r.custom,t)}const ST=Gf(()=>window.ScrollTimeline!==void 0);class CT{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(ST()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ET extends CT{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function lh(t,e){return t?t[e]||t.default||t:void 0}const fd=2e4;function D_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fd;)e+=n,r=t.next(e);return e>=fd?1/0:e}function ah(t){return typeof t=="function"}function Fm(t,e){t.timeline=e,t.onfinish=null}const uh=t=>Array.isArray(t)&&typeof t[0]=="number",TT={linearEasing:void 0};function kT(t,e){const n=Gf(t);return()=>{var r;return(r=TT[e])!==null&&r!==void 0?r:n()}}const ia=kT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),A_=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Ii(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function M_(t){return!!(typeof t=="function"&&ia()||!t||typeof t=="string"&&(t in hd||ia())||uh(t)||Array.isArray(t)&&t.every(M_))}const gs=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,hd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gs([0,.65,.55,1]),circOut:gs([.55,0,1,.45]),backIn:gs([.31,.01,.66,-.59]),backOut:gs([.33,1.53,.69,.99])};function O_(t,e){if(t)return typeof t=="function"&&ia()?A_(t,e):uh(t)?gs(t):Array.isArray(t)?t.map(n=>O_(n,e)||hd.easeOut):hd[t]}const It={x:!1,y:!1};function L_(){return It.x||It.y}function bT(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function F_(t,e){const n=bT(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function jm(t){return e=>{e.pointerType==="touch"||L_()||t(e)}}function NT(t,e,n={}){const[r,i,s]=F_(t,n),o=jm(l=>{const{target:a}=l,u=e(l);if(typeof u!="function"||!a)return;const d=jm(c=>{u(c),a.removeEventListener("pointerleave",d)});a.addEventListener("pointerleave",d,i)});return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const j_=(t,e)=>e?t===e?!0:j_(t,e.parentElement):!1,ch=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,IT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PT(t){return IT.has(t.tagName)||t.tabIndex!==-1}const vs=new WeakSet;function Vm(t){return e=>{e.key==="Enter"&&t(e)}}function Hu(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const RT=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Vm(()=>{if(vs.has(n))return;Hu(n,"down");const i=Vm(()=>{Hu(n,"up")}),s=()=>Hu(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function zm(t){return ch(t)&&!L_()}function DT(t,e,n={}){const[r,i,s]=F_(t,n),o=l=>{const a=l.currentTarget;if(!zm(l)||vs.has(a))return;vs.add(a);const u=e(l),d=(h,v)=>{window.removeEventListener("pointerup",c),window.removeEventListener("pointercancel",f),!(!zm(h)||!vs.has(a))&&(vs.delete(a),typeof u=="function"&&u(h,{success:v}))},c=h=>{d(h,n.useGlobalTarget||j_(a,h.target))},f=h=>{d(h,!1)};window.addEventListener("pointerup",c,i),window.addEventListener("pointercancel",f,i)};return r.forEach(l=>{!PT(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>RT(u,i),i)}),s}function AT(t){return t==="x"||t==="y"?It[t]?null:(It[t]=!0,()=>{It[t]=!1}):It.x||It.y?null:(It.x=It.y=!0,()=>{It.x=It.y=!1})}const V_=new Set(["width","height","top","left","right","bottom",...Vi]);let bl;function MT(){bl=void 0}const Zt={now:()=>(bl===void 0&&Zt.set(Ae.isProcessing||IE.useManualTiming?Ae.timestamp:performance.now()),bl),set:t=>{bl=t,queueMicrotask(MT)}};function dh(t,e){t.indexOf(e)===-1&&t.push(e)}function fh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hh{constructor(){this.subscriptions=[]}add(e){return dh(this.subscriptions,e),()=>fh(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function z_(t,e){return e?t*(1e3/e):0}const Bm=30,OT=t=>!isNaN(parseFloat(t));class LT{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Zt.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=OT(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hh);const r=this.events[e].add(n);return e==="change"?()=>{r(),ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Bm);return z_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function so(t,e){return new LT(t,e)}function FT(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,so(n))}function jT(t,e){const n=Xa(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=qE(s[o]);FT(t,o,l)}}function VT(t){return!!(We(t)&&t.add)}function pd(t,e){const n=t.getValue("willChange");if(VT(n))return n.add(e)}function B_(t){return t.props[v_]}const U_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zT=1e-7,BT=12;function UT(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=U_(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>zT&&++l<BT);return o}function bo(t,e,n,r){if(t===e&&n===r)return ht;const i=s=>UT(s,0,1,t,n);return s=>s===0||s===1?s:U_(i(s),e,r)}const W_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$_=t=>e=>1-t(1-e),H_=bo(.33,1.53,.69,.99),ph=$_(H_),K_=W_(ph),G_=t=>(t*=2)<1?.5*ph(t):.5*(2-Math.pow(2,-10*(t-1))),mh=t=>1-Math.sin(Math.acos(t)),Y_=$_(mh),Q_=W_(mh),q_=t=>/^0[^.\s]+$/u.test(t);function WT(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||q_(t):!0}const Ns=t=>Math.round(t*1e5)/1e5,gh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $T(t){return t==null}const HT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vh=(t,e)=>n=>!!(typeof n=="string"&&HT.test(n)&&n.startsWith(t)||e&&!$T(n)&&Object.prototype.hasOwnProperty.call(n,e)),X_=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(gh);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},KT=t=>_n(0,255,t),Ku={...zi,transform:t=>Math.round(KT(t))},_r={test:vh("rgb","red"),parse:X_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ku.transform(t)+", "+Ku.transform(e)+", "+Ku.transform(n)+", "+Ns(io.transform(r))+")"};function GT(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const md={test:vh("#"),parse:GT,transform:_r.transform},oi={test:vh("hsl","hue"),parse:X_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xt.transform(Ns(e))+", "+Xt.transform(Ns(n))+", "+Ns(io.transform(r))+")"},ze={test:t=>_r.test(t)||md.test(t)||oi.test(t),parse:t=>_r.test(t)?_r.parse(t):oi.test(t)?oi.parse(t):md.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_r.transform(t):oi.transform(t)},YT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function QT(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(gh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(YT))===null||n===void 0?void 0:n.length)||0)>0}const Z_="number",J_="color",qT="var",XT="var(",Um="${}",ZT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oo(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(ZT,a=>(ze.test(a)?(r.color.push(s),i.push(J_),n.push(ze.parse(a))):a.startsWith(XT)?(r.var.push(s),i.push(qT),n.push(a)):(r.number.push(s),i.push(Z_),n.push(parseFloat(a))),++s,Um)).split(Um);return{values:n,split:l,indexes:r,types:i}}function ew(t){return oo(t).values}function tw(t){const{split:e,types:n}=oo(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===Z_?s+=Ns(i[o]):l===J_?s+=ze.transform(i[o]):s+=i[o]}return s}}const JT=t=>typeof t=="number"?0:t;function ek(t){const e=ew(t);return tw(t)(e.map(JT))}const er={test:QT,parse:ew,createTransformer:tw,getAnimatableNone:ek},tk=new Set(["brightness","contrast","saturate","opacity"]);function nk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gh)||[];if(!r)return t;const i=n.replace(r,"");let s=tk.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const rk=/\b([a-z-]*)\(.*?\)/gu,gd={...er,getAnimatableNone:t=>{const e=t.match(rk);return e?e.map(nk).join(" "):t}},ik={...th,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:gd,WebkitFilter:gd},yh=t=>ik[t];function nw(t,e){let n=yh(t);return n!==gd&&(n=er),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sk=new Set(["auto","none","0"]);function ok(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!sk.has(s)&&oo(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=nw(n,i)}const Wm=t=>t===zi||t===M,$m=(t,e)=>parseFloat(t.split(", ")[e]),Hm=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return $m(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?$m(s[1],t):0}},lk=new Set(["x","y","z"]),ak=Vi.filter(t=>!lk.has(t));function uk(t){const e=[];return ak.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ri={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Hm(4,13),y:Hm(5,14)};Ri.translateX=Ri.x;Ri.translateY=Ri.y;const Er=new Set;let vd=!1,yd=!1;function rw(){if(yd){const t=Array.from(Er).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=uk(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}yd=!1,vd=!1,Er.forEach(t=>t.complete()),Er.clear()}function iw(){Er.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yd=!0)})}function ck(){iw(),rw()}class _h{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Er.add(this),vd||(vd=!0,ie.read(iw),ie.resolveKeyframes(rw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const a=r.readValue(n,l);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Er.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Er.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),dk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fk(t){const e=dk.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function ow(t,e,n=1){const[r,i]=fk(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return sw(o)?parseFloat(o):o}return eh(i)?ow(i,e,n+1):i}const lw=t=>e=>e.test(t),hk={test:t=>t==="auto",parse:t=>t},aw=[zi,M,Xt,Dn,nT,tT,hk],Km=t=>aw.find(lw(t));class uw extends _h{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="string"&&(u=u.trim(),eh(u))){const d=ow(u,n.current);d!==void 0&&(e[a]=d),a===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!V_.has(r)||e.length!==2)return;const[i,s]=e,o=Km(i),l=Km(s);if(o!==l)if(Wm(o)&&Wm(l))for(let a=0;a<e.length;a++){const u=e[a];typeof u=="string"&&(e[a]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)WT(e[i])&&r.push(i);r.length&&ok(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ri[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Ri[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([a,u])=>{n.getValue(a).set(u)}),this.resolveNoneKeyframes()}}const Gm=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(er.test(t)||t==="0")&&!t.startsWith("url("));function pk(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mk(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Gm(i,e),l=Gm(s,e);return!o||!l?!1:pk(t)||(n==="spring"||ah(n))&&r}const gk=t=>t!==null;function Za(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(gk),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const vk=40;class cw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Zt.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>vk?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ck(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Zt.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:l,onUpdate:a,isGenerator:u}=this.options;if(!u&&!mk(e,r,i,s))if(o)this.options.duration=0;else{a&&a(Za(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ue=(t,e,n)=>t+(e-t)*n;function Gu(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yk({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,a=2*n-l;i=Gu(a,l,t+1/3),s=Gu(a,l,t),o=Gu(a,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function sa(t,e){return n=>n>0?e:t}const Yu=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},_k=[md,_r,oi],wk=t=>_k.find(e=>e.test(t));function Ym(t){const e=wk(t);if(!e)return!1;let n=e.parse(t);return e===oi&&(n=yk(n)),n}const Qm=(t,e)=>{const n=Ym(t),r=Ym(e);if(!n||!r)return sa(t,e);const i={...n};return s=>(i.red=Yu(n.red,r.red,s),i.green=Yu(n.green,r.green,s),i.blue=Yu(n.blue,r.blue,s),i.alpha=ue(n.alpha,r.alpha,s),_r.transform(i))},xk=(t,e)=>n=>e(t(n)),No=(...t)=>t.reduce(xk),_d=new Set(["none","hidden"]);function Sk(t,e){return _d.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ck(t,e){return n=>ue(t,e,n)}function wh(t){return typeof t=="number"?Ck:typeof t=="string"?eh(t)?sa:ze.test(t)?Qm:kk:Array.isArray(t)?dw:typeof t=="object"?ze.test(t)?Qm:Ek:sa}function dw(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>wh(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Ek(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=wh(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Tk(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][i[o]],a=(n=t.values[l])!==null&&n!==void 0?n:0;r[s]=a,i[o]++}return r}const kk=(t,e)=>{const n=er.createTransformer(e),r=oo(t),i=oo(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?_d.has(t)&&!i.values.length||_d.has(e)&&!r.values.length?Sk(t,e):No(dw(Tk(r,i),i.values),n):sa(t,e)};function fw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ue(t,e,n):wh(t)(t,e)}const bk=5;function hw(t,e,n){const r=Math.max(e-bk,0);return z_(n-t(r),e-r)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qu=.001;function Nk({duration:t=he.duration,bounce:e=he.bounce,velocity:n=he.velocity,mass:r=he.mass}){let i,s,o=1-e;o=_n(he.minDamping,he.maxDamping,o),t=_n(he.minDuration,he.maxDuration,hn(t)),o<1?(i=u=>{const d=u*o,c=d*t,f=d-n,h=wd(u,o),v=Math.exp(-c);return Qu-f/h*v},s=u=>{const c=u*o*t,f=c*n+n,h=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-c),y=wd(Math.pow(u,2),o);return(-i(u)+Qu>0?-1:1)*((f-h)*v)/y}):(i=u=>{const d=Math.exp(-u*t),c=(u-n)*t+1;return-Qu+d*c},s=u=>{const d=Math.exp(-u*t),c=(n-u)*(t*t);return d*c});const l=5/t,a=Pk(i,s,l);if(t=fn(t),isNaN(a))return{stiffness:he.stiffness,damping:he.damping,duration:t};{const u=Math.pow(a,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const Ik=12;function Pk(t,e,n){let r=n;for(let i=1;i<Ik;i++)r=r-t(r)/e(r);return r}function wd(t,e){return t*Math.sqrt(1-e*e)}const Rk=["duration","bounce"],Dk=["stiffness","damping","mass"];function qm(t,e){return e.some(n=>t[n]!==void 0)}function Ak(t){let e={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...t};if(!qm(t,Dk)&&qm(t,Rk))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*_n(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:he.mass,stiffness:i,damping:s}}else{const n=Nk(t);e={...e,...n,mass:he.mass},e.isResolvedFromDuration=!0}return e}function pw(t=he.visualDuration,e=he.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:a,damping:u,mass:d,duration:c,velocity:f,isResolvedFromDuration:h}=Ak({...n,velocity:-hn(n.velocity||0)}),v=f||0,y=u/(2*Math.sqrt(a*d)),S=o-s,p=hn(Math.sqrt(a/d)),m=Math.abs(S)<5;r||(r=m?he.restSpeed.granular:he.restSpeed.default),i||(i=m?he.restDelta.granular:he.restDelta.default);let g;if(y<1){const C=wd(p,y);g=T=>{const k=Math.exp(-y*p*T);return o-k*((v+y*p*S)/C*Math.sin(C*T)+S*Math.cos(C*T))}}else if(y===1)g=C=>o-Math.exp(-p*C)*(S+(v+p*S)*C);else{const C=p*Math.sqrt(y*y-1);g=T=>{const k=Math.exp(-y*p*T),E=Math.min(C*T,300);return o-k*((v+y*p*S)*Math.sinh(E)+C*S*Math.cosh(E))/C}}const x={calculatedDuration:h&&c||null,next:C=>{const T=g(C);if(h)l.done=C>=c;else{let k=0;y<1&&(k=C===0?fn(v):hw(g,C,T));const E=Math.abs(k)<=r,R=Math.abs(o-T)<=i;l.done=E&&R}return l.value=l.done?o:T,l},toString:()=>{const C=Math.min(D_(x),fd),T=A_(k=>x.next(C*k).value,C,30);return C+"ms "+T}};return x}function Xm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:a,restDelta:u=.5,restSpeed:d}){const c=t[0],f={done:!1,value:c},h=E=>l!==void 0&&E<l||a!==void 0&&E>a,v=E=>l===void 0?a:a===void 0||Math.abs(l-E)<Math.abs(a-E)?l:a;let y=n*e;const S=c+y,p=o===void 0?S:o(S);p!==S&&(y=p-c);const m=E=>-y*Math.exp(-E/r),g=E=>p+m(E),x=E=>{const R=m(E),I=g(E);f.done=Math.abs(R)<=u,f.value=f.done?p:I};let C,T;const k=E=>{h(f.value)&&(C=E,T=pw({keyframes:[f.value,v(f.value)],velocity:hw(g,E,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:E=>{let R=!1;return!T&&C===void 0&&(R=!0,x(E),k(E)),C!==void 0&&E>=C?T.next(E-C):(!R&&x(E),f)}}}const Mk=bo(.42,0,1,1),Ok=bo(0,0,.58,1),mw=bo(.42,0,.58,1),Lk=t=>Array.isArray(t)&&typeof t[0]!="number",Fk={linear:ht,easeIn:Mk,easeInOut:mw,easeOut:Ok,circIn:mh,circInOut:Q_,circOut:Y_,backIn:ph,backInOut:K_,backOut:H_,anticipate:G_},Zm=t=>{if(uh(t)){f_(t.length===4);const[e,n,r,i]=t;return bo(e,n,r,i)}else if(typeof t=="string")return Fk[t];return t};function jk(t,e,n){const r=[],i=n||fw,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const a=Array.isArray(e)?e[o]||ht:e;l=No(a,l)}r.push(l)}return r}function Vk(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(f_(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=jk(e,r,i),a=l.length,u=d=>{if(o&&d<t[0])return e[0];let c=0;if(a>1)for(;c<t.length-2&&!(d<t[c+1]);c++);const f=Ii(t[c],t[c+1],d);return l[c](f)};return n?d=>u(_n(t[0],t[s-1],d)):u}function zk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ii(0,e,r);t.push(ue(n,1,i))}}function Bk(t){const e=[0];return zk(e,t.length-1),e}function Uk(t,e){return t.map(n=>n*e)}function Wk(t,e){return t.map(()=>e||mw).splice(0,t.length-1)}function oa({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Lk(r)?r.map(Zm):Zm(r),s={done:!1,value:e[0]},o=Uk(n&&n.length===e.length?n:Bk(e),t),l=Vk(o,e,{ease:Array.isArray(i)?i:Wk(e,i)});return{calculatedDuration:t,next:a=>(s.value=l(a),s.done=a>=t,s)}}const $k=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ie.update(e,!0),stop:()=>Jn(e),now:()=>Ae.isProcessing?Ae.timestamp:Zt.now()}},Hk={decay:Xm,inertia:Xm,tween:oa,keyframes:oa,spring:pw},Kk=t=>t/100;class xh extends cw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||_h,l=(a,u)=>this.onKeyframesResolved(a,u);this.resolver=new o(s,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,l=ah(n)?n:Hk[n]||oa;let a,u;l!==oa&&typeof e[0]!="number"&&(a=No(Kk,fw(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});s==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=D_(d));const{calculatedDuration:c}=d,f=c+i,h=f*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:a,calculatedDuration:c,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:a,calculatedDuration:u,totalDuration:d,resolvedDuration:c}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:h,repeatType:v,repeatDelay:y,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const p=this.currentTime-f*(this.speed>=0?1:-1),m=this.speed>=0?p<0:p>d;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let g=this.currentTime,x=s;if(h){const E=Math.min(this.currentTime,d)/c;let R=Math.floor(E),I=E%1;!I&&E>=1&&(I=1),I===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(v==="reverse"?(I=1-I,y&&(I-=y/c)):v==="mirror"&&(x=o)),g=_n(0,1,I)*c}const C=m?{done:!1,value:a[0]}:x.next(g);l&&(C.value=l(C.value));let{done:T}=C;!m&&u!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return k&&i!==void 0&&(C.value=Za(a,this.options,i)),S&&S(C.value),k&&this.finish(),C}get duration(){const{resolved:e}=this;return e?hn(e.calculatedDuration):0}get time(){return hn(this.currentTime)}set time(e){e=fn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=$k,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Gk=new Set(["opacity","clipPath","filter","transform"]);function Yk(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:a}={}){const u={[e]:n};a&&(u.offset=a);const d=O_(l,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Qk=Gf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),la=10,qk=2e4;function Xk(t){return ah(t.type)||t.type==="spring"||!M_(t.ease)}function Zk(t,e){const n=new xh({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<qk;)r=n.sample(s),i.push(r.value),s+=la;return{times:void 0,keyframes:i,duration:s-la,ease:"linear"}}const gw={anticipate:G_,backInOut:K_,circInOut:Q_};function Jk(t){return t in gw}class Jm extends cw{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new uw(s,(o,l)=>this.onKeyframesResolved(o,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:l,name:a,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&ia()&&Jk(s)&&(s=gw[s]),Xk(this.options)){const{onComplete:c,onUpdate:f,motionValue:h,element:v,...y}=this.options,S=Zk(e,y);e=S.keyframes,e.length===1&&(e[1]=e[0]),r=S.duration,i=S.times,s=S.ease,o="keyframes"}const d=Yk(l.owner.current,a,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Fm(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:c}=this.options;l.set(Za(e,this.options,n)),c&&c(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return hn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return hn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=fn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ht;const{animation:r}=n;Fm(r,e)}return ht}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:c,element:f,...h}=this.options,v=new xh({...h,keyframes:r,duration:i,type:s,ease:o,times:l,isGenerator:!0}),y=fn(this.time);u.setWithVelocity(v.sample(y-la).value,v.sample(y).value,la)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:u}=n.owner.getProps();return Qk()&&r&&Gk.has(r)&&!a&&!u&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}}const eb={type:"spring",stiffness:500,damping:25,restSpeed:10},tb=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nb={type:"keyframes",duration:.8},rb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ib=(t,{keyframes:e})=>e.length>2?nb:Lr.has(t)?t.startsWith("scale")?tb(e[1]):eb:rb;function sb({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:a,elapsed:u,...d}){return!!Object.keys(d).length}const Sh=(t,e,n,r={},i,s)=>o=>{const l=lh(r,t)||{},a=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-fn(a);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};sb(l)||(d={...d,...ib(t,d)}),d.duration&&(d.duration=fn(d.duration)),d.repeatDelay&&(d.repeatDelay=fn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let c=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(c=!0)),c&&!s&&e.get()!==void 0){const f=Za(d.keyframes,l);if(f!==void 0)return ie.update(()=>{d.onUpdate(f),d.onComplete()}),new ET([])}return!s&&Jm.supports(d)?new Jm(d):new xh(d)};function ob({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function vw(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...a}=e;r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const f=t.getValue(c,(s=t.latestValues[c])!==null&&s!==void 0?s:null),h=a[c];if(h===void 0||d&&ob(d,c))continue;const v={delay:n,...lh(o||{},c)};let y=!1;if(window.MotionHandoffAnimation){const p=B_(t);if(p){const m=window.MotionHandoffAnimation(p,c,ie);m!==null&&(v.startTime=m,y=!0)}}pd(t,c),f.start(Sh(c,f,h,t.shouldReduceMotion&&V_.has(c)?{type:!1}:v,t,y));const S=f.animation;S&&u.push(S)}return l&&Promise.all(u).then(()=>{ie.update(()=>{l&&jT(t,l)})}),u}function xd(t,e,n={}){var r;const i=Xa(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(vw(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:c,staggerDirection:f}=s;return lb(t,e,d+u,c,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,d]=a==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function lb(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,a=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(ab).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(xd(u,e,{...s,delay:n+a(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function ab(t,e){return t.sortNodePosition(e)}function ub(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>xd(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=xd(t,e,n);else{const i=typeof e=="function"?Xa(t,e,n.custom):e;r=Promise.all(vw(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const cb=Qf.length;function yw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?yw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cb;n++){const r=Qf[n],i=t.props[r];(ro(i)||i===!1)&&(e[r]=i)}return e}const db=[...Yf].reverse(),fb=Yf.length;function hb(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ub(t,n,r)))}function pb(t){let e=hb(t),n=eg(),r=!0;const i=a=>(u,d)=>{var c;const f=Xa(t,d,a==="exit"?(c=t.presenceContext)===null||c===void 0?void 0:c.custom:void 0);if(f){const{transition:h,transitionEnd:v,...y}=f;u={...u,...y,...v}}return u};function s(a){e=a(t)}function o(a){const{props:u}=t,d=yw(t.parent)||{},c=[],f=new Set;let h={},v=1/0;for(let S=0;S<fb;S++){const p=db[S],m=n[p],g=u[p]!==void 0?u[p]:d[p],x=ro(g),C=p===a?m.isActive:null;C===!1&&(v=S);let T=g===d[p]&&g!==u[p]&&x;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),m.protectedKeys={...h},!m.isActive&&C===null||!g&&!m.prevProp||Qa(g)||typeof g=="boolean")continue;const k=mb(m.prevProp,g);let E=k||p===a&&m.isActive&&!T&&x||S>v&&x,R=!1;const I=Array.isArray(g)?g:[g];let O=I.reduce(i(p),{});C===!1&&(O={});const{prevResolvedValues:le={}}=m,Q={...le,...O},Pe=W=>{E=!0,f.has(W)&&(R=!0,f.delete(W)),m.needsAnimating[W]=!0;const P=t.getValue(W);P&&(P.liveStyle=!1)};for(const W in Q){const P=O[W],A=le[W];if(h.hasOwnProperty(W))continue;let L=!1;dd(P)&&dd(A)?L=!R_(P,A):L=P!==A,L?P!=null?Pe(W):f.add(W):P!==void 0&&f.has(W)?Pe(W):m.protectedKeys[W]=!0}m.prevProp=g,m.prevResolvedValues=O,m.isActive&&(h={...h,...O}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(T&&k)||R)&&c.push(...I.map(W=>({animation:W,options:{type:p}})))}if(f.size){const S={};f.forEach(p=>{const m=t.getBaseTarget(p),g=t.getValue(p);g&&(g.liveStyle=!0),S[p]=m??null}),c.push({animation:S})}let y=!!c.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(c):Promise.resolve()}function l(a,u){var d;if(n[a].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(a,u)}),n[a].isActive=u;const c=o(a);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=eg(),r=!0}}}function mb(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!R_(e,t):!1}function ur(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eg(){return{animate:ur(!0),whileInView:ur(),whileHover:ur(),whileTap:ur(),whileDrag:ur(),whileFocus:ur(),exit:ur()}}class lr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gb extends lr{constructor(e){super(e),e.animationState||(e.animationState=pb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qa(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let vb=0;class yb extends lr{constructor(){super(...arguments),this.id=vb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _b={animation:{Feature:gb},exit:{Feature:yb}};function lo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Io(t){return{point:{x:t.pageX,y:t.pageY}}}const wb=t=>e=>ch(e)&&t(e,Io(e));function Is(t,e,n,r){return lo(t,e,wb(n),r)}const tg=(t,e)=>Math.abs(t-e);function xb(t,e){const n=tg(t.x,e.x),r=tg(t.y,e.y);return Math.sqrt(n**2+r**2)}class _w{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Xu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=xb(c.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:v}=c,{timestamp:y}=Ae;this.history.push({...v,timestamp:y});const{onStart:S,onMove:p}=this.handlers;f||(S&&S(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,c)},this.handlePointerMove=(c,f)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=qu(f,this.transformPagePoint),ie.update(this.updatePoint,!0)},this.handlePointerUp=(c,f)=>{this.end();const{onEnd:h,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Xu(c.type==="pointercancel"?this.lastMoveEventInfo:qu(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(c,S),v&&v(c,S)},!ch(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Io(e),l=qu(o,this.transformPagePoint),{point:a}=l,{timestamp:u}=Ae;this.history=[{...a,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Xu(l,this.history)),this.removeListeners=No(Is(this.contextWindow,"pointermove",this.handlePointerMove),Is(this.contextWindow,"pointerup",this.handlePointerUp),Is(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Jn(this.updatePoint)}}function qu(t,e){return e?{point:e(t.point)}:t}function ng(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xu({point:t},e){return{point:t,delta:ng(t,ww(e)),offset:ng(t,Sb(e)),velocity:Cb(e,.1)}}function Sb(t){return t[0]}function ww(t){return t[t.length-1]}function Cb(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ww(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>fn(e)));)n--;if(!r)return{x:0,y:0};const s=hn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const xw=1e-4,Eb=1-xw,Tb=1+xw,Sw=.01,kb=0-Sw,bb=0+Sw;function mt(t){return t.max-t.min}function Nb(t,e,n){return Math.abs(t-e)<=n}function rg(t,e,n,r=.5){t.origin=r,t.originPoint=ue(e.min,e.max,t.origin),t.scale=mt(n)/mt(e),t.translate=ue(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Eb&&t.scale<=Tb||isNaN(t.scale))&&(t.scale=1),(t.translate>=kb&&t.translate<=bb||isNaN(t.translate))&&(t.translate=0)}function Ps(t,e,n,r){rg(t.x,e.x,n.x,r?r.originX:void 0),rg(t.y,e.y,n.y,r?r.originY:void 0)}function ig(t,e,n){t.min=n.min+e.min,t.max=t.min+mt(e)}function Ib(t,e,n){ig(t.x,e.x,n.x),ig(t.y,e.y,n.y)}function sg(t,e,n){t.min=e.min-n.min,t.max=t.min+mt(e)}function Rs(t,e,n){sg(t.x,e.x,n.x),sg(t.y,e.y,n.y)}function Pb(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ue(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ue(n,t,r.max):Math.min(t,n)),t}function og(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Rb(t,{top:e,left:n,bottom:r,right:i}){return{x:og(t.x,n,i),y:og(t.y,e,r)}}function lg(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Db(t,e){return{x:lg(t.x,e.x),y:lg(t.y,e.y)}}function Ab(t,e){let n=.5;const r=mt(t),i=mt(e);return i>r?n=Ii(e.min,e.max-r,t.min):r>i&&(n=Ii(t.min,t.max-i,e.min)),_n(0,1,n)}function Mb(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sd=.35;function Ob(t=Sd){return t===!1?t=0:t===!0&&(t=Sd),{x:ag(t,"left","right"),y:ag(t,"top","bottom")}}function ag(t,e,n){return{min:ug(t,e),max:ug(t,n)}}function ug(t,e){return typeof t=="number"?t:t[e]||0}const cg=()=>({translate:0,scale:1,origin:0,originPoint:0}),li=()=>({x:cg(),y:cg()}),dg=()=>({min:0,max:0}),ge=()=>({x:dg(),y:dg()});function wt(t){return[t("x"),t("y")]}function Cw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Lb({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Fb(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zu(t){return t===void 0||t===1}function Cd({scale:t,scaleX:e,scaleY:n}){return!Zu(t)||!Zu(e)||!Zu(n)}function fr(t){return Cd(t)||Ew(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ew(t){return fg(t.x)||fg(t.y)}function fg(t){return t&&t!=="0%"}function aa(t,e,n){const r=t-n,i=e*r;return n+i}function hg(t,e,n,r,i){return i!==void 0&&(t=aa(t,i,r)),aa(t,n,r)+e}function Ed(t,e=0,n=1,r,i){t.min=hg(t.min,e,n,r,i),t.max=hg(t.max,e,n,r,i)}function Tw(t,{x:e,y:n}){Ed(t.x,e.translate,e.scale,e.originPoint),Ed(t.y,n.translate,n.scale,n.originPoint)}const pg=.999999999999,mg=1.0000000000001;function jb(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:a}=s.options;a&&a.props.style&&a.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ui(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Tw(t,o)),r&&fr(s.latestValues)&&ui(t,s.latestValues))}e.x<mg&&e.x>pg&&(e.x=1),e.y<mg&&e.y>pg&&(e.y=1)}function ai(t,e){t.min=t.min+e,t.max=t.max+e}function gg(t,e,n,r,i=.5){const s=ue(t.min,t.max,i);Ed(t,e,n,s,r)}function ui(t,e){gg(t.x,e.x,e.scaleX,e.scale,e.originX),gg(t.y,e.y,e.scaleY,e.scale,e.originY)}function kw(t,e){return Cw(Fb(t.getBoundingClientRect(),e))}function Vb(t,e,n){const r=kw(t,n),{scroll:i}=e;return i&&(ai(r.x,i.offset.x),ai(r.y,i.offset.y)),r}const bw=({current:t})=>t?t.ownerDocument.defaultView:null,zb=new WeakMap;class Bb{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:c}=this.getProps();c?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Io(d).point)},s=(d,c)=>{const{drag:f,dragPropagation:h,onDragStart:v}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AT(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wt(S=>{let p=this.getAxisMotionValue(S).get()||0;if(Xt.test(p)){const{projection:m}=this.visualElement;if(m&&m.layout){const g=m.layout.layoutBox[S];g&&(p=mt(g)*(parseFloat(p)/100))}}this.originPoint[S]=p}),v&&ie.postRender(()=>v(d,c)),pd(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,c)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:v,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:S}=c;if(h&&this.currentDirection===null){this.currentDirection=Ub(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",c.point,S),this.updateAxis("y",c.point,S),this.visualElement.render(),y&&y(d,c)},l=(d,c)=>this.stop(d,c),a=()=>wt(d=>{var c;return this.getAnimationState(d)==="paused"&&((c=this.getAxisMotionValue(d).animation)===null||c===void 0?void 0:c.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _w(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:bw(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ie.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!al(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Pb(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&si(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Rb(i.layoutBox,n):this.constraints=!1,this.elastic=Ob(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&wt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Mb(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!si(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Vb(r,i.root,this.visualElement.getTransformPagePoint());let o=Db(i.layout.layoutBox,s);if(n){const l=n(Lb(o));this.hasMutatedConstraints=!!l,l&&(o=Cw(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),a=this.constraints||{},u=wt(d=>{if(!al(d,n,this.currentDirection))return;let c=a&&a[d]||{};o&&(c={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...c};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return pd(this.visualElement,e),r.start(Sh(e,r,0,n,this.visualElement,!1))}stopAnimation(){wt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){wt(n=>{const{drag:r}=this.getProps();if(!al(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-ue(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!si(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const a=l.get();i[o]=Ab({min:a,max:a},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wt(o=>{if(!al(o,e,null))return;const l=this.getAxisMotionValue(o),{min:a,max:u}=this.constraints[o];l.set(ue(a,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;zb.set(this.visualElement,this);const e=this.visualElement.current,n=Is(e,"pointerdown",a=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(a)}),r=()=>{const{dragConstraints:a}=this.getProps();si(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ie.read(r);const o=lo(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:a,hasLayoutChanged:u})=>{this.isDragging&&u&&(wt(d=>{const c=this.getAxisMotionValue(d);c&&(this.originPoint[d]+=a[d].translate,c.set(c.get()+a[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Sd,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function al(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ub(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Wb extends lr{constructor(e){super(e),this.removeGroupControls=ht,this.removeListeners=ht,this.controls=new Bb(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ht}unmount(){this.removeGroupControls(),this.removeListeners()}}const vg=t=>(e,n)=>{t&&ie.postRender(()=>t(e,n))};class $b extends lr{constructor(){super(...arguments),this.removePointerDownListener=ht}onPointerDown(e){this.session=new _w(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vg(e),onStart:vg(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ie.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Is(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ls={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(M.test(t))t=parseFloat(t);else return t;const n=yg(t,e.target.x),r=yg(t,e.target.y);return`${n}% ${r}%`}},Hb={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=er.parse(t);if(i.length>5)return r;const s=er.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,a=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=a;const u=ue(l,a,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Kb extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;fT(Gb),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ie.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Nw(t){const[e,n]=bE(),r=w.useContext(c_);return _.jsx(Kb,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(y_),isPresent:e,safeToRemove:n})}const Gb={borderRadius:{...ls,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ls,borderTopRightRadius:ls,borderBottomLeftRadius:ls,borderBottomRightRadius:ls,boxShadow:Hb};function Yb(t,e,n){const r=We(t)?t:so(t);return r.start(Sh("",r,e,n)),r.animation}function Qb(t){return t instanceof SVGElement&&t.tagName!=="svg"}const qb=(t,e)=>t.depth-e.depth;class Xb{constructor(){this.children=[],this.isDirty=!1}add(e){dh(this.children,e),this.isDirty=!0}remove(e){fh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qb),this.isDirty=!1,this.children.forEach(e)}}function Zb(t,e){const n=Zt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Jn(r),t(s-e))};return ie.read(r,!0),()=>Jn(r)}const Iw=["TopLeft","TopRight","BottomLeft","BottomRight"],Jb=Iw.length,_g=t=>typeof t=="string"?parseFloat(t):t,wg=t=>typeof t=="number"||M.test(t);function eN(t,e,n,r,i,s){i?(t.opacity=ue(0,n.opacity!==void 0?n.opacity:1,tN(r)),t.opacityExit=ue(e.opacity!==void 0?e.opacity:1,0,nN(r))):s&&(t.opacity=ue(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Jb;o++){const l=`border${Iw[o]}Radius`;let a=xg(e,l),u=xg(n,l);if(a===void 0&&u===void 0)continue;a||(a=0),u||(u=0),a===0||u===0||wg(a)===wg(u)?(t[l]=Math.max(ue(_g(a),_g(u),r),0),(Xt.test(u)||Xt.test(a))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=ue(e.rotate||0,n.rotate||0,r))}function xg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tN=Pw(0,.5,Y_),nN=Pw(.5,.95,ht);function Pw(t,e,n){return r=>r<t?0:r>e?1:n(Ii(t,e,r))}function Sg(t,e){t.min=e.min,t.max=e.max}function _t(t,e){Sg(t.x,e.x),Sg(t.y,e.y)}function Cg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Eg(t,e,n,r,i){return t-=e,t=aa(t,1/n,r),i!==void 0&&(t=aa(t,1/i,r)),t}function rN(t,e=0,n=1,r=.5,i,s=t,o=t){if(Xt.test(e)&&(e=parseFloat(e),e=ue(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=ue(s.min,s.max,r);t===s&&(l-=e),t.min=Eg(t.min,e,n,l,i),t.max=Eg(t.max,e,n,l,i)}function Tg(t,e,[n,r,i],s,o){rN(t,e[n],e[r],e[i],e.scale,s,o)}const iN=["x","scaleX","originX"],sN=["y","scaleY","originY"];function kg(t,e,n,r){Tg(t.x,e,iN,n?n.x:void 0,r?r.x:void 0),Tg(t.y,e,sN,n?n.y:void 0,r?r.y:void 0)}function bg(t){return t.translate===0&&t.scale===1}function Rw(t){return bg(t.x)&&bg(t.y)}function Ng(t,e){return t.min===e.min&&t.max===e.max}function oN(t,e){return Ng(t.x,e.x)&&Ng(t.y,e.y)}function Ig(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Dw(t,e){return Ig(t.x,e.x)&&Ig(t.y,e.y)}function Pg(t){return mt(t.x)/mt(t.y)}function Rg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lN{constructor(){this.members=[]}add(e){dh(this.members,e),e.scheduleRender()}remove(e){if(fh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aN(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:c,rotateY:f,skewX:h,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),c&&(r+=`rotateX(${c}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,a=t.y.scale*e.y;return(l!==1||a!==1)&&(r+=`scale(${l}, ${a})`),r||"none"}const hr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ys=typeof window<"u"&&window.MotionDebug!==void 0,Ju=["","X","Y","Z"],uN={visibility:"hidden"},Dg=1e3;let cN=0;function ec(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Aw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=B_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ie,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Aw(r)}function Mw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=cN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ys&&(hr.totalNodes=hr.resolvedTargetDeltas=hr.recalculatedProjection=0),this.nodes.forEach(hN),this.nodes.forEach(yN),this.nodes.forEach(_N),this.nodes.forEach(pN),ys&&window.MotionDebug.record(hr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xb)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new hh),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const a=this.eventHandlers.get(o);a&&a.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Qb(o),this.instance=o;const{layoutId:a,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||a)&&(this.isLayoutDirty=!0),t){let c;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=Zb(f,250),Nl.hasAnimatedSinceResize&&(Nl.hasAnimatedSinceResize=!1,this.nodes.forEach(Mg))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||u)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||EN,{onLayoutAnimationStart:S,onLayoutAnimationComplete:p}=d.getProps(),m=!this.targetLayout||!Dw(this.targetLayout,v)||h,g=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(c,g);const x={...lh(y,"layout"),onPlay:S,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else f||Mg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Jn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wN),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Aw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const c=this.path[d];c.shouldResetTransform=!0,c.updateScroll("snapshot"),c.options.layoutRoot&&c.willUpdate(!1)}const{layoutId:l,layout:a}=this.options;if(l===void 0&&!a)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ag);return}this.isUpdating||this.nodes.forEach(gN),this.isUpdating=!1,this.nodes.forEach(vN),this.nodes.forEach(dN),this.nodes.forEach(fN),this.clearAllSnapshots();const l=Zt.now();Ae.delta=_n(0,1e3/60,l-Ae.timestamp),Ae.timestamp=l,Ae.isProcessing=!0,$u.update.process(Ae),$u.preRender.process(Ae),$u.render.process(Ae),Ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mN),this.sharedNodes.forEach(xN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const a=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:a,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:a}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Rw(this.projectionDelta),a=this.getTransformTemplate(),u=a?a(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||fr(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let a=this.removeElementScroll(l);return o&&(a=this.removeTransform(a)),TN(a),{animationId:this.root.animationId,measuredBox:l,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ge();const a=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(kN))){const{scroll:d}=this.root;d&&(ai(a.x,d.offset.x),ai(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=ge();if(_t(a,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:c,options:f}=d;d!==this.root&&c&&f.layoutScroll&&(c.wasRoot&&_t(a,o),ai(a.x,c.offset.x),ai(a.y,c.offset.y))}return a}applyTransform(o,l=!1){const a=ge();_t(a,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ui(a,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),fr(d.latestValues)&&ui(a,d.latestValues)}return fr(this.latestValues)&&ui(a,this.latestValues),a}removeTransform(o){const l=ge();_t(l,o);for(let a=0;a<this.path.length;a++){const u=this.path[a];if(!u.instance||!fr(u.latestValues))continue;Cd(u.latestValues)&&u.updateSnapshot();const d=ge(),c=u.measurePageBox();_t(d,c),kg(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return fr(this.latestValues)&&kg(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Ae.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Rs(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),_t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ib(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_t(this.target,this.layout.layoutBox),Tw(this.target,this.targetDelta)):_t(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Rs(this.relativeTargetOrigin,this.target,h.target),_t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ys&&hr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cd(this.parent.latestValues)||Ew(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),a=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ae.timestamp&&(u=!1),u)return;const{layout:d,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||c))return;_t(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;jb(this.layoutCorrected,this.treeScale,this.path,a),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ge());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cg(this.prevProjectionDelta.x,this.projectionDelta.x),Cg(this.prevProjectionDelta.y,this.projectionDelta.y)),Ps(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Rg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Rg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),ys&&hr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=li(),this.projectionDelta=li(),this.projectionDeltaWithTransform=li()}setAnimationOrigin(o,l=!1){const a=this.snapshot,u=a?a.latestValues:{},d={...this.latestValues},c=li();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ge(),h=a?a.source:void 0,v=this.layout?this.layout.source:void 0,y=h!==v,S=this.getStack(),p=!S||S.members.length<=1,m=!!(y&&!p&&this.options.crossfade===!0&&!this.path.some(CN));this.animationProgress=0;let g;this.mixTargetDelta=x=>{const C=x/1e3;Og(c.x,o.x,C),Og(c.y,o.y,C),this.setTargetDelta(c),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SN(this.relativeTarget,this.relativeTargetOrigin,f,C),g&&oN(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ge()),_t(g,this.relativeTarget)),y&&(this.animationValues=d,eN(d,u,this.latestValues,C,m,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Jn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ie.update(()=>{Nl.hasAnimatedSinceResize=!0,this.currentAnimation=Yb(0,Dg,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:a,layout:u,latestValues:d}=o;if(!(!l||!a||!u)){if(this!==o&&this.layout&&u&&Ow(this.options.animationType,this.layout.layoutBox,u.layoutBox)){a=this.target||ge();const c=mt(this.layout.layoutBox.x);a.x.min=o.target.x.min,a.x.max=a.x.min+c;const f=mt(this.layout.layoutBox.y);a.y.min=o.target.y.min,a.y.max=a.y.min+f}_t(l,a),ui(l,d),Ps(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lN),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:a}={}){const u=this.getStack();u&&u.promote(this,a),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:a}=o;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(l=!0),!l)return;const u={};a.z&&ec("z",o,u,this.animationValues);for(let d=0;d<Ju.length;d++)ec(`rotate${Ju[d]}`,o,u,this.animationValues),ec(`skew${Ju[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uN;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=kl(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=kl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fr(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=c.animationValues||c.latestValues;this.applyTransformsToTarget(),u.transform=aN(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:h,y:v}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${v.origin*100}% 0`,c.animationValues?u.opacity=c===this?(a=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=c===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in ra){if(f[y]===void 0)continue;const{correct:S,applyTo:p}=ra[y],m=u.transform==="none"?f[y]:S(f[y],c);if(p){const g=p.length;for(let x=0;x<g;x++)u[p[x]]=m}else u[y]=m}return this.options.layoutId&&(u.pointerEvents=c===this?kl(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Ag),this.root.sharedNodes.clear()}}}function dN(t){t.updateLayout()}function fN(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?wt(c=>{const f=o?n.measuredBox[c]:n.layoutBox[c],h=mt(f);f.min=r[c].min,f.max=f.min+h}):Ow(s,n.layoutBox,r)&&wt(c=>{const f=o?n.measuredBox[c]:n.layoutBox[c],h=mt(r[c]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[c].max=t.relativeTarget[c].min+h)});const l=li();Ps(l,r,n.layoutBox);const a=li();o?Ps(a,t.applyTransform(i,!0),n.measuredBox):Ps(a,r,n.layoutBox);const u=!Rw(l);let d=!1;if(!t.resumeFrom){const c=t.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:f,layout:h}=c;if(f&&h){const v=ge();Rs(v,n.layoutBox,f.layoutBox);const y=ge();Rs(y,r,h.layoutBox),Dw(v,y)||(d=!0),c.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=c)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:a,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hN(t){ys&&hr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mN(t){t.clearSnapshot()}function Ag(t){t.clearMeasurements()}function gN(t){t.isLayoutDirty=!1}function vN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Mg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yN(t){t.resolveTargetDelta()}function _N(t){t.calcProjection()}function wN(t){t.resetSkewAndRotation()}function xN(t){t.removeLeadSnapshot()}function Og(t,e,n){t.translate=ue(e.translate,0,n),t.scale=ue(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Lg(t,e,n,r){t.min=ue(e.min,n.min,r),t.max=ue(e.max,n.max,r)}function SN(t,e,n,r){Lg(t.x,e.x,n.x,r),Lg(t.y,e.y,n.y,r)}function CN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const EN={duration:.45,ease:[.4,0,.1,1]},Fg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jg=Fg("applewebkit/")&&!Fg("chrome/")?Math.round:ht;function Vg(t){t.min=jg(t.min),t.max=jg(t.max)}function TN(t){Vg(t.x),Vg(t.y)}function Ow(t,e,n){return t==="position"||t==="preserve-aspect"&&!Nb(Pg(e),Pg(n),.2)}function kN(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const bN=Mw({attachResizeListener:(t,e)=>lo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tc={current:void 0},Lw=Mw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tc.current){const t=new bN({});t.mount(window),t.setOptions({layoutScroll:!0}),tc.current=t}return tc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NN={pan:{Feature:$b},drag:{Feature:Wb,ProjectionNode:Lw,MeasureLayout:Nw}};function zg(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&ie.postRender(()=>s(e,Io(e)))}class IN extends lr{mount(){const{current:e}=this.node;e&&(this.unmount=NT(e,n=>(zg(this.node,n,"Start"),r=>zg(this.node,r,"End"))))}unmount(){}}class PN extends lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=No(lo(this.node.current,"focus",()=>this.onFocus()),lo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bg(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&ie.postRender(()=>s(e,Io(e)))}class RN extends lr{mount(){const{current:e}=this.node;e&&(this.unmount=DT(e,n=>(Bg(this.node,n,"Start"),(r,{success:i})=>Bg(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Td=new WeakMap,nc=new WeakMap,DN=t=>{const e=Td.get(t.target);e&&e(t)},AN=t=>{t.forEach(DN)};function MN({root:t,...e}){const n=t||document;nc.has(n)||nc.set(n,{});const r=nc.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(AN,{root:t,...e})),r[i]}function ON(t,e,n){const r=MN(e);return Td.set(t,n),r.observe(t),()=>{Td.delete(t),r.unobserve(t)}}const LN={some:0,all:1};class FN extends lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:LN[i]},l=a=>{const{isIntersecting:u}=a;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:c}=this.node.getProps(),f=u?d:c;f&&f(a)};return ON(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jN(e,n))&&this.startObserver()}unmount(){}}function jN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VN={inView:{Feature:FN},tap:{Feature:RN},focus:{Feature:PN},hover:{Feature:IN}},zN={layout:{ProjectionNode:Lw,MeasureLayout:Nw}},kd={current:null},Fw={current:!1};function BN(){if(Fw.current=!0,!!Kf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>kd.current=t.matches;t.addListener(e),e()}else kd.current=!1}const UN=[...aw,ze,er],WN=t=>UN.find(lw(t)),Ug=new WeakMap;function $N(t,e,n){for(const r in e){const i=e[r],s=n[r];if(We(i))t.addValue(r,i);else if(We(s))t.addValue(r,so(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,so(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Wg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HN{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_h,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Zt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ie.render(this.render,!1,!0))};const{latestValues:a,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=qa(n),this.isVariantNode=g_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const v=f[h];a[h]!==void 0&&We(v)&&v.set(a[h],!1)}}mount(e){this.current=e,Ug.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Fw.current||BN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ug.delete(this.current),this.projection&&this.projection.unmount(),Jn(this.notifyUpdate),Jn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Lr.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ie.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pi){const n=Pi[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Wg.length;r++){const i=Wg[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=$N(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=so(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(sw(i)||q_(i))?i=parseFloat(i):!WN(i)&&er.test(n)&&(i=nw(e,n)),this.setBaseTarget(e,We(i)?i.get():i)),We(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Jf(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!We(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class jw extends HN{constructor(){super(...arguments),this.KeyframeResolver=uw}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;We(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KN(t){return window.getComputedStyle(t)}class GN extends jw{constructor(){super(...arguments),this.type="html",this.renderInstance=T_}readValueFromInstance(e,n){if(Lr.has(n)){const r=yh(n);return r&&r.default||0}else{const r=KN(e),i=(S_(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kw(e,n)}build(e,n,r){nh(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return oh(e,n,r)}}class YN extends jw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Lr.has(n)){const r=yh(n);return r&&r.default||0}return n=k_.has(n)?n:qf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return I_(e,n,r)}build(e,n,r){rh(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){b_(e,n,r,i)}mount(e){this.isSVGTag=sh(e.tagName),super.mount(e)}}const QN=(t,e)=>Zf(t)?new YN(e):new GN(e,{allowProjection:t!==w.Fragment}),qN=xT({..._b,...VN,...NN,...zN},QN),XN=LE(qN);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(t,e)=>{const n=w.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:a,...u},d)=>w.createElement("svg",{ref:d,...ZN,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${JN(t)}`,l].join(" "),...u},[...e.map(([c,f])=>w.createElement(c,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=fe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=fe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=fe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=fe("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=fe("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=fe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=fe("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=fe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function wI(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return w.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Ja=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bi(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Ch(t){return"nodeType"in t}function qe(t){var e,n;return t?Bi(t)?t:Ch(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Eh(t){const{Document:e}=qe(t);return t instanceof e}function Po(t){return Bi(t)?!1:t instanceof qe(t).HTMLElement}function Uw(t){return t instanceof qe(t).SVGElement}function Ui(t){return t?Bi(t)?t.document:Ch(t)?Eh(t)?t:Po(t)||Uw(t)?t.ownerDocument:document:document:document}const zt=Ja?w.useLayoutEffect:w.useEffect;function eu(t){const e=w.useRef(t);return zt(()=>{e.current=t}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function xI(){const t=w.useRef(null),e=w.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=w.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ao(t,e){e===void 0&&(e=[t]);const n=w.useRef(t);return zt(()=>{n.current!==t&&(n.current=t)},e),n}function Ro(t,e){const n=w.useRef();return w.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function ua(t){const e=eu(t),n=w.useRef(null),r=w.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function ca(t){const e=w.useRef();return w.useEffect(()=>{e.current=t},[t]),e.current}let rc={};function Do(t,e){return w.useMemo(()=>{if(e)return e;const n=rc[t]==null?0:rc[t]+1;return rc[t]=n,t+"-"+n},[t,e])}function Ww(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const l=Object.entries(o);for(const[a,u]of l){const d=s[a];d!=null&&(s[a]=d+t*u)}return s},{...e})}}const vi=Ww(1),uo=Ww(-1);function SI(t){return"clientX"in t&&"clientY"in t}function tu(t){if(!t)return!1;const{KeyboardEvent:e}=qe(t.target);return e&&t instanceof e}function CI(t){if(!t)return!1;const{TouchEvent:e}=qe(t.target);return e&&t instanceof e}function da(t){if(CI(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return SI(t)?{x:t.clientX,y:t.clientY}:null}const tr=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[tr.Translate.toString(t),tr.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),$g="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function EI(t){return t.matches($g)?t:t.querySelector($g)}const TI={display:"none"};function kI(t){let{id:e,value:n}=t;return se.createElement("div",{id:e,style:TI},n)}function bI(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return se.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function NI(){const[t,e]=w.useState("");return{announce:w.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const $w=w.createContext(null);function II(t){const e=w.useContext($w);w.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function PI(){const[t]=w.useState(()=>new Set),e=w.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[w.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,s)})},[t]),e]}const RI={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},DI={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function AI(t){let{announcements:e=DI,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=RI}=t;const{announce:s,announcement:o}=NI(),l=Do("DndLiveRegion"),[a,u]=w.useState(!1);if(w.useEffect(()=>{u(!0)},[]),II(w.useMemo(()=>({onDragStart(c){let{active:f}=c;s(e.onDragStart({active:f}))},onDragMove(c){let{active:f,over:h}=c;e.onDragMove&&s(e.onDragMove({active:f,over:h}))},onDragOver(c){let{active:f,over:h}=c;s(e.onDragOver({active:f,over:h}))},onDragEnd(c){let{active:f,over:h}=c;s(e.onDragEnd({active:f,over:h}))},onDragCancel(c){let{active:f,over:h}=c;s(e.onDragCancel({active:f,over:h}))}}),[s,e])),!a)return null;const d=se.createElement(se.Fragment,null,se.createElement(kI,{id:r,value:i.draggable}),se.createElement(bI,{id:l,announcement:o}));return n?ii.createPortal(d,n):d}var xe;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(xe||(xe={}));function fa(){}function Hg(t,e){return w.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function MI(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return w.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Bt=Object.freeze({x:0,y:0});function Hw(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function OI(t,e){const n=da(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function Kw(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function LI(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function Kg(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function Gw(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Gg(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const FI=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=Gg(e,e.left,e.top),s=[];for(const o of r){const{id:l}=o,a=n.get(l);if(a){const u=Hw(Gg(a),i);s.push({id:l,data:{droppableContainer:o,value:u}})}}return s.sort(Kw)},jI=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=Kg(e),s=[];for(const o of r){const{id:l}=o,a=n.get(l);if(a){const u=Kg(a),d=i.reduce((f,h,v)=>f+Hw(u[v],h),0),c=Number((d/4).toFixed(4));s.push({id:l,data:{droppableContainer:o,value:c}})}}return s.sort(Kw)};function VI(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,l=s-n;if(r<i&&n<s){const a=e.width*e.height,u=t.width*t.height,d=o*l,c=d/(a+u-d);return Number(c.toFixed(4))}return 0}const zI=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,l=n.get(o);if(l){const a=VI(l,e);a>0&&i.push({id:o,data:{droppableContainer:s,value:a}})}}return i.sort(LI)};function BI(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Yw(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Bt}function UI(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,l)=>({...o,top:o.top+t*l.y,bottom:o.bottom+t*l.y,left:o.left+t*l.x,right:o.right+t*l.x}),{...n})}}const WI=UI(1);function Qw(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function $I(t,e,n){const r=Qw(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:l}=r,a=t.left-o-(1-i)*parseFloat(n),u=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?t.width/i:t.width,c=s?t.height/s:t.height;return{width:d,height:c,top:u,right:a+d,bottom:u+c,left:a}}const HI={ignoreTransform:!1};function Wi(t,e){e===void 0&&(e=HI);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=qe(t).getComputedStyle(t);u&&(n=$I(n,u,d))}const{top:r,left:i,width:s,height:o,bottom:l,right:a}=n;return{top:r,left:i,width:s,height:o,bottom:l,right:a}}function Yg(t){return Wi(t,{ignoreTransform:!0})}function KI(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function GI(t,e){return e===void 0&&(e=qe(t).getComputedStyle(t)),e.position==="fixed"}function YI(t,e){e===void 0&&(e=qe(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function nu(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(Eh(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Po(i)||Uw(i)||n.includes(i))return n;const s=qe(t).getComputedStyle(i);return i!==t&&YI(i,s)&&n.push(i),GI(i,s)?n:r(i.parentNode)}return t?r(t):n}function qw(t){const[e]=nu(t,1);return e??null}function ic(t){return!Ja||!t?null:Bi(t)?t:Ch(t)?Eh(t)||t===Ui(t).scrollingElement?window:Po(t)?t:null:null}function Xw(t){return Bi(t)?t.scrollX:t.scrollLeft}function Zw(t){return Bi(t)?t.scrollY:t.scrollTop}function bd(t){return{x:Xw(t),y:Zw(t)}}var ke;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ke||(ke={}));function Jw(t){return!Ja||!t?!1:t===document.scrollingElement}function ex(t){const e={x:0,y:0},n=Jw(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:l,maxScroll:r,minScroll:e}}const QI={x:.2,y:.2};function qI(t,e,n,r,i){let{top:s,left:o,right:l,bottom:a}=n;r===void 0&&(r=10),i===void 0&&(i=QI);const{isTop:u,isBottom:d,isLeft:c,isRight:f}=ex(t),h={x:0,y:0},v={x:0,y:0},y={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+y.height?(h.y=ke.Backward,v.y=r*Math.abs((e.top+y.height-s)/y.height)):!d&&a>=e.bottom-y.height&&(h.y=ke.Forward,v.y=r*Math.abs((e.bottom-y.height-a)/y.height)),!f&&l>=e.right-y.width?(h.x=ke.Forward,v.x=r*Math.abs((e.right-y.width-l)/y.width)):!c&&o<=e.left+y.width&&(h.x=ke.Backward,v.x=r*Math.abs((e.left+y.width-o)/y.width)),{direction:h,speed:v}}function XI(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function tx(t){return t.reduce((e,n)=>vi(e,bd(n)),Bt)}function ZI(t){return t.reduce((e,n)=>e+Xw(n),0)}function JI(t){return t.reduce((e,n)=>e+Zw(n),0)}function nx(t,e){if(e===void 0&&(e=Wi),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);qw(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const eP=[["x",["left","right"],ZI],["y",["top","bottom"],JI]];class Th{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=nu(n),i=tx(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,l]of eP)for(const a of o)Object.defineProperty(this,a,{get:()=>{const u=l(r),d=i[s]-u;return this.rect[a]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ds{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function tP(t){const{EventTarget:e}=qe(t);return t instanceof e?t:Ui(t)}function sc(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var xt;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(xt||(xt={}));function Qg(t){t.preventDefault()}function nP(t){t.stopPropagation()}var U;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(U||(U={}));const rx={start:[U.Space,U.Enter],cancel:[U.Esc],end:[U.Space,U.Enter,U.Tab]},rP=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case U.Right:return{...n,x:n.x+25};case U.Left:return{...n,x:n.x-25};case U.Down:return{...n,y:n.y+25};case U.Up:return{...n,y:n.y-25}}};class kh{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ds(Ui(n)),this.windowListeners=new Ds(qe(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(xt.Resize,this.handleCancel),this.windowListeners.add(xt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(xt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&nx(r),n(Bt)}handleKeyDown(e){if(tu(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=rx,coordinateGetter:o=rP,scrollBehavior:l="smooth"}=i,{code:a}=e;if(s.end.includes(a)){this.handleEnd(e);return}if(s.cancel.includes(a)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Bt;this.referenceCoordinates||(this.referenceCoordinates=d);const c=o(e,{active:n,context:r.current,currentCoordinates:d});if(c){const f=uo(c,d),h={x:0,y:0},{scrollableAncestors:v}=r.current;for(const y of v){const S=e.code,{isTop:p,isRight:m,isLeft:g,isBottom:x,maxScroll:C,minScroll:T}=ex(y),k=XI(y),E={x:Math.min(S===U.Right?k.right-k.width/2:k.right,Math.max(S===U.Right?k.left:k.left+k.width/2,c.x)),y:Math.min(S===U.Down?k.bottom-k.height/2:k.bottom,Math.max(S===U.Down?k.top:k.top+k.height/2,c.y))},R=S===U.Right&&!m||S===U.Left&&!g,I=S===U.Down&&!x||S===U.Up&&!p;if(R&&E.x!==c.x){const O=y.scrollLeft+f.x,le=S===U.Right&&O<=C.x||S===U.Left&&O>=T.x;if(le&&!f.y){y.scrollTo({left:O,behavior:l});return}le?h.x=y.scrollLeft-O:h.x=S===U.Right?y.scrollLeft-C.x:y.scrollLeft-T.x,h.x&&y.scrollBy({left:-h.x,behavior:l});break}else if(I&&E.y!==c.y){const O=y.scrollTop+f.y,le=S===U.Down&&O<=C.y||S===U.Up&&O>=T.y;if(le&&!f.x){y.scrollTo({top:O,behavior:l});return}le?h.y=y.scrollTop-O:h.y=S===U.Down?y.scrollTop-C.y:y.scrollTop-T.y,h.y&&y.scrollBy({top:-h.y,behavior:l});break}}this.handleMove(e,vi(uo(c,this.referenceCoordinates),h))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}kh.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=rx,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function qg(t){return!!(t&&"distance"in t)}function Xg(t){return!!(t&&"delay"in t)}class bh{constructor(e,n,r){var i;r===void 0&&(r=tP(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=Ui(o),this.documentListeners=new Ds(this.document),this.listeners=new Ds(r),this.windowListeners=new Ds(qe(o)),this.initialCoordinates=(i=da(s))!=null?i:Bt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(xt.Resize,this.handleCancel),this.windowListeners.add(xt.DragStart,Qg),this.windowListeners.add(xt.VisibilityChange,this.handleCancel),this.windowListeners.add(xt.ContextMenu,Qg),this.documentListeners.add(xt.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Xg(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(qg(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(xt.Click,nP,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(xt.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:l}}=s;if(!i)return;const a=(n=da(e))!=null?n:Bt,u=uo(i,a);if(!r&&l){if(qg(l)){if(l.tolerance!=null&&sc(u,l.tolerance))return this.handleCancel();if(sc(u,l.distance))return this.handleStart()}if(Xg(l)&&sc(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}e.cancelable&&e.preventDefault(),o(a)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===U.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const iP={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Nh extends bh{constructor(e){const{event:n}=e,r=Ui(n.target);super(e,iP,r)}}Nh.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const sP={move:{name:"mousemove"},end:{name:"mouseup"}};var Nd;(function(t){t[t.RightClick=2]="RightClick"})(Nd||(Nd={}));class oP extends bh{constructor(e){super(e,sP,Ui(e.event.target))}}oP.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Nd.RightClick?!1:(r==null||r({event:n}),!0)}}];const oc={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class lP extends bh{constructor(e){super(e,oc)}static setup(){return window.addEventListener(oc.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(oc.move.name,e)};function e(){}}}lP.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var As;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(As||(As={}));var ha;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(ha||(ha={}));function aP(t){let{acceleration:e,activator:n=As.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:l=ha.TreeOrder,pointerCoordinates:a,scrollableAncestors:u,scrollableAncestorRects:d,delta:c,threshold:f}=t;const h=cP({delta:c,disabled:!s}),[v,y]=xI(),S=w.useRef({x:0,y:0}),p=w.useRef({x:0,y:0}),m=w.useMemo(()=>{switch(n){case As.Pointer:return a?{top:a.y,bottom:a.y,left:a.x,right:a.x}:null;case As.DraggableRect:return i}},[n,i,a]),g=w.useRef(null),x=w.useCallback(()=>{const T=g.current;if(!T)return;const k=S.current.x*p.current.x,E=S.current.y*p.current.y;T.scrollBy(k,E)},[]),C=w.useMemo(()=>l===ha.TreeOrder?[...u].reverse():u,[l,u]);w.useEffect(()=>{if(!s||!u.length||!m){y();return}for(const T of C){if((r==null?void 0:r(T))===!1)continue;const k=u.indexOf(T),E=d[k];if(!E)continue;const{direction:R,speed:I}=qI(T,E,m,e,f);for(const O of["x","y"])h[O][R[O]]||(I[O]=0,R[O]=0);if(I.x>0||I.y>0){y(),g.current=T,v(x,o),S.current=I,p.current=R;return}}S.current={x:0,y:0},p.current={x:0,y:0},y()},[e,x,r,y,s,o,JSON.stringify(m),JSON.stringify(h),v,u,C,d,JSON.stringify(f)])}const uP={x:{[ke.Backward]:!1,[ke.Forward]:!1},y:{[ke.Backward]:!1,[ke.Forward]:!1}};function cP(t){let{delta:e,disabled:n}=t;const r=ca(e);return Ro(i=>{if(n||!r||!i)return uP;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[ke.Backward]:i.x[ke.Backward]||s.x===-1,[ke.Forward]:i.x[ke.Forward]||s.x===1},y:{[ke.Backward]:i.y[ke.Backward]||s.y===-1,[ke.Forward]:i.y[ke.Forward]||s.y===1}}},[n,e,r])}function dP(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Ro(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function fP(t,e){return w.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var co;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(co||(co={}));var Id;(function(t){t.Optimized="optimized"})(Id||(Id={}));const Zg=new Map;function hP(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=w.useState(null),{frequency:l,measure:a,strategy:u}=i,d=w.useRef(t),c=S(),f=ao(c),h=w.useCallback(function(p){p===void 0&&(p=[]),!f.current&&o(m=>m===null?p:m.concat(p.filter(g=>!m.includes(g))))},[f]),v=w.useRef(null),y=Ro(p=>{if(c&&!n)return Zg;if(!p||p===Zg||d.current!==t||s!=null){const m=new Map;for(let g of t){if(!g)continue;if(s&&s.length>0&&!s.includes(g.id)&&g.rect.current){m.set(g.id,g.rect.current);continue}const x=g.node.current,C=x?new Th(a(x),x):null;g.rect.current=C,C&&m.set(g.id,C)}return m}return p},[t,s,n,c,a]);return w.useEffect(()=>{d.current=t},[t]),w.useEffect(()=>{c||h()},[n,c]),w.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),w.useEffect(()=>{c||typeof l!="number"||v.current!==null||(v.current=setTimeout(()=>{h(),v.current=null},l))},[l,c,h,...r]),{droppableRects:y,measureDroppableContainers:h,measuringScheduled:s!=null};function S(){switch(u){case co.Always:return!1;case co.BeforeDragging:return n;default:return!n}}}function Ih(t,e){return Ro(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function pP(t,e){return Ih(t,e)}function mP(t){let{callback:e,disabled:n}=t;const r=eu(e),i=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return w.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function ru(t){let{callback:e,disabled:n}=t;const r=eu(e),i=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return w.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function gP(t){return new Th(Wi(t),t)}function Jg(t,e,n){e===void 0&&(e=gP);const[r,i]=w.useState(null);function s(){i(a=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=a??n)!=null?u:null}const d=e(t);return JSON.stringify(a)===JSON.stringify(d)?a:d})}const o=mP({callback(a){if(t)for(const u of a){const{type:d,target:c}=u;if(d==="childList"&&c instanceof HTMLElement&&c.contains(t)){s();break}}}}),l=ru({callback:s});return zt(()=>{s(),t?(l==null||l.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[t]),r}function vP(t){const e=Ih(t);return Yw(t,e)}const ev=[];function yP(t){const e=w.useRef(t),n=Ro(r=>t?r&&r!==ev&&t&&e.current&&t.parentNode===e.current.parentNode?r:nu(t):ev,[t]);return w.useEffect(()=>{e.current=t},[t]),n}function _P(t){const[e,n]=w.useState(null),r=w.useRef(t),i=w.useCallback(s=>{const o=ic(s.target);o&&n(l=>l?(l.set(o,bd(o)),new Map(l)):null)},[]);return w.useEffect(()=>{const s=r.current;if(t!==s){o(s);const l=t.map(a=>{const u=ic(a);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,bd(u)]):null}).filter(a=>a!=null);n(l.length?new Map(l):null),r.current=t}return()=>{o(t),o(s)};function o(l){l.forEach(a=>{const u=ic(a);u==null||u.removeEventListener("scroll",i)})}},[i,t]),w.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>vi(s,o),Bt):tx(t):Bt,[t,e])}function tv(t,e){e===void 0&&(e=[]);const n=w.useRef(null);return w.useEffect(()=>{n.current=null},e),w.useEffect(()=>{const r=t!==Bt;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?uo(t,n.current):Bt}function wP(t){w.useEffect(()=>{if(!Ja)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function xP(t,e){return w.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function ix(t){return w.useMemo(()=>t?KI(t):null,[t])}const nv=[];function SP(t,e){e===void 0&&(e=Wi);const[n]=t,r=ix(n?qe(n):null),[i,s]=w.useState(nv);function o(){s(()=>t.length?t.map(a=>Jw(a)?r:new Th(e(a),a)):nv)}const l=ru({callback:o});return zt(()=>{l==null||l.disconnect(),o(),t.forEach(a=>l==null?void 0:l.observe(a))},[t]),i}function sx(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Po(e)?e:t}function CP(t){let{measure:e}=t;const[n,r]=w.useState(null),i=w.useCallback(u=>{for(const{target:d}of u)if(Po(d)){r(c=>{const f=e(d);return c?{...c,width:f.width,height:f.height}:f});break}},[e]),s=ru({callback:i}),o=w.useCallback(u=>{const d=sx(u);s==null||s.disconnect(),d&&(s==null||s.observe(d)),r(d?e(d):null)},[e,s]),[l,a]=ua(o);return w.useMemo(()=>({nodeRef:l,rect:n,setRef:a}),[n,l,a])}const EP=[{sensor:Nh,options:{}},{sensor:kh,options:{}}],TP={current:{}},Il={draggable:{measure:Yg},droppable:{measure:Yg,strategy:co.WhileDragging,frequency:Id.Optimized},dragOverlay:{measure:Wi}};class Ms extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const kP={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ms,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:fa},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Il,measureDroppableContainers:fa,windowRect:null,measuringScheduled:!1},ox={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:fa,draggableNodes:new Map,over:null,measureDroppableContainers:fa},Ao=w.createContext(ox),lx=w.createContext(kP);function bP(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ms}}}function NP(t,e){switch(e.type){case xe.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case xe.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case xe.DragEnd:case xe.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case xe.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Ms(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case xe.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new Ms(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case xe.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new Ms(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function IP(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=w.useContext(Ao),s=ca(r),o=ca(n==null?void 0:n.id);return w.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!tu(s)||document.activeElement===s.target)return;const l=i.get(o);if(!l)return;const{activatorNode:a,node:u}=l;if(!a.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[a.current,u.current]){if(!d)continue;const c=EI(d);if(c){c.focus();break}}})}},[r,e,i,o,s]),null}function ax(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function PP(t){return w.useMemo(()=>({draggable:{...Il.draggable,...t==null?void 0:t.draggable},droppable:{...Il.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Il.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function RP(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=w.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;zt(()=>{if(!o&&!l||!e){s.current=!1;return}if(s.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=n(u),c=Yw(d,r);if(o||(c.x=0),l||(c.y=0),s.current=!0,Math.abs(c.x)>0||Math.abs(c.y)>0){const f=qw(u);f&&f.scrollBy({top:c.y,left:c.x})}},[e,o,l,r,n])}const iu=w.createContext({...Bt,scaleX:1,scaleY:1});var On;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(On||(On={}));const DP=w.memo(function(e){var n,r,i,s;let{id:o,accessibility:l,autoScroll:a=!0,children:u,sensors:d=EP,collisionDetection:c=zI,measuring:f,modifiers:h,...v}=e;const y=w.useReducer(NP,void 0,bP),[S,p]=y,[m,g]=PI(),[x,C]=w.useState(On.Uninitialized),T=x===On.Initialized,{draggable:{active:k,nodes:E,translate:R},droppable:{containers:I}}=S,O=k!=null?E.get(k):null,le=w.useRef({initial:null,translated:null}),Q=w.useMemo(()=>{var Fe;return k!=null?{id:k,data:(Fe=O==null?void 0:O.data)!=null?Fe:TP,rect:le}:null},[k,O]),Pe=w.useRef(null),[Ut,Jt]=w.useState(null),[W,P]=w.useState(null),A=ao(v,Object.values(v)),L=Do("DndDescribedBy",o),X=w.useMemo(()=>I.getEnabled(),[I]),$=PP(f),{droppableRects:Xe,measureDroppableContainers:He,measuringScheduled:en}=hP(X,{dragging:T,dependencies:[R.x,R.y],config:$.droppable}),ye=dP(E,k),tn=w.useMemo(()=>W?da(W):null,[W]),Tn=JS(),nn=pP(ye,$.draggable.measure);RP({activeNode:k!=null?E.get(k):null,config:Tn.layoutShiftCompensation,initialRect:nn,measure:$.draggable.measure});const Y=Jg(ye,$.draggable.measure,nn),Yi=Jg(ye?ye.parentElement:null),Wt=w.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:Xe,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),jr=I.getNodeFor((n=Wt.current.over)==null?void 0:n.id),rn=CP({measure:$.dragOverlay.measure}),Vr=(r=rn.nodeRef.current)!=null?r:ye,zr=T?(i=rn.rect)!=null?i:Y:null,hp=!!(rn.nodeRef.current&&rn.rect),pp=vP(hp?null:Y),mu=ix(Vr?qe(Vr):null),kn=yP(T?jr??ye:null),Bo=SP(kn),Uo=ax(h,{transform:{x:R.x-pp.x,y:R.y-pp.y,scaleX:1,scaleY:1},activatorEvent:W,active:Q,activeNodeRect:Y,containerNodeRect:Yi,draggingNodeRect:zr,over:Wt.current.over,overlayNodeRect:rn.rect,scrollableAncestors:kn,scrollableAncestorRects:Bo,windowRect:mu}),mp=tn?vi(tn,R):null,gp=_P(kn),KS=tv(gp),GS=tv(gp,[Y]),Br=vi(Uo,KS),Ur=zr?WI(zr,Uo):null,Qi=Q&&Ur?c({active:Q,collisionRect:Ur,droppableRects:Xe,droppableContainers:X,pointerCoordinates:mp}):null,vp=Gw(Qi,"id"),[bn,yp]=w.useState(null),YS=hp?Uo:vi(Uo,GS),QS=BI(YS,(s=bn==null?void 0:bn.rect)!=null?s:null,Y),gu=w.useRef(null),_p=w.useCallback((Fe,lt)=>{let{sensor:at,options:Nn}=lt;if(Pe.current==null)return;const yt=E.get(Pe.current);if(!yt)return;const ut=Fe.nativeEvent,$t=new at({active:Pe.current,activeNode:yt,event:ut,options:Nn,context:Wt,onAbort(Re){if(!E.get(Re))return;const{onDragAbort:Ht}=A.current,sn={id:Re};Ht==null||Ht(sn),m({type:"onDragAbort",event:sn})},onPending(Re,In,Ht,sn){if(!E.get(Re))return;const{onDragPending:Xi}=A.current,Pn={id:Re,constraint:In,initialCoordinates:Ht,offset:sn};Xi==null||Xi(Pn),m({type:"onDragPending",event:Pn})},onStart(Re){const In=Pe.current;if(In==null)return;const Ht=E.get(In);if(!Ht)return;const{onDragStart:sn}=A.current,qi={activatorEvent:ut,active:{id:In,data:Ht.data,rect:le}};ii.unstable_batchedUpdates(()=>{sn==null||sn(qi),C(On.Initializing),p({type:xe.DragStart,initialCoordinates:Re,active:In}),m({type:"onDragStart",event:qi}),Jt(gu.current),P(ut)})},onMove(Re){p({type:xe.DragMove,coordinates:Re})},onEnd:Wr(xe.DragEnd),onCancel:Wr(xe.DragCancel)});gu.current=$t;function Wr(Re){return async function(){const{active:Ht,collisions:sn,over:qi,scrollAdjustedTranslate:Xi}=Wt.current;let Pn=null;if(Ht&&Xi){const{cancelDrop:Zi}=A.current;Pn={activatorEvent:ut,active:Ht,collisions:sn,delta:Xi,over:qi},Re===xe.DragEnd&&typeof Zi=="function"&&await Promise.resolve(Zi(Pn))&&(Re=xe.DragCancel)}Pe.current=null,ii.unstable_batchedUpdates(()=>{p({type:Re}),C(On.Uninitialized),yp(null),Jt(null),P(null),gu.current=null;const Zi=Re===xe.DragEnd?"onDragEnd":"onDragCancel";if(Pn){const vu=A.current[Zi];vu==null||vu(Pn),m({type:Zi,event:Pn})}})}}},[E]),qS=w.useCallback((Fe,lt)=>(at,Nn)=>{const yt=at.nativeEvent,ut=E.get(Nn);if(Pe.current!==null||!ut||yt.dndKit||yt.defaultPrevented)return;const $t={active:ut};Fe(at,lt.options,$t)===!0&&(yt.dndKit={capturedBy:lt.sensor},Pe.current=Nn,_p(at,lt))},[E,_p]),wp=fP(d,qS);wP(d),zt(()=>{Y&&x===On.Initializing&&C(On.Initialized)},[Y,x]),w.useEffect(()=>{const{onDragMove:Fe}=A.current,{active:lt,activatorEvent:at,collisions:Nn,over:yt}=Wt.current;if(!lt||!at)return;const ut={active:lt,activatorEvent:at,collisions:Nn,delta:{x:Br.x,y:Br.y},over:yt};ii.unstable_batchedUpdates(()=>{Fe==null||Fe(ut),m({type:"onDragMove",event:ut})})},[Br.x,Br.y]),w.useEffect(()=>{const{active:Fe,activatorEvent:lt,collisions:at,droppableContainers:Nn,scrollAdjustedTranslate:yt}=Wt.current;if(!Fe||Pe.current==null||!lt||!yt)return;const{onDragOver:ut}=A.current,$t=Nn.get(vp),Wr=$t&&$t.rect.current?{id:$t.id,rect:$t.rect.current,data:$t.data,disabled:$t.disabled}:null,Re={active:Fe,activatorEvent:lt,collisions:at,delta:{x:yt.x,y:yt.y},over:Wr};ii.unstable_batchedUpdates(()=>{yp(Wr),ut==null||ut(Re),m({type:"onDragOver",event:Re})})},[vp]),zt(()=>{Wt.current={activatorEvent:W,active:Q,activeNode:ye,collisionRect:Ur,collisions:Qi,droppableRects:Xe,draggableNodes:E,draggingNode:Vr,draggingNodeRect:zr,droppableContainers:I,over:bn,scrollableAncestors:kn,scrollAdjustedTranslate:Br},le.current={initial:zr,translated:Ur}},[Q,ye,Qi,Ur,E,Vr,zr,Xe,I,bn,kn,Br]),aP({...Tn,delta:R,draggingRect:Ur,pointerCoordinates:mp,scrollableAncestors:kn,scrollableAncestorRects:Bo});const XS=w.useMemo(()=>({active:Q,activeNode:ye,activeNodeRect:Y,activatorEvent:W,collisions:Qi,containerNodeRect:Yi,dragOverlay:rn,draggableNodes:E,droppableContainers:I,droppableRects:Xe,over:bn,measureDroppableContainers:He,scrollableAncestors:kn,scrollableAncestorRects:Bo,measuringConfiguration:$,measuringScheduled:en,windowRect:mu}),[Q,ye,Y,W,Qi,Yi,rn,E,I,Xe,bn,He,kn,Bo,$,en,mu]),ZS=w.useMemo(()=>({activatorEvent:W,activators:wp,active:Q,activeNodeRect:Y,ariaDescribedById:{draggable:L},dispatch:p,draggableNodes:E,over:bn,measureDroppableContainers:He}),[W,wp,Q,Y,p,L,E,bn,He]);return se.createElement($w.Provider,{value:g},se.createElement(Ao.Provider,{value:ZS},se.createElement(lx.Provider,{value:XS},se.createElement(iu.Provider,{value:QS},u)),se.createElement(IP,{disabled:(l==null?void 0:l.restoreFocus)===!1})),se.createElement(AI,{...l,hiddenTextDescribedById:L}));function JS(){const Fe=(Ut==null?void 0:Ut.autoScrollEnabled)===!1,lt=typeof a=="object"?a.enabled===!1:a===!1,at=T&&!Fe&&!lt;return typeof a=="object"?{...a,enabled:at}:{enabled:at}}}),AP=w.createContext(null),rv="button",MP="Draggable";function OP(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=Do(MP),{activators:o,activatorEvent:l,active:a,activeNodeRect:u,ariaDescribedById:d,draggableNodes:c,over:f}=w.useContext(Ao),{role:h=rv,roleDescription:v="draggable",tabIndex:y=0}=i??{},S=(a==null?void 0:a.id)===e,p=w.useContext(S?iu:AP),[m,g]=ua(),[x,C]=ua(),T=xP(o,e),k=ao(n);zt(()=>(c.set(e,{id:e,key:s,node:m,activatorNode:x,data:k}),()=>{const R=c.get(e);R&&R.key===s&&c.delete(e)}),[c,e]);const E=w.useMemo(()=>({role:h,tabIndex:y,"aria-disabled":r,"aria-pressed":S&&h===rv?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,h,y,S,v,d.draggable]);return{active:a,activatorEvent:l,activeNodeRect:u,attributes:E,isDragging:S,listeners:r?void 0:T,node:m,over:f,setNodeRef:g,setActivatorNodeRef:C,transform:p}}function ux(){return w.useContext(lx)}const LP="Droppable",FP={timeout:25};function jP(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=Do(LP),{active:o,dispatch:l,over:a,measureDroppableContainers:u}=w.useContext(Ao),d=w.useRef({disabled:n}),c=w.useRef(!1),f=w.useRef(null),h=w.useRef(null),{disabled:v,updateMeasurementsFor:y,timeout:S}={...FP,...i},p=ao(y??r),m=w.useCallback(()=>{if(!c.current){c.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(p.current)?p.current:[p.current]),h.current=null},S)},[S]),g=ru({callback:m,disabled:v||!o}),x=w.useCallback((E,R)=>{g&&(R&&(g.unobserve(R),c.current=!1),E&&g.observe(E))},[g]),[C,T]=ua(x),k=ao(e);return w.useEffect(()=>{!g||!C.current||(g.disconnect(),c.current=!1,g.observe(C.current))},[C,g]),w.useEffect(()=>(l({type:xe.RegisterDroppable,element:{id:r,key:s,disabled:n,node:C,rect:f,data:k}}),()=>l({type:xe.UnregisterDroppable,key:s,id:r})),[r]),w.useEffect(()=>{n!==d.current.disabled&&(l({type:xe.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,l]),{active:o,rect:f,isOver:(a==null?void 0:a.id)===r,node:C,over:a,setNodeRef:T}}function VP(t){let{animation:e,children:n}=t;const[r,i]=w.useState(null),[s,o]=w.useState(null),l=ca(n);return!n&&!r&&l&&i(l),zt(()=>{if(!s)return;const a=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(a==null||u==null){i(null);return}Promise.resolve(e(u,s)).then(()=>{i(null)})},[e,r,s]),se.createElement(se.Fragment,null,n,r?w.cloneElement(r,{ref:o}):null)}const zP={x:0,y:0,scaleX:1,scaleY:1};function BP(t){let{children:e}=t;return se.createElement(Ao.Provider,{value:ox},se.createElement(iu.Provider,{value:zP},e))}const UP={position:"fixed",touchAction:"none"},WP=t=>tu(t)?"transform 250ms ease":void 0,$P=w.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:o,rect:l,style:a,transform:u,transition:d=WP}=t;if(!l)return null;const c=i?u:{...u,scaleX:1,scaleY:1},f={...UP,width:l.width,height:l.height,top:l.top,left:l.left,transform:tr.Transform.toString(c),transformOrigin:i&&r?OI(r,l):void 0,transition:typeof d=="function"?d(r):d,...a};return se.createElement(n,{className:o,style:f,ref:e},s)}),HP=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:s,className:o}=t;if(s!=null&&s.active)for(const[l,a]of Object.entries(s.active))a!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,a));if(s!=null&&s.dragOverlay)for(const[l,a]of Object.entries(s.dragOverlay))a!==void 0&&r.node.style.setProperty(l,a);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[a,u]of Object.entries(i))n.node.style.setProperty(a,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},KP=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:tr.Transform.toString(e)},{transform:tr.Transform.toString(n)}]},GP={duration:250,easing:"ease",keyframes:KP,sideEffects:HP({styles:{active:{opacity:"0"}}})};function YP(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return eu((s,o)=>{if(e===null)return;const l=n.get(s);if(!l)return;const a=l.node.current;if(!a)return;const u=sx(o);if(!u)return;const{transform:d}=qe(o).getComputedStyle(o),c=Qw(d);if(!c)return;const f=typeof e=="function"?e:QP(e);return nx(a,i.draggable.measure),f({active:{id:s,data:l.data,node:a,rect:i.draggable.measure(a)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:c})})}function QP(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...GP,...t};return s=>{let{active:o,dragOverlay:l,transform:a,...u}=s;if(!e)return;const d={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},c={scaleX:a.scaleX!==1?o.rect.width*a.scaleX/l.rect.width:1,scaleY:a.scaleY!==1?o.rect.height*a.scaleY/l.rect.height:1},f={x:a.x-d.x,y:a.y-d.y,...c},h=i({...u,active:o,dragOverlay:l,transform:{initial:a,final:f}}),[v]=h,y=h[h.length-1];if(JSON.stringify(v)===JSON.stringify(y))return;const S=r==null?void 0:r({active:o,dragOverlay:l,...u}),p=l.node.animate(h,{duration:e,easing:n,fill:"forwards"});return new Promise(m=>{p.onfinish=()=>{S==null||S(),m()}})}}let iv=0;function qP(t){return w.useMemo(()=>{if(t!=null)return iv++,iv},[t])}const XP=se.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:o,wrapperElement:l="div",className:a,zIndex:u=999}=t;const{activatorEvent:d,active:c,activeNodeRect:f,containerNodeRect:h,draggableNodes:v,droppableContainers:y,dragOverlay:S,over:p,measuringConfiguration:m,scrollableAncestors:g,scrollableAncestorRects:x,windowRect:C}=ux(),T=w.useContext(iu),k=qP(c==null?void 0:c.id),E=ax(o,{activatorEvent:d,active:c,activeNodeRect:f,containerNodeRect:h,draggingNodeRect:S.rect,over:p,overlayNodeRect:S.rect,scrollableAncestors:g,scrollableAncestorRects:x,transform:T,windowRect:C}),R=Ih(f),I=YP({config:r,draggableNodes:v,droppableContainers:y,measuringConfiguration:m}),O=R?S.setRef:void 0;return se.createElement(BP,null,se.createElement(VP,{animation:I},c&&k?se.createElement($P,{key:k,id:c.id,ref:O,as:l,activatorEvent:d,adjustScale:e,className:a,transition:s,rect:R,style:{zIndex:u,...i},transform:E},n):null))});function Ph(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function ZP(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function ul(t){return t!==null&&t>=0}function JP(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function eR(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const cx=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=Ph(e,r,n),o=e[i],l=s[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},cl={scaleX:1,scaleY:1},tR=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const l=(e=s[n])!=null?e:r;if(!l)return null;if(i===n){const u=s[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...cl}:null}const a=nR(s,i,n);return i>n&&i<=o?{x:0,y:-l.height-a,...cl}:i<n&&i>=o?{x:0,y:l.height+a,...cl}:{x:0,y:0,...cl}};function nR(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const dx="Sortable",fx=se.createContext({activeIndex:-1,containerId:dx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:cx,disabled:{draggable:!1,droppable:!1}});function rR(t){let{children:e,id:n,items:r,strategy:i=cx,disabled:s=!1}=t;const{active:o,dragOverlay:l,droppableRects:a,over:u,measureDroppableContainers:d}=ux(),c=Do(dx,n),f=l.rect!==null,h=w.useMemo(()=>r.map(T=>typeof T=="object"&&"id"in T?T.id:T),[r]),v=o!=null,y=o?h.indexOf(o.id):-1,S=u?h.indexOf(u.id):-1,p=w.useRef(h),m=!JP(h,p.current),g=S!==-1&&y===-1||m,x=eR(s);zt(()=>{m&&v&&d(h)},[m,h,v,d]),w.useEffect(()=>{p.current=h},[h]);const C=w.useMemo(()=>({activeIndex:y,containerId:c,disabled:x,disableTransforms:g,items:h,overIndex:S,useDragOverlay:f,sortedRects:ZP(h,a),strategy:i}),[y,c,x.draggable,x.droppable,g,h,S,a,f,i]);return se.createElement(fx.Provider,{value:C},e)}const iR=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return Ph(n,r,i).indexOf(e)},sR=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:l,previousContainerId:a,transition:u}=t;return!u||!r||l!==s&&i===o?!1:n?!0:o!==i&&e===a},oR={duration:200,easing:"ease"},hx="transform",lR=tr.Transition.toString({property:hx,duration:0,easing:"linear"}),aR={roleDescription:"sortable"};function uR(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=w.useState(null),l=w.useRef(n);return zt(()=>{if(!e&&n!==l.current&&r.current){const a=i.current;if(a){const u=Wi(r.current,{ignoreTransform:!0}),d={x:a.left-u.left,y:a.top-u.top,scaleX:a.width/u.width,scaleY:a.height/u.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[e,n,r,i]),w.useEffect(()=>{s&&o(null)},[s]),s}function px(t){let{animateLayoutChanges:e=sR,attributes:n,disabled:r,data:i,getNewIndex:s=iR,id:o,strategy:l,resizeObserverConfig:a,transition:u=oR}=t;const{items:d,containerId:c,activeIndex:f,disabled:h,disableTransforms:v,sortedRects:y,overIndex:S,useDragOverlay:p,strategy:m}=w.useContext(fx),g=cR(r,h),x=d.indexOf(o),C=w.useMemo(()=>({sortable:{containerId:c,index:x,items:d},...i}),[c,i,x,d]),T=w.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:k,node:E,isOver:R,setNodeRef:I}=jP({id:o,data:C,disabled:g.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...a}}),{active:O,activatorEvent:le,activeNodeRect:Q,attributes:Pe,setNodeRef:Ut,listeners:Jt,isDragging:W,over:P,setActivatorNodeRef:A,transform:L}=OP({id:o,data:C,attributes:{...aR,...n},disabled:g.draggable}),X=wI(I,Ut),$=!!O,Xe=$&&!v&&ul(f)&&ul(S),He=!p&&W,en=He&&Xe?L:null,tn=Xe?en??(l??m)({rects:y,activeNodeRect:Q,activeIndex:f,overIndex:S,index:x}):null,Tn=ul(f)&&ul(S)?s({id:o,items:d,activeIndex:f,overIndex:S}):x,nn=O==null?void 0:O.id,Y=w.useRef({activeId:nn,items:d,newIndex:Tn,containerId:c}),Yi=d!==Y.current.items,Wt=e({active:O,containerId:c,isDragging:W,isSorting:$,id:o,index:x,items:d,newIndex:Y.current.newIndex,previousItems:Y.current.items,previousContainerId:Y.current.containerId,transition:u,wasDragging:Y.current.activeId!=null}),jr=uR({disabled:!Wt,index:x,node:E,rect:k});return w.useEffect(()=>{$&&Y.current.newIndex!==Tn&&(Y.current.newIndex=Tn),c!==Y.current.containerId&&(Y.current.containerId=c),d!==Y.current.items&&(Y.current.items=d)},[$,Tn,c,d]),w.useEffect(()=>{if(nn===Y.current.activeId)return;if(nn!=null&&Y.current.activeId==null){Y.current.activeId=nn;return}const Vr=setTimeout(()=>{Y.current.activeId=nn},50);return()=>clearTimeout(Vr)},[nn]),{active:O,activeIndex:f,attributes:Pe,data:C,rect:k,index:x,newIndex:Tn,items:d,isOver:R,isSorting:$,isDragging:W,listeners:Jt,node:E,overIndex:S,over:P,setNodeRef:X,setActivatorNodeRef:A,setDroppableNodeRef:I,setDraggableNodeRef:Ut,transform:jr??tn,transition:rn()};function rn(){if(jr||Yi&&Y.current.newIndex===x)return lR;if(!(He&&!tu(le)||!u)&&($||Wt))return tr.Transition.toString({...u,property:hx})}}function cR(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function pa(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const dR=[U.Down,U.Right,U.Up,U.Left],fR=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:l}}=e;if(dR.includes(t.code)){if(t.preventDefault(),!n||!r)return;const a=[];s.getEnabled().forEach(c=>{if(!c||c!=null&&c.disabled)return;const f=i.get(c.id);if(f)switch(t.code){case U.Down:r.top<f.top&&a.push(c);break;case U.Up:r.top>f.top&&a.push(c);break;case U.Left:r.left>f.left&&a.push(c);break;case U.Right:r.left<f.left&&a.push(c);break}});const u=jI({collisionRect:r,droppableRects:i,droppableContainers:a});let d=Gw(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const c=s.get(n.id),f=s.get(d),h=f?i.get(f.id):null,v=f==null?void 0:f.node.current;if(v&&h&&c&&f){const S=nu(v).some((T,k)=>l[k]!==T),p=mx(c,f),m=hR(c,f),g=S||!p?{x:0,y:0}:{x:m?r.width-h.width:0,y:m?r.height-h.height:0},x={x:h.left,y:h.top};return g.x&&g.y?x:uo(x,g)}}}};function mx(t,e){return!pa(t)||!pa(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function hR(t,e){return!pa(t)||!pa(e)||!mx(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(t,e){if(!t)throw $i(e)},$i=function(t){return new Error("Firebase Database ("+gx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Rh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,d=s>>2,c=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,h=u&63;a||(h=64,o||(f=64)),r.push(n[d],n[c],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||c==null)throw new mR;const f=s<<2|l>>4;if(r.push(f),u!==64){const h=l<<4&240|u>>2;if(r.push(h),c!==64){const v=u<<6&192|c;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yx=function(t){const e=vx(t);return Rh.encodeByteArray(e,!0)},ma=function(t){return yx(t).replace(/\./g,"")},Pd=function(t){try{return Rh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){return _x(void 0,t)}function _x(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!vR(n)||(t[n]=_x(t[n],e[n]));return t}function vR(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=()=>yR().__FIREBASE_DEFAULTS__,wR=()=>{if(typeof process>"u"||typeof sv>"u")return;const t=sv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pd(t[1]);return e&&JSON.parse(e)},wx=()=>{try{return _R()||wR()||xR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SR=t=>{var e,n;return(n=(e=wx())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CR=t=>{const e=SR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xx=()=>{var t;return(t=wx())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ma(JSON.stringify(n)),ma(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(TR())}function kR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bR(){return gx.NODE_ADMIN===!0}function NR(){try{return typeof indexedDB=="object"}catch{return!1}}function IR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="FirebaseError";class Mo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PR,Object.setPrototypeOf(this,Mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cx.prototype.create)}}class Cx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?RR(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Mo(i,l,r)}}function RR(t,e){return t.replace(DR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){return JSON.parse(t)}function Ne(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=fo(Pd(s[0])||""),n=fo(Pd(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},AR=function(t){const e=Ex(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},MR=function(t){const e=Ex(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Di(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ov(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ga(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Rd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lv(s)&&lv(o)){if(!Rd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=l^s&(o^l),d=1518500249):(u=s^o^l,d=1859775393):c<60?(u=s&o|l&(s|o),d=2400959708):(u=s^o^l,d=3395469782);const f=(i<<5|i>>>27)+u+a+d+r[c]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Dh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,N(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ou=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){return t&&t._delegate?t._delegate:t}class ho{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new su;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zR(e))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pr){return this.instances.has(e)}getOptions(e=pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pr){return this.component?this.component.multipleInstances?e:pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VR(t){return t===pr?void 0:t}function zR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Z||(Z={}));const UR={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},WR=Z.INFO,$R={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},HR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$R[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tx{constructor(e){this.name=e,this._logLevel=WR,this._logHandler=HR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}}const KR=(t,e)=>e.some(n=>t instanceof n);let av,uv;function GR(){return av||(av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YR(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kx=new WeakMap,Dd=new WeakMap,bx=new WeakMap,lc=new WeakMap,Ah=new WeakMap;function QR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kx.set(n,t)}).catch(()=>{}),Ah.set(e,t),e}function qR(t){if(Dd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dd.set(t,e)}let Ad={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XR(t){Ad=t(Ad)}function ZR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ac(this),e,...n);return bx.set(r,e.sort?e.sort():[e]),Yn(r)}:YR().includes(t)?function(...e){return t.apply(ac(this),e),Yn(kx.get(this))}:function(...e){return Yn(t.apply(ac(this),e))}}function JR(t){return typeof t=="function"?ZR(t):(t instanceof IDBTransaction&&qR(t),KR(t,GR())?new Proxy(t,Ad):t)}function Yn(t){if(t instanceof IDBRequest)return QR(t);if(lc.has(t))return lc.get(t);const e=JR(t);return e!==t&&(lc.set(t,e),Ah.set(e,t)),e}const ac=t=>Ah.get(t);function eD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Yn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Yn(o.result),a.oldVersion,a.newVersion,Yn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const tD=["get","getKey","getAll","getAllKeys","count"],nD=["put","add","delete","clear"],uc=new Map;function cv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uc.get(e))return uc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tD.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return uc.set(e,s),s}XR(t=>({...t,get:(e,n,r)=>cv(e,n)||t.get(e,n,r),has:(e,n)=>!!cv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Md="@firebase/app",dv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new Tx("@firebase/app"),sD="@firebase/app-compat",oD="@firebase/analytics-compat",lD="@firebase/analytics",aD="@firebase/app-check-compat",uD="@firebase/app-check",cD="@firebase/auth",dD="@firebase/auth-compat",fD="@firebase/database",hD="@firebase/data-connect",pD="@firebase/database-compat",mD="@firebase/functions",gD="@firebase/functions-compat",vD="@firebase/installations",yD="@firebase/installations-compat",_D="@firebase/messaging",wD="@firebase/messaging-compat",xD="@firebase/performance",SD="@firebase/performance-compat",CD="@firebase/remote-config",ED="@firebase/remote-config-compat",TD="@firebase/storage",kD="@firebase/storage-compat",bD="@firebase/firestore",ND="@firebase/vertexai-preview",ID="@firebase/firestore-compat",PD="firebase",RD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]",DD={[Md]:"fire-core",[sD]:"fire-core-compat",[lD]:"fire-analytics",[oD]:"fire-analytics-compat",[uD]:"fire-app-check",[aD]:"fire-app-check-compat",[cD]:"fire-auth",[dD]:"fire-auth-compat",[fD]:"fire-rtdb",[hD]:"fire-data-connect",[pD]:"fire-rtdb-compat",[mD]:"fire-fn",[gD]:"fire-fn-compat",[vD]:"fire-iid",[yD]:"fire-iid-compat",[_D]:"fire-fcm",[wD]:"fire-fcm-compat",[xD]:"fire-perf",[SD]:"fire-perf-compat",[CD]:"fire-rc",[ED]:"fire-rc-compat",[TD]:"fire-gcs",[kD]:"fire-gcs-compat",[bD]:"fire-fst",[ID]:"fire-fst-compat",[ND]:"fire-vertex","fire-js":"fire-js",[PD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Map,AD=new Map,Ld=new Map;function fv(t,e){try{t.container.addComponent(e)}catch(n){wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(Ld.has(e))return wn.debug(`There were multiple attempts to register component ${e}.`),!1;Ld.set(e,t);for(const n of va.values())fv(n,t);for(const n of AD.values())fv(n,t);return!0}function MD(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qn=new Cx("app","Firebase",OD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=RD;function Nx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Od,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qn.create("bad-app-name",{appName:String(i)});if(n||(n=xx()),!n)throw Qn.create("no-options");const s=va.get(i);if(s){if(Rd(n,s.options)&&Rd(r,s.config))return s;throw Qn.create("duplicate-app",{appName:i})}const o=new BR(i);for(const a of Ld.values())o.addComponent(a);const l=new LD(n,r,o);return va.set(i,l),l}function jD(t=Od){const e=va.get(t);if(!e&&t===Od&&xx())return Nx();if(!e)throw Qn.create("no-app",{appName:t});return e}function yi(t,e,n){var r;let i=(r=DD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wn.warn(l.join(" "));return}ya(new ho(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="firebase-heartbeat-database",zD=1,po="firebase-heartbeat-store";let cc=null;function Ix(){return cc||(cc=eD(VD,zD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(po)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qn.create("idb-open",{originalErrorMessage:t.message})})),cc}async function BD(t){try{const n=(await Ix()).transaction(po),r=await n.objectStore(po).get(Px(t));return await n.done,r}catch(e){if(e instanceof Mo)wn.warn(e.message);else{const n=Qn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wn.warn(n.message)}}}async function hv(t,e){try{const r=(await Ix()).transaction(po,"readwrite");await r.objectStore(po).put(e,Px(t)),await r.done}catch(n){if(n instanceof Mo)wn.warn(n.message);else{const r=Qn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wn.warn(r.message)}}}function Px(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=1024,WD=30*24*60*60*1e3;class $D{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=WD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pv(),{heartbeatsToSend:r,unsentEntries:i}=HD(this._heartbeatsCache.heartbeats),s=ma(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return wn.warn(n),""}}}function pv(){return new Date().toISOString().substring(0,10)}function HD(t,e=UD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NR()?IR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mv(t){return ma(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){ya(new ho("platform-logger",e=>new rD(e),"PRIVATE")),ya(new ho("heartbeat",e=>new $D(e),"PRIVATE")),yi(Md,dv,t),yi(Md,dv,"esm2017"),yi("fire-js","")}GD("");var YD="firebase",QD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(YD,QD,"app");var gv={};const vv="@firebase/database",yv="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rx="";function qD(t){Rx=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ne(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new XD(e)}}catch{}return new ZD},wr=Dx("localStorage"),JD=Dx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Tx("@firebase/database"),eA=function(){let t=1;return function(){return t++}}(),Ax=function(t){const e=FR(t),n=new LR;n.update(e);const r=n.digest();return Rh.encodeByteArray(r)},Lo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Lo.apply(null,r):typeof r=="object"?e+=Ne(r):e+=r,e+=" "}return e};let Os=null,_v=!0;const tA=function(t,e){N(!0,"Can't turn on custom loggers persistently."),_i.logLevel=Z.VERBOSE,Os=_i.log.bind(_i)},Ue=function(...t){if(_v===!0&&(_v=!1,Os===null&&JD.get("logging_enabled")===!0&&tA()),Os){const e=Lo.apply(null,t);Os(e)}},Fo=function(t){return function(...e){Ue(t,...e)}},Fd=function(...t){const e="FIREBASE INTERNAL ERROR: "+Lo(...t);_i.error(e)},xn=function(...t){const e=`FIREBASE FATAL ERROR: ${Lo(...t)}`;throw _i.error(e),new Error(e)},st=function(...t){const e="FIREBASE WARNING: "+Lo(...t);_i.warn(e)},nA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&st("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Mx=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},rA=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ai="[MIN_NAME]",Pr="[MAX_NAME]",Hi=function(t,e){if(t===e)return 0;if(t===Ai||e===Pr)return-1;if(e===Ai||t===Pr)return 1;{const n=wv(t),r=wv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},iA=function(t,e){return t===e?0:t<e?-1:1},as=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ne(e))},Mh=function(t){if(typeof t!="object"||t===null)return Ne(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ne(e[r]),n+=":",n+=Mh(t[e[r]]);return n+="}",n},Ox=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Lx=function(t){N(!Mx(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let c="";for(a=0;a<64;a+=8){let f=parseInt(d.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},sA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},oA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lA(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const aA=new RegExp("^-?(0*)\\d{1,10}$"),uA=-2147483648,cA=2147483647,wv=function(t){if(aA.test(t)){const e=Number(t);if(e>=uA&&e<=cA)return e}return null},Ki=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw st("Exception was thrown by user callback.",n),e},Math.floor(0))}},dA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ls=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){st(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',st(e)}}class Pl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="5",Fx="v",jx="s",Vx="r",zx="f",Bx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ux="ls",Wx="p",jd="ac",$x="websocket",Hx="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function pA(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Gx(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(e===$x)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Hx)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);pA(t)&&(n.ns=t.namespace);const i=[];return ot(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.counters_={}}incrementCounter(e,n=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return gR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc={},fc={};function Lh(t){const e=t.toString();return dc[e]||(dc[e]=new mA),dc[e]}function gA(t,e){const n=t.toString();return fc[n]||(fc[n]=e()),fc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ki(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="start",yA="close",_A="pLPCommand",wA="pRTLPCB",Yx="id",Qx="pw",qx="ser",xA="cb",SA="seg",CA="ts",EA="d",TA="dframe",Xx=1870,Zx=30,kA=Xx-Zx,bA=25e3,NA=3e4;class ci{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fo(e),this.stats_=Lh(n),this.urlFn=a=>(this.appCheckToken&&(a[jd]=this.appCheckToken),Gx(n,Hx,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new vA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(NA)),rA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fh((...s)=>{const[o,l,a,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===xv)this.id=l,this.password=a;else if(o===yA)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[xv]="t",r[qx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[xA]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Fx]=Oh,this.transportSessionId&&(r[jx]=this.transportSessionId),this.lastSessionId&&(r[Ux]=this.lastSessionId),this.applicationId&&(r[Wx]=this.applicationId),this.appCheckToken&&(r[jd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Bx.test(location.hostname)&&(r[Vx]=zx);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ci.forceAllow_=!0}static forceDisallow(){ci.forceDisallow_=!0}static isAvailable(){return ci.forceAllow_?!0:!ci.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!sA()&&!oA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ne(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=yx(n),i=Ox(r,kA);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[TA]="t",r[Yx]=e,r[Qx]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ne(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Fh{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=eA(),window[_A+this.uniqueCallbackIdentifier]=e,window[wA+this.uniqueCallbackIdentifier]=n,this.myIFrame=Fh.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ue("frame writing exception"),l.stack&&Ue(l.stack),Ue(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ue("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Yx]=this.myID,e[Qx]=this.myPW,e[qx]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Zx+r.length<=Xx;){const o=this.pendingSegs.shift();r=r+"&"+SA+i+"="+o.seg+"&"+CA+i+"="+o.ts+"&"+EA+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(bA)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ue("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=16384,PA=45e3;let _a=null;typeof MozWebSocket<"u"?_a=MozWebSocket:typeof WebSocket<"u"&&(_a=WebSocket);class At{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fo(this.connId),this.stats_=Lh(n),this.connURL=At.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Fx]=Oh,typeof location<"u"&&location.hostname&&Bx.test(location.hostname)&&(o[Vx]=zx),n&&(o[jx]=n),r&&(o[Ux]=r),i&&(o[jd]=i),s&&(o[Wx]=s),Gx(e,$x,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wr.set("previous_websocket_failure",!0);try{let r;bR(),this.mySock=new _a(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){At.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&_a!==null&&!At.forceDisallow_}static previouslyFailed(){return wr.isInMemoryStorage||wr.get("previous_websocket_failure")===!0}markConnectionHealthy(){wr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=fo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(N(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ne(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ox(n,IA);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PA))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}At.responsesRequiredToBeHealthy=2;At.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ci,At]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=At&&At.isAvailable();let r=n&&!At.previouslyFailed();if(e.webSocketOnly&&(n||st("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[At];else{const i=this.transports_=[];for(const s of mo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);mo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=6e4,DA=5e3,AA=10*1024,MA=100*1024,hc="t",Sv="d",OA="s",Cv="r",LA="e",Ev="o",Tv="a",kv="n",bv="p",FA="h";class jA{constructor(e,n,r,i,s,o,l,a,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fo("c:"+this.id+":"),this.transportManager_=new mo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ls(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>MA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>AA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(hc in e){const n=e[hc];n===Tv?this.upgradeIfSecondaryHealthy_():n===Cv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ev&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=as("t",e),r=as("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:bv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Tv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=as("t",e),r=as("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=as(hc,e);if(Sv in e){const r=e[Sv];if(n===FA){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===kv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===OA?this.onConnectionShutdown_(r):n===Cv?this.onReset_(r):n===LA?Fd("Server Error: "+r):n===Ev?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Oh!==r&&st("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ls(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(RA))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ls(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:bv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends eS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Sx()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new wa}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=32,Iv=768;class q{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function K(){return new q("")}function j(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function nr(t){return t.pieces_.length-t.pieceNum_}function J(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new q(t.pieces_,e)}function tS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function VA(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function nS(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function rS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new q(e,0)}function Se(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof q)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new q(n,0)}function z(t){return t.pieceNum_>=t.pieces_.length}function et(t,e){const n=j(t),r=j(e);if(n===null)return e;if(n===r)return et(J(t),J(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function jh(t,e){if(nr(t)!==nr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Mt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(nr(t)>nr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class zA{constructor(e,n){this.errorPrefix_=n,this.parts_=nS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ou(this.parts_[r]);iS(this)}}function BA(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ou(e),iS(t)}function UA(t){const e=t.parts_.pop();t.byteLength_-=ou(e),t.parts_.length>0&&(t.byteLength_-=1)}function iS(t){if(t.byteLength_>Iv)throw new Error(t.errorPrefix_+"has a key path longer than "+Iv+" bytes ("+t.byteLength_+").");if(t.parts_.length>Nv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Nv+") or object contains a cycle "+mr(t))}function mr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends eS{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Vh}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=1e3,WA=60*5*1e3,Pv=30*1e3,$A=1.3,HA=3e4,KA="server_kill",Rv=3;class pn extends Jx{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=pn.nextPersistentConnectionId_++,this.log_=Fo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=us,this.maxReconnectDelay_=WA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&wa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ne(s)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new su,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;pn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&En(e,"w")){const r=Di(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();st(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||MR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Pv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=AR(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ne(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Fd("Unrecognized action received from server: "+Ne(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>HA&&(this.reconnectDelay_=us),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$A)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+pn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(c){N(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,l=new jA(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{st(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(KA)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&st(c),a())}}}interrupt(e){Ue("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ue("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ov(this.interruptReasons_)&&(this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Mh(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new q(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ue("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Rv&&(this.reconnectDelay_=Pv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ue("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Rv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Rx.replace(/\./g,"-")]=1,Sx()?e["framework.cordova"]=1:kR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wa.getInstance().currentlyOnline();return ov(this.interruptReasons_)&&e}}pn.nextPersistentConnectionId_=0;pn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new V(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new V(Ai,e),i=new V(Ai,n);return this.compare(r,i)!==0}minPost(){return V.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;class sS extends lu{static get __EMPTY_NODE(){return dl}static set __EMPTY_NODE(e){dl=e}compare(e,n){return Hi(e.name,n.name)}isDefinedOn(e){throw $i("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return V.MIN}maxPost(){return new V(Pr,dl)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new V(e,dl)}toString(){return".key"}}const wi=new sS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class be{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??be.RED,this.left=i??tt.EMPTY_NODE,this.right=s??tt.EMPTY_NODE}copy(e,n,r,i,s){return new be(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return tt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return tt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}be.RED=!0;be.BLACK=!1;class GA{copy(e,n,r,i,s){return this}insert(e,n,r){return new be(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class tt{constructor(e,n=tt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new tt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,be.BLACK,null,null))}remove(e){return new tt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,be.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fl(this.root_,null,this.comparator_,!0,e)}}tt.EMPTY_NODE=new GA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t,e){return Hi(t.name,e.name)}function zh(t,e){return Hi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd;function QA(t){Vd=t}const oS=function(t){return typeof t=="number"?"number:"+Lx(t):"string:"+t},lS=function(t){if(t.isLeafNode()){const e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else N(t===Vd||t.isEmpty(),"priority of unexpected type.");N(t===Vd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dv;class Ee{constructor(e,n=Ee.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lS(this.priorityNode_)}static set __childrenNodeConstructor(e){Dv=e}static get __childrenNodeConstructor(){return Dv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ee(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ee.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return z(e)?this:j(e)===".priority"?this.priorityNode_:Ee.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ee.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=j(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(N(r!==".priority"||nr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ee.__childrenNodeConstructor.EMPTY_NODE.updateChild(J(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+oS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Lx(this.value_):e+=this.value_,this.lazyHash_=Ax(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ee.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ee.__childrenNodeConstructor?-1:(N(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ee.VALUE_TYPE_ORDER.indexOf(n),s=Ee.VALUE_TYPE_ORDER.indexOf(r);return N(i>=0,"Unknown leaf type: "+n),N(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ee.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aS,uS;function qA(t){aS=t}function XA(t){uS=t}class ZA extends lu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Hi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return V.MIN}maxPost(){return new V(Pr,new Ee("[PRIORITY-POST]",uS))}makePost(e,n){const r=aS(e);return new V(n,new Ee("[PRIORITY-POST]",r))}toString(){return".priority"}}const me=new ZA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=Math.log(2);class e2{constructor(e){const n=s=>parseInt(Math.log(s)/JA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xa=function(t,e,n,r){t.sort(e);const i=function(a,u){const d=u-a;let c,f;if(d===0)return null;if(d===1)return c=t[a],f=n?n(c):c,new be(f,c.node,be.BLACK,null,null);{const h=parseInt(d/2,10)+a,v=i(a,h),y=i(h+1,u);return c=t[h],f=n?n(c):c,new be(f,c.node,be.BLACK,v,y)}},s=function(a){let u=null,d=null,c=t.length;const f=function(v,y){const S=c-v,p=c;c-=v;const m=i(S+1,p),g=t[S],x=n?n(g):g;h(new be(x,g.node,y,null,m))},h=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),S=Math.pow(2,a.count-(v+1));y?f(S,be.BLACK):(f(S,be.BLACK),f(S,be.RED))}return d},o=new e2(t.length),l=s(o);return new tt(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc;const Hr={};class cn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return N(Hr&&me,"ChildrenNode.ts has not been loaded"),pc=pc||new cn({".priority":Hr},{".priority":me}),pc}get(e){const n=Di(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof tt?n:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,n){N(e!==wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(V.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=xa(r,e.getCompare()):l=Hr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const d=Object.assign({},this.indexes_);return d[a]=l,new cn(d,u)}addToIndexes(e,n){const r=ga(this.indexes_,(i,s)=>{const o=Di(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===Hr)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(V.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),xa(l,o.getCompare())}else return Hr;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new V(e.name,l))),a.insert(e,e.node)}});return new cn(r,this.indexSet_)}removeFromIndexes(e,n){const r=ga(this.indexes_,i=>{if(i===Hr)return i;{const s=n.get(e.name);return s?i.remove(new V(e.name,s)):i}});return new cn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cs;class F{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&lS(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cs||(cs=new F(new tt(zh),null,cn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cs}updatePriority(e){return this.children_.isEmpty()?this:new F(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?cs:n}}getChild(e){const n=j(e);return n===null?this:this.getImmediateChild(n).getChild(J(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(N(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new V(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?cs:this.priorityNode_;return new F(i,o,s)}}updateChild(e,n){const r=j(e);if(r===null)return n;{N(j(e)!==".priority"||nr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(J(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(me,(o,l)=>{n[o]=l.val(e),r++,s&&F.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+oS(this.getPriority().val())+":"),this.forEachChild(me,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Ax(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new V(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new V(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new V(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,V.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,V.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jo?-1:0}withIndex(e){if(e===wi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new F(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===wi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(me),i=n.getIterator(me);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===wi?null:this.indexMap_.get(e.toString())}}F.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class t2 extends F{constructor(){super(new tt(zh),F.EMPTY_NODE,cn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return F.EMPTY_NODE}isEmpty(){return!1}}const jo=new t2;Object.defineProperties(V,{MIN:{value:new V(Ai,F.EMPTY_NODE)},MAX:{value:new V(Pr,jo)}});sS.__EMPTY_NODE=F.EMPTY_NODE;Ee.__childrenNodeConstructor=F;QA(jo);XA(jo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=!0;function Me(t,e=null){if(t===null)return F.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ee(n,Me(e))}if(!(t instanceof Array)&&n2){const n=[];let r=!1;if(ot(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Me(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new V(o,a)))}}),n.length===0)return F.EMPTY_NODE;const s=xa(n,YA,o=>o.name,zh);if(r){const o=xa(n,me.getCompare());return new F(s,Me(e),new cn({".priority":o},{".priority":me}))}else return new F(s,Me(e),cn.Default)}else{let n=F.EMPTY_NODE;return ot(t,(r,i)=>{if(En(t,r)&&r.substring(0,1)!=="."){const s=Me(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Me(e))}}qA(Me);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends lu{constructor(e){super(),this.indexPath_=e,N(!z(e)&&j(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Hi(e.name,n.name):s}makePost(e,n){const r=Me(e),i=F.EMPTY_NODE.updateChild(this.indexPath_,r);return new V(n,i)}maxPost(){const e=F.EMPTY_NODE.updateChild(this.indexPath_,jo);return new V(Pr,e)}toString(){return nS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2 extends lu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Hi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return V.MIN}maxPost(){return V.MAX}makePost(e,n){const r=Me(e);return new V(n,r)}toString(){return".value"}}const s2=new i2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){return{type:"value",snapshotNode:t}}function Mi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function go(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function o2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(go(n,l)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Mi(n,r)):o.trackChildChange(vo(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(me,(i,s)=>{n.hasChild(i)||r.trackChildChange(go(i,s))}),n.isLeafNode()||n.forEachChild(me,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(vo(i,s,o))}else r.trackChildChange(Mi(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?F.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.indexedFilter_=new Bh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yo.getStartPost_(e),this.endPost_=yo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new V(n,r))||(r=F.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=F.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(F.EMPTY_NODE);const s=this;return n.forEachChild(me,(o,l)=>{s.matches(new V(o,l))||(i=i.updateImmediateChild(o,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new yo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new V(n,r))||(r=F.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=F.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(F.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(f,h)=>c(h,f)}else o=this.index_.getCompare();const l=e;N(l.numChildren()===this.limit_,"");const a=new V(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,a);if(d&&!r.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(vo(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(go(n,c));const y=l.updateImmediateChild(n,F.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Mi(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:d&&o(u,a)>=0?(s!=null&&(s.trackChildChange(go(u.name,u.node)),s.trackChildChange(Mi(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,F.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ai}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===me}copy(){const e=new Uh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function a2(t){return t.loadsAllData()?new Bh(t.getIndex()):t.hasLimit()?new l2(t):new yo(t)}function Av(t){const e={};if(t.isDefault())return e;let n;if(t.index_===me?n="$priority":t.index_===s2?n="$value":t.index_===wi?n="$key":(N(t.index_ instanceof r2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ne(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ne(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ne(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ne(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ne(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Mv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==me&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Jx{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Fo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Sa.getListenId_(e,r),l={};this.listens_[o]=l;const a=Av(e._queryParams);this.restRequest_(s+".json",a,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,r),Di(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Sa.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Av(e._queryParams),r=e._path.toString(),i=new su;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+OR(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=fo(l.responseText)}catch{st("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&st("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(){return{value:null,children:new Map}}function dS(t,e,n){if(z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=j(e);t.children.has(r)||t.children.set(r,Ca());const i=t.children.get(r);e=J(e),dS(i,e,n)}}function zd(t,e,n){t.value!==null?n(e,t.value):c2(t,(r,i)=>{const s=new q(e.toString()+"/"+r);zd(i,s,n)})}function c2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ot(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=10*1e3,f2=30*1e3,h2=5*60*1e3;class p2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new d2(e);const r=Ov+(f2-Ov)*Math.random();Ls(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ot(e,(i,s)=>{s>0&&En(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ls(this.reportStats_.bind(this),Math.floor(Math.random()*2*h2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ot||(Ot={}));function fS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $h(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ot.ACK_USER_WRITE,this.source=fS()}operationForChild(e){if(z(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new q(e));return new Ea(K(),n,this.revert)}}else return N(j(this.path)===e,"operationForChild called for unrelated child."),new Ea(J(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.source=e,this.path=n,this.type=Ot.LISTEN_COMPLETE}operationForChild(e){return z(this.path)?new _o(this.source,K()):new _o(this.source,J(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ot.OVERWRITE}operationForChild(e){return z(this.path)?new Rr(this.source,K(),this.snap.getImmediateChild(e)):new Rr(this.source,J(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ot.MERGE}operationForChild(e){if(z(this.path)){const n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new Rr(this.source,K(),n.value):new wo(this.source,K(),n)}else return N(j(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new wo(this.source,J(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(z(e))return this.isFullyInitialized()&&!this.filtered_;const n=j(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function g2(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(o2(o.childName,o.snapshotNode))}),ds(t,i,"child_removed",e,r,n),ds(t,i,"child_added",e,r,n),ds(t,i,"child_moved",s,r,n),ds(t,i,"child_changed",e,r,n),ds(t,i,"value",e,r,n),i}function ds(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>y2(t,l,a)),o.forEach(l=>{const a=v2(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function v2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function y2(t,e,n){if(e.childName==null||n.childName==null)throw $i("Should only compare child_ events.");const r=new V(e.childName,e.snapshotNode),i=new V(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t,e){return{eventCache:t,serverCache:e}}function Fs(t,e,n,r){return au(new Dr(e,n,r),t.serverCache)}function hS(t,e,n,r){return au(t.eventCache,new Dr(e,n,r))}function Bd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ar(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc;const _2=()=>(mc||(mc=new tt(iA)),mc);class ne{constructor(e,n=_2()){this.value=e,this.children=n}static fromObject(e){let n=new ne(null);return ot(e,(r,i)=>{n=n.set(new q(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(z(e))return null;{const r=j(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(J(e),n);return s!=null?{path:Se(new q(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(z(e))return this;{const n=j(e),r=this.children.get(n);return r!==null?r.subtree(J(e)):new ne(null)}}set(e,n){if(z(e))return new ne(n,this.children);{const r=j(e),s=(this.children.get(r)||new ne(null)).set(J(e),n),o=this.children.insert(r,s);return new ne(this.value,o)}}remove(e){if(z(e))return this.children.isEmpty()?new ne(null):new ne(null,this.children);{const n=j(e),r=this.children.get(n);if(r){const i=r.remove(J(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ne(null):new ne(this.value,s)}else return this}}get(e){if(z(e))return this.value;{const n=j(e),r=this.children.get(n);return r?r.get(J(e)):null}}setTree(e,n){if(z(e))return n;{const r=j(e),s=(this.children.get(r)||new ne(null)).setTree(J(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ne(this.value,o)}}fold(e){return this.fold_(K(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Se(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,K(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(z(e))return null;{const s=j(e),o=this.children.get(s);return o?o.findOnPath_(J(e),Se(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,K(),n)}foreachOnPath_(e,n,r){if(z(e))return this;{this.value&&r(n,this.value);const i=j(e),s=this.children.get(i);return s?s.foreachOnPath_(J(e),Se(n,i),r):new ne(null)}}foreach(e){this.foreach_(K(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Se(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.writeTree_=e}static empty(){return new jt(new ne(null))}}function js(t,e,n){if(z(e))return new jt(new ne(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=et(i,e);return s=s.updateChild(o,n),new jt(t.writeTree_.set(i,s))}else{const i=new ne(n),s=t.writeTree_.setTree(e,i);return new jt(s)}}}function Lv(t,e,n){let r=t;return ot(n,(i,s)=>{r=js(r,Se(e,i),s)}),r}function Fv(t,e){if(z(e))return jt.empty();{const n=t.writeTree_.setTree(e,new ne(null));return new jt(n)}}function Ud(t,e){return Fr(t,e)!=null}function Fr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(et(n.path,e)):null}function jv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(me,(r,i)=>{e.push(new V(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new V(r,i.value))}),e}function qn(t,e){if(z(e))return t;{const n=Fr(t,e);return n!=null?new jt(new ne(n)):new jt(t.writeTree_.subtree(e))}}function Wd(t){return t.writeTree_.isEmpty()}function Oi(t,e){return pS(K(),t.writeTree_,e)}function pS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=pS(Se(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Se(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t,e){return yS(e,t)}function w2(t,e,n,r,i){N(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=js(t.visibleWrites,e,n)),t.lastWriteId=r}function x2(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function S2(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&C2(l,r.path)?i=!1:Mt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return E2(t),!0;if(r.snap)t.visibleWrites=Fv(t.visibleWrites,r.path);else{const l=r.children;ot(l,a=>{t.visibleWrites=Fv(t.visibleWrites,Se(r.path,a))})}return!0}else return!1}function C2(t,e){if(t.snap)return Mt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Mt(Se(t.path,n),e))return!0;return!1}function E2(t){t.visibleWrites=mS(t.allWrites,T2,K()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function T2(t){return t.visible}function mS(t,e,n){let r=jt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Mt(n,o)?(l=et(n,o),r=js(r,l,s.snap)):Mt(o,n)&&(l=et(o,n),r=js(r,K(),s.snap.getChild(l)));else if(s.children){if(Mt(n,o))l=et(n,o),r=Lv(r,l,s.children);else if(Mt(o,n))if(l=et(o,n),z(l))r=Lv(r,K(),s.children);else{const a=Di(s.children,j(l));if(a){const u=a.getChild(J(l));r=js(r,K(),u)}}}else throw $i("WriteRecord should have .snap or .children")}}return r}function gS(t,e,n,r,i){if(!r&&!i){const s=Fr(t.visibleWrites,e);if(s!=null)return s;{const o=qn(t.visibleWrites,e);if(Wd(o))return n;if(n==null&&!Ud(o,K()))return null;{const l=n||F.EMPTY_NODE;return Oi(o,l)}}}else{const s=qn(t.visibleWrites,e);if(!i&&Wd(s))return n;if(!i&&n==null&&!Ud(s,K()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Mt(u.path,e)||Mt(e,u.path))},l=mS(t.allWrites,o,e),a=n||F.EMPTY_NODE;return Oi(l,a)}}}function k2(t,e,n){let r=F.EMPTY_NODE;const i=Fr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(me,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=qn(t.visibleWrites,e);return n.forEachChild(me,(o,l)=>{const a=Oi(qn(s,new q(o)),l);r=r.updateImmediateChild(o,a)}),jv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=qn(t.visibleWrites,e);return jv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function b2(t,e,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Se(e,n);if(Ud(t.visibleWrites,s))return null;{const o=qn(t.visibleWrites,s);return Wd(o)?i.getChild(n):Oi(o,i.getChild(n))}}function N2(t,e,n,r){const i=Se(e,n),s=Fr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=qn(t.visibleWrites,i);return Oi(o,r.getNode().getImmediateChild(n))}else return null}function I2(t,e){return Fr(t.visibleWrites,e)}function P2(t,e,n,r,i,s,o){let l;const a=qn(t.visibleWrites,e),u=Fr(a,K());if(u!=null)l=u;else if(n!=null)l=Oi(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let h=f.getNext();for(;h&&d.length<i;)c(h,r)!==0&&d.push(h),h=f.getNext();return d}else return[]}function R2(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function Ta(t,e,n,r){return gS(t.writeTree,t.treePath,e,n,r)}function Kh(t,e){return k2(t.writeTree,t.treePath,e)}function Vv(t,e,n,r){return b2(t.writeTree,t.treePath,e,n,r)}function ka(t,e){return I2(t.writeTree,Se(t.treePath,e))}function D2(t,e,n,r,i,s){return P2(t.writeTree,t.treePath,e,n,r,i,s)}function Gh(t,e,n){return N2(t.writeTree,t.treePath,e,n)}function vS(t,e){return yS(Se(t.treePath,e),t.writeTree)}function yS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,vo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,go(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Mi(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,vo(r,e.snapshotNode,i.oldSnap));else throw $i("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const _S=new M2;class Yh{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Dr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gh(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ar(this.viewCache_),s=D2(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){return{filter:t}}function L2(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function F2(t,e,n,r,i){const s=new A2;let o,l;if(n.type===Ot.OVERWRITE){const u=n;u.source.fromUser?o=$d(t,e,u.path,u.snap,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!z(u.path),o=ba(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===Ot.MERGE){const u=n;u.source.fromUser?o=V2(t,e,u.path,u.children,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Hd(t,e,u.path,u.children,r,i,l,s))}else if(n.type===Ot.ACK_USER_WRITE){const u=n;u.revert?o=U2(t,e,u.path,r,i,s):o=z2(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ot.LISTEN_COMPLETE)o=B2(t,e,n.path,r,s);else throw $i("Unknown operation type: "+n.type);const a=s.getChanges();return j2(e,o,a),{viewCache:o,changes:a}}function j2(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Bd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(cS(Bd(e)))}}function wS(t,e,n,r,i,s){const o=e.eventCache;if(ka(r,n)!=null)return e;{let l,a;if(z(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ar(e),d=u instanceof F?u:F.EMPTY_NODE,c=Kh(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const u=Ta(r,Ar(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=j(n);if(u===".priority"){N(nr(n)===1,"Can't have a priority with additional path components");const d=o.getNode();a=e.serverCache.getNode();const c=Vv(r,n,d,a);c!=null?l=t.filter.updatePriority(d,c):l=o.getNode()}else{const d=J(n);let c;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const f=Vv(r,n,o.getNode(),a);f!=null?c=o.getNode().getImmediateChild(u).updateChild(d,f):c=o.getNode().getImmediateChild(u)}else c=Gh(r,u,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),u,c,d,i,s):l=o.getNode()}}return Fs(e,l,o.isFullyInitialized()||z(n),t.filter.filtersNodes())}}function ba(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(z(n))u=d.updateFullNode(a.getNode(),r,null);else if(d.filtersNodes()&&!a.isFiltered()){const h=a.getNode().updateChild(n,r);u=d.updateFullNode(a.getNode(),h,null)}else{const h=j(n);if(!a.isCompleteForPath(n)&&nr(n)>1)return e;const v=J(n),S=a.getNode().getImmediateChild(h).updateChild(v,r);h===".priority"?u=d.updatePriority(a.getNode(),S):u=d.updateChild(a.getNode(),h,S,v,_S,null)}const c=hS(e,u,a.isFullyInitialized()||z(n),d.filtersNodes()),f=new Yh(i,c,s);return wS(t,c,n,i,f,l)}function $d(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const d=new Yh(i,e,s);if(z(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=Fs(e,u,!0,t.filter.filtersNodes());else{const c=j(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Fs(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=J(n),h=l.getNode().getImmediateChild(c);let v;if(z(f))v=r;else{const y=d.getCompleteChild(c);y!=null?tS(f)===".priority"&&y.getChild(rS(f)).isEmpty()?v=y:v=y.updateChild(f,r):v=F.EMPTY_NODE}if(h.equals(v))a=e;else{const y=t.filter.updateChild(l.getNode(),c,v,f,d,o);a=Fs(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function zv(t,e){return t.eventCache.isCompleteForChild(e)}function V2(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const d=Se(n,a);zv(e,j(d))&&(l=$d(t,l,d,u,i,s,o))}),r.foreach((a,u)=>{const d=Se(n,a);zv(e,j(d))||(l=$d(t,l,d,u,i,s,o))}),l}function Bv(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Hd(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;z(n)?u=r:u=new ne(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const h=e.serverCache.getNode().getImmediateChild(c),v=Bv(t,h,f);a=ba(t,a,new q(c),v,i,s,o,l)}}),u.children.inorderTraversal((c,f)=>{const h=!e.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!h){const v=e.serverCache.getNode().getImmediateChild(c),y=Bv(t,v,f);a=ba(t,a,new q(c),y,i,s,o,l)}}),a}function z2(t,e,n,r,i,s,o){if(ka(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(z(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return ba(t,e,n,a.getNode().getChild(n),i,s,l,o);if(z(n)){let u=new ne(null);return a.getNode().forEachChild(wi,(d,c)=>{u=u.set(new q(d),c)}),Hd(t,e,n,u,i,s,l,o)}else return e}else{let u=new ne(null);return r.foreach((d,c)=>{const f=Se(n,d);a.isCompleteForPath(f)&&(u=u.set(d,a.getNode().getChild(f)))}),Hd(t,e,n,u,i,s,l,o)}}function B2(t,e,n,r,i){const s=e.serverCache,o=hS(e,s.getNode(),s.isFullyInitialized()||z(n),s.isFiltered());return wS(t,o,n,r,_S,i)}function U2(t,e,n,r,i,s){let o;if(ka(r,n)!=null)return e;{const l=new Yh(r,e,i),a=e.eventCache.getNode();let u;if(z(n)||j(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Ta(r,Ar(e));else{const c=e.serverCache.getNode();N(c instanceof F,"serverChildren would be complete if leaf node"),d=Kh(r,c)}d=d,u=t.filter.updateFullNode(a,d,s)}else{const d=j(n);let c=Gh(r,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=a.getImmediateChild(d)),c!=null?u=t.filter.updateChild(a,d,c,J(n),l,s):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(a,d,F.EMPTY_NODE,J(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ta(r,Ar(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||ka(r,K())!=null,Fs(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Bh(r.getIndex()),s=a2(r);this.processor_=O2(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(F.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(F.EMPTY_NODE,l.getNode(),null),d=new Dr(a,o.isFullyInitialized(),i.filtersNodes()),c=new Dr(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=au(c,d),this.eventGenerator_=new m2(this.query_)}get query(){return this.query_}}function $2(t){return t.viewCache_.serverCache.getNode()}function H2(t,e){const n=Ar(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!z(e)&&!n.getImmediateChild(j(e)).isEmpty())?n.getChild(e):null}function Uv(t){return t.eventRegistrations_.length===0}function K2(t,e){t.eventRegistrations_.push(e)}function Wv(t,e,n){const r=[];if(n){N(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function $v(t,e,n,r){e.type===Ot.MERGE&&e.source.queryId!==null&&(N(Ar(t.viewCache_),"We should always have a full cache before handling merges"),N(Bd(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=F2(t.processor_,i,e,n,r);return L2(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,xS(t,s.changes,s.viewCache.eventCache.getNode(),null)}function G2(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(me,(s,o)=>{r.push(Mi(s,o))}),n.isFullyInitialized()&&r.push(cS(n.getNode())),xS(t,r,n.getNode(),e)}function xS(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return g2(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na;class Y2{constructor(){this.views=new Map}}function Q2(t){N(!Na,"__referenceConstructor has already been defined"),Na=t}function q2(){return N(Na,"Reference.ts has not been loaded"),Na}function X2(t){return t.views.size===0}function Qh(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),$v(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat($v(o,e,n,r));return s}}function Z2(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Ta(n,i?r:null),a=!1;l?a=!0:r instanceof F?(l=Kh(n,r),a=!1):(l=F.EMPTY_NODE,a=!1);const u=au(new Dr(l,a,!1),new Dr(r,i,!1));return new W2(e,u)}return o}function J2(t,e,n,r,i,s){const o=Z2(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),K2(o,n),G2(o,n)}function eM(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=rr(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(Wv(u,n,r)),Uv(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(Wv(a,n,r)),Uv(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!rr(t)&&s.push(new(q2())(e._repo,e._path)),{removed:s,events:o}}function SS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function xi(t,e){let n=null;for(const r of t.views.values())n=n||H2(r,e);return n}function CS(t,e){if(e._queryParams.loadsAllData())return uu(t);{const r=e._queryIdentifier;return t.views.get(r)}}function ES(t,e){return CS(t,e)!=null}function rr(t){return uu(t)!=null}function uu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia;function tM(t){N(!Ia,"__referenceConstructor has already been defined"),Ia=t}function nM(){return N(Ia,"Reference.ts has not been loaded"),Ia}let rM=1;class Hv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ne(null),this.pendingWriteTree_=R2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TS(t,e,n,r,i){return w2(t.pendingWriteTree_,e,n,r,i),i?Vo(t,new Rr(fS(),e,n)):[]}function xr(t,e,n=!1){const r=x2(t.pendingWriteTree_,e);if(S2(t.pendingWriteTree_,e)){let s=new ne(null);return r.snap!=null?s=s.set(K(),!0):ot(r.children,o=>{s=s.set(new q(o),!0)}),Vo(t,new Ea(r.path,s,n))}else return[]}function cu(t,e,n){return Vo(t,new Rr(Wh(),e,n))}function iM(t,e,n){const r=ne.fromObject(n);return Vo(t,new wo(Wh(),e,r))}function sM(t,e){return Vo(t,new _o(Wh(),e))}function oM(t,e,n){const r=Xh(t,n);if(r){const i=Zh(r),s=i.path,o=i.queryId,l=et(s,e),a=new _o($h(o),l);return Jh(t,s,a)}else return[]}function Kd(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||ES(o,e))){const a=eM(o,e,n,r);X2(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const d=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(s,(f,h)=>rr(h));if(d&&!c){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=uM(f);for(let v=0;v<h.length;++v){const y=h[v],S=y.query,p=NS(t,y);t.listenProvider_.startListening(Vs(S),Pa(t,S),p.hashFn,p.onComplete)}}}!c&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(Vs(e),null):u.forEach(f=>{const h=t.queryToTagMap.get(du(f));t.listenProvider_.stopListening(Vs(f),h)}))}cM(t,u)}return l}function lM(t,e,n,r){const i=Xh(t,r);if(i!=null){const s=Zh(i),o=s.path,l=s.queryId,a=et(o,e),u=new Rr($h(l),a,n);return Jh(t,o,u)}else return[]}function aM(t,e,n,r){const i=Xh(t,r);if(i){const s=Zh(i),o=s.path,l=s.queryId,a=et(o,e),u=ne.fromObject(n),d=new wo($h(l),a,u);return Jh(t,o,d)}else return[]}function Kv(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const v=et(f,i);s=s||xi(h,v),o=o||rr(h)});let l=t.syncPointTree_.get(i);l?(o=o||rr(l),s=s||xi(l,K())):(l=new Y2,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=F.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,v)=>{const y=xi(v,K());y&&(s=s.updateImmediateChild(h,y))}));const u=ES(l,e);if(!u&&!e._queryParams.loadsAllData()){const f=du(e);N(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=dM();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const d=Hh(t.pendingWriteTree_,i);let c=J2(l,e,n,d,s,a);if(!u&&!o&&!r){const f=CS(l,e);c=c.concat(fM(t,e,f))}return c}function qh(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=et(o,e),u=xi(l,a);if(u)return u});return gS(i,e,s,n,!0)}function Vo(t,e){return kS(e,t.syncPointTree_,null,Hh(t.pendingWriteTree_,K()))}function kS(t,e,n,r){if(z(t.path))return bS(t,e,n,r);{const i=e.get(K());n==null&&i!=null&&(n=xi(i,K()));let s=[];const o=j(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,d=vS(r,o);s=s.concat(kS(l,a,u,d))}return i&&(s=s.concat(Qh(i,t,r,n))),s}}function bS(t,e,n,r){const i=e.get(K());n==null&&i!=null&&(n=xi(i,K()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=vS(r,o),d=t.operationForChild(o);d&&(s=s.concat(bS(d,l,a,u)))}),i&&(s=s.concat(Qh(i,t,r,n))),s}function NS(t,e){const n=e.query,r=Pa(t,n);return{hashFn:()=>($2(e)||F.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?oM(t,n._path,r):sM(t,n._path);{const s=lA(i,n);return Kd(t,n,null,s)}}}}function Pa(t,e){const n=du(e);return t.queryToTagMap.get(n)}function du(t){return t._path.toString()+"$"+t._queryIdentifier}function Xh(t,e){return t.tagToQueryMap.get(e)}function Zh(t){const e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}}function Jh(t,e,n){const r=t.syncPointTree_.get(e);N(r,"Missing sync point for query tag that we're tracking");const i=Hh(t.pendingWriteTree_,e);return Qh(r,n,i,null)}function uM(t){return t.fold((e,n,r)=>{if(n&&rr(n))return[uu(n)];{let i=[];return n&&(i=SS(n)),ot(r,(s,o)=>{i=i.concat(o)}),i}})}function Vs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(nM())(t._repo,t._path):t}function cM(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=du(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function dM(){return rM++}function fM(t,e,n){const r=e._path,i=Pa(t,e),s=NS(t,n),o=t.listenProvider_.startListening(Vs(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)N(!rr(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,c)=>{if(!z(u)&&d&&rr(d))return[uu(d).query];{let f=[];return d&&(f=f.concat(SS(d).map(h=>h.query))),ot(c,(h,v)=>{f=f.concat(v)}),f}});for(let u=0;u<a.length;++u){const d=a[u];t.listenProvider_.stopListening(Vs(d),Pa(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ep(n)}node(){return this.node_}}class tp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Se(this.path_,e);return new tp(this.syncTree_,n)}node(){return qh(this.syncTree_,this.path_)}}const hM=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Gv=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return pM(t[".sv"],e,n);if(typeof t[".sv"]=="object")return mM(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},pM=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},mM=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);const i=e.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},gM=function(t,e,n,r){return np(e,new tp(n,t),r)},IS=function(t,e,n){return np(t,new ep(e),n)};function np(t,e,n){const r=t.getPriority().val(),i=Gv(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Gv(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ee(l,Me(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ee(i))),o.forEachChild(me,(l,a)=>{const u=np(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ip(t,e){let n=e instanceof q?e:new q(e),r=t,i=j(n);for(;i!==null;){const s=Di(r.node.children,i)||{children:{},childCount:0};r=new rp(i,r,s),n=J(n),i=j(n)}return r}function Gi(t){return t.node.value}function PS(t,e){t.node.value=e,Gd(t)}function RS(t){return t.node.childCount>0}function vM(t){return Gi(t)===void 0&&!RS(t)}function fu(t,e){ot(t.node.children,(n,r)=>{e(new rp(n,t,r))})}function DS(t,e,n,r){n&&e(t),fu(t,i=>{DS(i,e,!0)})}function yM(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function zo(t){return new q(t.parent===null?t.name:zo(t.parent)+"/"+t.name)}function Gd(t){t.parent!==null&&_M(t.parent,t.name,t)}function _M(t,e,n){const r=vM(n),i=En(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Gd(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Gd(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=/[\[\].#$\/\u0000-\u001F\u007F]/,xM=/[\[\].#$\u0000-\u001F\u007F]/,gc=10*1024*1024,AS=function(t){return typeof t=="string"&&t.length!==0&&!wM.test(t)},MS=function(t){return typeof t=="string"&&t.length!==0&&!xM.test(t)},SM=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),MS(t)},CM=function(t,e,n,r){sp(Dh(t,"value"),e,n)},sp=function(t,e,n){const r=n instanceof q?new zA(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+mr(r));if(typeof e=="function")throw new Error(t+"contains a function "+mr(r)+" with contents = "+e.toString());if(Mx(e))throw new Error(t+"contains "+e.toString()+" "+mr(r));if(typeof e=="string"&&e.length>gc/3&&ou(e)>gc)throw new Error(t+"contains a string greater than "+gc+" utf8 bytes "+mr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ot(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!AS(o)))throw new Error(t+" contains an invalid key ("+o+") "+mr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);BA(r,o),sp(t,l,r),UA(r)}),i&&s)throw new Error(t+' contains ".value" child '+mr(r)+" in addition to actual children.")}},OS=function(t,e,n,r){if(!MS(n))throw new Error(Dh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},EM=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),OS(t,e,n)},TM=function(t,e){if(j(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},kM=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!AS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!SM(n))throw new Error(Dh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function op(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!jh(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function LS(t,e,n){op(t,n),FS(t,r=>jh(r,e))}function Sn(t,e,n){op(t,n),FS(t,r=>Mt(r,e)||Mt(e,r))}function FS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(NM(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function NM(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Os&&Ue("event: "+n.toString()),Ki(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="repo_interrupt",PM=25;class RM{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ca(),this.transactionQueueTree_=new rp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DM(t,e,n){if(t.stats_=Lh(t.repoInfo_),t.forceRestClient_||dA())t.server_=new Sa(t.repoInfo_,(r,i,s,o)=>{Yv(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Qv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ne(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new pn(t.repoInfo_,e,(r,i,s,o)=>{Yv(t,r,i,s,o)},r=>{Qv(t,r)},r=>{MM(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=gA(t.repoInfo_,()=>new p2(t.stats_,t.server_)),t.infoData_=new u2,t.infoSyncTree_=new Hv({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=cu(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ap(t,"connected",!1),t.serverSyncTree_=new Hv({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Sn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function AM(t){const n=t.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function lp(t){return hM({timestamp:AM(t)})}function Yv(t,e,n,r,i){t.dataUpdateCount++;const s=new q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=ga(n,u=>Me(u));o=aM(t.serverSyncTree_,s,a,i)}else{const a=Me(n);o=lM(t.serverSyncTree_,s,a,i)}else if(r){const a=ga(n,u=>Me(u));o=iM(t.serverSyncTree_,s,a)}else{const a=Me(n);o=cu(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=hu(t,s)),Sn(t.eventQueue_,l,o)}function Qv(t,e){ap(t,"connected",e),e===!1&&LM(t)}function MM(t,e){ot(e,(n,r)=>{ap(t,n,r)})}function ap(t,e,n){const r=new q("/.info/"+e),i=Me(n);t.infoData_.updateSnapshot(r,i);const s=cu(t.infoSyncTree_,r,i);Sn(t.eventQueue_,r,s)}function jS(t){return t.nextWriteId_++}function OM(t,e,n,r,i){up(t,"set",{path:e.toString(),value:n,priority:r});const s=lp(t),o=Me(n,r),l=qh(t.serverSyncTree_,e),a=IS(o,l,s),u=jS(t),d=TS(t.serverSyncTree_,e,a,u,!0);op(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const v=f==="ok";v||st("set at "+e+" failed: "+f);const y=xr(t.serverSyncTree_,u,!v);Sn(t.eventQueue_,e,y),VM(t,i,f,h)});const c=WS(t,e);hu(t,c),Sn(t.eventQueue_,c,[])}function LM(t){up(t,"onDisconnectEvents");const e=lp(t),n=Ca();zd(t.onDisconnect_,K(),(i,s)=>{const o=gM(i,s,t.serverSyncTree_,e);dS(n,i,o)});let r=[];zd(n,K(),(i,s)=>{r=r.concat(cu(t.serverSyncTree_,i,s));const o=WS(t,i);hu(t,o)}),t.onDisconnect_=Ca(),Sn(t.eventQueue_,K(),r)}function FM(t,e,n){let r;j(e._path)===".info"?r=Kv(t.infoSyncTree_,e,n):r=Kv(t.serverSyncTree_,e,n),LS(t.eventQueue_,e._path,r)}function qv(t,e,n){let r;j(e._path)===".info"?r=Kd(t.infoSyncTree_,e,n):r=Kd(t.serverSyncTree_,e,n),LS(t.eventQueue_,e._path,r)}function jM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(IM)}function up(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ue(n,...e)}function VM(t,e,n,r){e&&Ki(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function VS(t,e,n){return qh(t.serverSyncTree_,e,n)||F.EMPTY_NODE}function cp(t,e=t.transactionQueueTree_){if(e||pu(t,e),Gi(e)){const n=BS(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&zM(t,zo(e),n)}else RS(e)&&fu(e,n=>{cp(t,n)})}function zM(t,e,n){const r=n.map(u=>u.currentWriteId),i=VS(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const d=n[u];N(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=et(e,d.path);s=s.updateChild(c,d.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{up(t,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(xr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();pu(t,ip(t.transactionQueueTree_,e)),cp(t,t.transactionQueueTree_),Sn(t.eventQueue_,e,d);for(let f=0;f<c.length;f++)Ki(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{st("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}hu(t,e)}},o)}function hu(t,e){const n=zS(t,e),r=zo(n),i=BS(t,n);return BM(t,i,r),r}function BM(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=et(n,a.path);let d=!1,c;if(N(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,c=a.abortReason,i=i.concat(xr(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=PM)d=!0,c="maxretry",i=i.concat(xr(t.serverSyncTree_,a.currentWriteId,!0));else{const f=VS(t,a.path,o);a.currentInputSnapshot=f;const h=e[l].update(f.val());if(h!==void 0){sp("transaction failed: Data returned ",h,a.path);let v=Me(h);typeof h=="object"&&h!=null&&En(h,".priority")||(v=v.updatePriority(f.getPriority()));const S=a.currentWriteId,p=lp(t),m=IS(v,f,p);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=m,a.currentWriteId=jS(t),o.splice(o.indexOf(S),1),i=i.concat(TS(t.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),i=i.concat(xr(t.serverSyncTree_,S,!0))}else d=!0,c="nodata",i=i.concat(xr(t.serverSyncTree_,a.currentWriteId,!0))}Sn(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}pu(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Ki(r[l]);cp(t,t.transactionQueueTree_)}function zS(t,e){let n,r=t.transactionQueueTree_;for(n=j(e);n!==null&&Gi(r)===void 0;)r=ip(r,n),e=J(e),n=j(e);return r}function BS(t,e){const n=[];return US(t,e,n),n.sort((r,i)=>r.order-i.order),n}function US(t,e,n){const r=Gi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);fu(e,i=>{US(t,i,n)})}function pu(t,e){const n=Gi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,PS(e,n.length>0?n:void 0)}fu(e,r=>{pu(t,r)})}function WS(t,e){const n=zo(zS(t,e)),r=ip(t.transactionQueueTree_,e);return yM(r,i=>{vc(t,i)}),vc(t,r),DS(r,i=>{vc(t,i)}),n}function vc(t,e){const n=Gi(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(xr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?PS(e,void 0):n.length=s+1,Sn(t.eventQueue_,zo(e),i);for(let o=0;o<r.length;o++)Ki(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function WM(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):st(`Invalid query segment '${n}' in query '${t}'`)}return e}const Xv=function(t,e){const n=$M(t),r=n.namespace;n.domain==="firebase.com"&&xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||nA();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Kx(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new q(n.pathString)}},$M=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(i=UM(t.substring(d,c)));const f=WM(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ne(this.snapshot.exportVal())}}class KM{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return z(this._path)?null:tS(this._path)}get ref(){return new ar(this._repo,this._path)}get _queryIdentifier(){const e=Mv(this._queryParams),n=Mh(e);return n==="{}"?"default":n}get _queryObject(){return Mv(this._queryParams)}isEqual(e){if(e=Oo(e),!(e instanceof dp))return!1;const n=this._repo===e._repo,r=jh(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+VA(this._path)}}class ar extends dp{constructor(e,n){super(e,n,new Uh,!1)}get parent(){const e=rS(this._path);return e===null?null:new ar(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ra{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new q(e),r=Yd(this.ref,e);return new Ra(this._node.getChild(n),r,me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ra(i,Yd(this.ref,r),me)))}hasChild(e){const n=new q(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $S(t,e){return t=Oo(t),t._checkNotDeleted("ref"),Yd(t._root,e)}function Yd(t,e){return t=Oo(t),j(t._path)===null?EM("child","path",e):OS("child","path",e),new ar(t._repo,Se(t._path,e))}function YM(t,e){t=Oo(t),TM("set",t._path),CM("set",e,t._path);const n=new su;return OM(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class fp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new HM("value",this,new Ra(e.snapshotNode,new ar(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new KM(this,e,n):null}matches(e){return e instanceof fp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function QM(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(d,c)=>{qv(t._repo,t,l),a(d,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new GM(n,s||void 0),l=new fp(o);return FM(t._repo,t,l),()=>qv(t._repo,t,l)}function qM(t,e,n,r){return QM(t,"value",e,n,r)}Q2(ar);tM(ar);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="FIREBASE_DATABASE_EMULATOR_HOST",Qd={};let ZM=!1;function JM(t,e,n,r){t.repoInfo_=new Kx(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function eO(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Xv(s,i),l=o.repoInfo,a;typeof process<"u"&&gv&&(a=gv[XM]),a?(s=`http://${a}?ns=${l.namespace}`,o=Xv(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new hA(t.name,t.options,e);kM("Invalid Firebase Database URL",o),z(o.path)||xn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=nO(l,t,u,new fA(t.name,n));return new rO(d,t)}function tO(t,e){const n=Qd[e];(!n||n[t.key]!==t)&&xn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),jM(t),delete n[t.key]}function nO(t,e,n,r){let i=Qd[e.name];i||(i={},Qd[e.name]=i);let s=i[t.toURLString()];return s&&xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new RM(t,ZM,n,r),i[t.toURLString()]=s,s}class rO{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ar(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xn("Cannot call "+e+" on a deleted database.")}}function iO(t=jD(),e){const n=MD(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=CR("database");r&&sO(n,...r)}return n}function sO(t,e,n,r={}){t=Oo(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&xn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Pl(Pl.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:ER(r.mockUserToken,t.app.options.projectId);s=new Pl(o)}JM(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){qD(FD),ya(new ho("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return eO(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),yi(vv,yv,t),yi(vv,yv,"esm2017")}pn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};pn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};oO();const lO={apiKey:"AIzaSyD0Z7R2J8kF3L5N9P1Q2R4S6V8X0Y2Z4",authDomain:"winslow-756c3.firebaseapp.com",databaseURL:"https://winslow-756c3-default-rtdb.firebaseio.com",projectId:"winslow-756c3"},aO=Nx(lO),HS=iO(aO),Rl=[{id:"backlog",title:"Backlog",color:"#71717A"},{id:"todo",title:"To Do",color:"#6366F1"},{id:"in-progress",title:"In Progress",color:"#F59E0B"},{id:"done",title:"Done",color:"#10B981"}],uO=[{id:1,title:"Design new landing page",status:"in-progress",priority:"high"},{id:2,title:"Set up Firebase auth",status:"todo",priority:"high"},{id:3,title:"Write API documentation",status:"backlog",priority:"medium"},{id:4,title:"Deploy to production",status:"done",priority:"high"},{id:5,title:"User testing round 1",status:"todo",priority:"medium"}];function cO({activeTab:t,setActiveTab:e,isOpen:n,setIsOpen:r}){const i=[{id:"dashboard",label:"Dashboard",icon:fI},{id:"projects",label:"Projects",icon:Vw},{id:"notes",label:"Notes",icon:aI},{id:"files",label:"Files",icon:cI},{id:"agents",label:"Agents",icon:eI},{id:"workspace",label:"Workspace",icon:zw}];return _.jsxs(_.Fragment,{children:[n&&_.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>r(!1)}),_.jsxs("aside",{className:`fixed lg:relative z-50 h-screen bg-[#0D0D0F] border-r border-[#27272A] flex flex-col transition-all duration-300 ${n?"w-64":"w-0 lg:w-64"} overflow-hidden`,children:[_.jsx("div",{className:"p-4 border-b border-[#27272A]",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:_.jsx(_I,{size:16,className:"text-white"})}),_.jsx("span",{className:"text-lg font-semibold text-white",children:"Mission Control"})]})}),_.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto",children:i.map(s=>_.jsxs("button",{onClick:()=>e(s.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all ${t===s.id?"bg-indigo-500/20 text-indigo-400":"text-zinc-400 hover:bg-zinc-800/50 hover:text-zinc-200"}`,children:[_.jsx(s.icon,{size:18}),_.jsx("span",{className:"text-sm font-medium",children:s.label}),t===s.id&&_.jsx(sI,{size:14,className:"ml-auto"})]},s.id))}),_.jsx("div",{className:"p-3 border-t border-[#27272A]",children:_.jsxs("div",{className:"flex items-center gap-3 px-3 py-2",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white text-sm font-medium",children:"B"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("p",{className:"text-sm font-medium text-white truncate",children:"Bobby"}),_.jsx("p",{className:"text-xs text-zinc-500",children:"Admin"})]})]})})]})]})}function dO({task:t,onEdit:e}){const{attributes:n,listeners:r,setNodeRef:i,transform:s,transition:o,isDragging:l}=px({id:t.id}),a={transform:tr.Transform.toString(s),transition:o},u={high:"text-red-400 bg-red-400/10",medium:"text-amber-400 bg-amber-400/10",low:"text-emerald-400 bg-emerald-400/10"};return _.jsx("div",{ref:i,style:a,className:"group",children:_.jsx("div",{className:`bg-[#18181B] rounded-lg border border-[#27272A] p-3 hover:border-indigo-500/50 transition-all cursor-grab active:cursor-grabbing ${l?"opacity-50":""}`,children:_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx("button",{...n,...r,className:"mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(dI,{size:14,className:"text-zinc-500"})}),_.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>e(t),children:[_.jsx("p",{className:"text-sm text-zinc-200 font-medium truncate",children:t.title}),_.jsx("div",{className:"flex items-center gap-2 mt-2",children:_.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${u[t.priority]}`,children:t.priority})})]}),_.jsx("button",{onClick:()=>e(t),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-zinc-800 rounded",children:_.jsx(pI,{size:12,className:"text-zinc-500"})})]})})})}function fO({task:t}){const e={high:"text-red-400 bg-red-400/10",medium:"text-amber-400 bg-amber-400/10",low:"text-emerald-400 bg-emerald-400/10"};return _.jsxs("div",{className:"bg-[#18181B] rounded-lg border-2 border-indigo-500 p-3 shadow-2xl cursor-grabbing",children:[_.jsx("p",{className:"text-sm text-zinc-200 font-medium",children:t.title}),_.jsx("span",{className:`inline-block mt-2 text-xs px-2 py-0.5 rounded-full ${e[t.priority]}`,children:t.priority})]})}function hO({column:t,tasks:e,onAdd:n,onEdit:r}){const{setNodeRef:i}=px({id:t.id});return _.jsxs("div",{className:"flex-shrink-0 w-[85vw] sm:w-72",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t.color}}),_.jsx("h3",{className:"text-sm font-semibold text-zinc-300",children:t.title}),_.jsx("span",{className:"text-xs text-zinc-500 bg-zinc-800 px-2 py-0.5 rounded-full",children:e.length})]}),_.jsx("button",{onClick:n,className:"p-1 hover:bg-zinc-800 rounded transition-colors touch-manipulation",children:_.jsx(Bw,{size:16,className:"text-zinc-500"})})]}),_.jsx(rR,{items:e.map(s=>s.id),strategy:tR,children:_.jsx("div",{ref:i,className:"space-y-2 min-h-[150px] md:min-h-[200px] p-1",children:e.map(s=>_.jsx(dO,{task:s,onEdit:r},s.id))})})]})}function pO({task:t,onClose:e,onSave:n,onDelete:r}){const[i,s]=w.useState((t==null?void 0:t.title)||""),[o,l]=w.useState((t==null?void 0:t.priority)||"medium"),[a,u]=w.useState((t==null?void 0:t.status)||"todo");if(!t)return null;const d=()=>{n({...t,title:i,priority:o,status:a}),e()};return _.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e,children:[_.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),_.jsxs(XN.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative w-full max-w-md bg-[#18181B] border border-[#27272A] rounded-xl shadow-2xl overflow-hidden",children:[_.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#27272A]",children:[_.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Task"}),_.jsx("button",{onClick:e,children:_.jsx(yI,{size:20,className:"text-zinc-500 hover:text-white"})})]}),_.jsxs("div",{className:"p-4 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Title"}),_.jsx("input",{type:"text",value:i,onChange:c=>s(c.target.value),className:"w-full px-3 py-2 bg-[#0D0D0F] border border-[#27272A] rounded-lg text-white focus:border-indigo-500 outline-none transition-colors"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Priority"}),_.jsxs("select",{value:o,onChange:c=>l(c.target.value),className:"w-full px-3 py-2 bg-[#0D0D0F] border border-[#27272A] rounded-lg text-white focus:border-indigo-500 outline-none",children:[_.jsx("option",{value:"low",children:"Low"}),_.jsx("option",{value:"medium",children:"Medium"}),_.jsx("option",{value:"high",children:"High"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Status"}),_.jsx("select",{value:a,onChange:c=>u(c.target.value),className:"w-full px-3 py-2 bg-[#0D0D0F] border border-[#27272A] rounded-lg text-white focus:border-indigo-500 outline-none",children:Rl.map(c=>_.jsx("option",{value:c.id,children:c.title},c.id))})]})]}),_.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-[#27272A]",children:[_.jsxs("button",{onClick:()=>{r(t.id),e()},className:"flex items-center gap-2 px-4 py-2 text-red-400 hover:bg-red-400/10 rounded-lg transition-colors",children:[_.jsx(vI,{size:16}),"Delete"]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:e,className:"px-4 py-2 text-zinc-400 hover:text-white",children:"Cancel"}),_.jsx("button",{onClick:d,className:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",children:"Save"})]})]})]})]})}function hl({label:t,value:e,icon:n,color:r}){return _.jsx("div",{className:"bg-[#18181B] rounded-xl border border-[#27272A] p-4 hover:border-indigo-500/30 transition-colors",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-zinc-500 text-sm",children:t}),_.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:e})]}),_.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:`${r}20`},children:_.jsx(n,{size:24,style:{color:r}})})]})})}function mO({tasks:t}){const e={total:t.length,inProgress:t.filter(n=>n.status==="in-progress").length,done:t.filter(n=>n.status==="done").length,highPriority:t.filter(n=>n.priority==="high").length};return _.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Dashboard"}),_.jsx("p",{className:"text-zinc-500 mt-1 text-sm md:text-base",children:"Welcome back! Here's what's happening."})]}),_.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[_.jsx(hl,{label:"Total",value:e.total,icon:Vw,color:"#6366F1"}),_.jsx(hl,{label:"Active",value:e.inProgress,icon:oI,color:"#F59E0B"}),_.jsx(hl,{label:"Done",value:e.done,icon:iI,color:"#10B981"}),_.jsx(hl,{label:"High",value:e.highPriority,icon:tI,color:"#EF4444"})]}),_.jsxs("div",{className:"bg-[#18181B] rounded-xl border border-[#27272A] p-4",children:[_.jsx("h2",{className:"text-base md:text-lg font-semibold text-white mb-3 md:mb-4",children:"Recent Tasks"}),_.jsx("div",{className:"space-y-2 md:space-y-3",children:t.slice(0,5).map(n=>_.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-[#27272A] last:border-0",children:[_.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0",children:[_.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${n.status==="done"?"bg-emerald-500":n.status==="in-progress"?"bg-amber-500":"bg-zinc-500"}`}),_.jsx("span",{className:"text-zinc-300 text-sm truncate",children:n.title})]}),_.jsx("span",{className:`text-xs px-2 py-1 rounded-full shrink-0 ml-2 ${n.priority==="high"?"bg-red-500/20 text-red-400":n.priority==="medium"?"bg-amber-500/20 text-amber-400":"bg-emerald-500/20 text-emerald-400"}`,children:n.priority})]},n.id))})]})]})}function gO({tasks:t,setTasks:e}){const[n,r]=w.useState({title:"",column:"todo"}),[i,s]=w.useState(null),[o,l]=w.useState(null),a=MI(Hg(Nh,{activationConstraint:{distance:8}}),Hg(kh,{coordinateGetter:fR})),u=p=>{var m;return Rl.find(g=>g.id===p)?p:(m=t.find(g=>g.id===p))==null?void 0:m.status},d=p=>l(p.active.id),c=p=>{const{active:m,over:g}=p;if(l(null),!g)return;const x=m.id,C=g.id,T=t.find(I=>I.id===x),k=T==null?void 0:T.status,E=u(C);if(!k||!E)return;let R;if(k!==E)R=t.map(I=>I.id===x?{...I,status:E}:I);else if(x!==C){const I=t.filter(Q=>Q.status===k),O=I.findIndex(Q=>Q.id===x),le=I.findIndex(Q=>Q.id===C);if(O!==-1&&le!==-1){const Q=Ph(I,O,le);R=[...t.filter(Ut=>Ut.status!==k),...Q]}}R&&R!==t&&(e(R),y(R))},f=()=>{if(!n.title.trim())return;const p={id:Date.now(),title:n.title,status:n.column,priority:"medium"},m=[...t,p];e(m),y(m),r({title:"",column:"todo"})},h=p=>{const m=t.map(g=>g.id===p.id?p:g);e(m),y(m)},v=p=>{const m=t.filter(g=>g.id!==p);e(m),y(m)},y=async p=>{try{const m=p.reduce((g,x)=>(g[x.id]=x,g),{});await YM($S(HS,"kanban/tasks"),m)}catch(m){console.warn("Firebase save failed:",m)}},S=t.find(p=>p.id===o);return _.jsxs("div",{className:"p-3 md:p-6",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4 md:mb-6",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Projects"}),_.jsx("p",{className:"text-zinc-500 mt-0.5 text-sm",children:"Drag to reorder  Click to edit"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"text",placeholder:"New task...",value:n.title,onChange:p=>r({...n,title:p.target.value}),onKeyDown:p=>p.key==="Enter"&&f(),className:"px-3 py-2 bg-[#18181B] border border-[#27272A] rounded-lg text-sm text-white placeholder-zinc-500 focus:border-indigo-500 outline-none w-full sm:w-40 md:w-64"}),_.jsx("select",{value:n.column,onChange:p=>r({...n,column:p.target.value}),className:"px-2 md:px-3 py-2 bg-[#18181B] border border-[#27272A] rounded-lg text-sm text-white focus:border-indigo-500 outline-none",children:Rl.map(p=>_.jsx("option",{value:p.id,children:p.title},p.id))}),_.jsx("button",{onClick:f,className:"px-3 md:px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors touch-manipulation",children:_.jsx(Bw,{size:18})})]})]}),_.jsxs(DP,{sensors:a,collisionDetection:FI,onDragStart:d,onDragEnd:c,children:[_.jsx("div",{className:"flex gap-3 md:gap-4 overflow-x-auto pb-4 -mx-3 px-3 md:mx-0 md:px-0 md:w-full",children:Rl.map(p=>_.jsx(hO,{column:p,tasks:t.filter(m=>m.status===p.id),onAdd:()=>r({...n,column:p.id}),onEdit:s},p.id))}),_.jsx(XP,{children:S?_.jsx(fO,{task:S}):null})]}),_.jsx(pO,{task:i,onClose:()=>s(null),onSave:h,onDelete:v})]})}function vO(){const[t,e]=w.useState({unreadCount:0,recentEmails:[],connected:!1}),[n,r]=w.useState({events:[],connected:!1}),[i,s]=w.useState({files:[],connected:!1}),[o,l]=w.useState(!0);return w.useEffect(()=>{setTimeout(()=>{e({unreadCount:5,recentEmails:[{id:"1",subject:"Project Update",from:"team@aiskills.studio",snippet:"Latest updates on the new feature..."},{id:"2",subject:"Meeting Tomorrow",from:"bobby@framelensmedia.com",snippet:"Don't forget our standup at 9am..."},{id:"3",subject:"Invoice #1234",from:"billing@company.com",summary:"Your invoice is ready for review"}],connected:!0}),r({events:[{id:"1",summary:"Team Standup",start:{dateTime:"09:00"},end:{dateTime:"09:30"},color:"#6366F1"},{id:"2",summary:"Project Review",start:{dateTime:"14:00"},end:{dateTime:"15:00"},color:"#F59E0B"},{id:"3",summary:"Client Call",start:{dateTime:"16:00"},end:{dateTime:"16:30"},color:"#10B981"}],connected:!0}),s({files:[{id:"1",name:"Q1 Roadmap.pdf",mimeType:"application/pdf",modifiedTime:"2 hours ago"},{id:"2",name:"Design Assets.zip",mimeType:"application/zip",modifiedTime:"Yesterday"},{id:"3",name:"Meeting Notes.docx",mimeType:"application/vnd.google-apps.document",modifiedTime:"2 days ago"},{id:"4",name:"Project Specs",mimeType:"application/vnd.google-apps.folder",modifiedTime:"1 week ago"}],connected:!0}),l(!1)},500)},[]),o?_.jsx("div",{className:"p-4 md:p-6 flex items-center justify-center h-64",children:_.jsxs("div",{className:"flex items-center gap-2 text-zinc-500",children:[_.jsx("div",{className:"w-5 h-5 border-2 border-zinc-500 border-t-indigo-500 rounded-full animate-spin"}),_.jsx("span",{children:"Loading Workspace..."})]})}):_.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Google Workspace"}),_.jsx("p",{className:"text-zinc-500 mt-1 text-sm",children:"Your connected apps and files"})]}),_.jsxs("div",{className:"bg-[#18181B] rounded-xl border border-[#27272A] p-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:_.jsx(zw,{size:20,className:"text-red-400"})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-base font-semibold text-white",children:"Gmail"}),_.jsxs("p",{className:"text-xs text-zinc-500",children:[t.unreadCount," unread"]})]})]}),_.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.connected?"bg-emerald-500/20 text-emerald-400":"bg-zinc-700 text-zinc-400"}`,children:t.connected?"Connected":"Disconnected"})]}),_.jsx("div",{className:"space-y-2",children:t.recentEmails.slice(0,3).map(a=>_.jsxs("div",{className:"flex items-start gap-3 p-2 hover:bg-zinc-800/50 rounded-lg transition-colors",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-700 flex items-center justify-center text-xs font-medium text-zinc-300",children:a.from.charAt(0).toUpperCase()}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("p",{className:"text-sm text-white truncate",children:a.subject}),_.jsx("p",{className:"text-xs text-zinc-500 truncate",children:a.from})]})]},a.id))})]}),_.jsxs("div",{className:"bg-[#18181B] rounded-xl border border-[#27272A] p-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:_.jsx(rI,{size:20,className:"text-blue-400"})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-base font-semibold text-white",children:"Today's Events"}),_.jsxs("p",{className:"text-xs text-zinc-500",children:[n.events.length," events"]})]})]}),_.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${n.connected?"bg-emerald-500/20 text-emerald-400":"bg-zinc-700 text-zinc-400"}`,children:n.connected?"Connected":"Disconnected"})]}),_.jsx("div",{className:"space-y-2",children:n.events.map(a=>_.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-zinc-800/50 rounded-lg transition-colors",children:[_.jsx("div",{className:"w-1 h-10 rounded-full",style:{backgroundColor:a.color}}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"text-sm text-white",children:a.summary}),_.jsxs("p",{className:"text-xs text-zinc-500",children:[a.start.dateTime," - ",a.end.dateTime]})]})]},a.id))})]}),_.jsxs("div",{className:"bg-[#18181B] rounded-xl border border-[#27272A] p-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center",children:_.jsx(lI,{size:20,className:"text-amber-400"})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-base font-semibold text-white",children:"Drive"}),_.jsxs("p",{className:"text-xs text-zinc-500",children:[i.files.length," recent files"]})]})]}),_.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${i.connected?"bg-emerald-500/20 text-emerald-400":"bg-zinc-700 text-zinc-400"}`,children:i.connected?"Connected":"Disconnected"})]}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:i.files.slice(0,4).map(a=>_.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-zinc-800/50 rounded-lg transition-colors",children:[_.jsx(uI,{size:16,className:"text-zinc-400"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("p",{className:"text-sm text-white truncate",children:a.name}),_.jsx("p",{className:"text-xs text-zinc-500",children:a.modifiedTime})]})]},a.id))})]})]})}function yO(){const[t,e]=w.useState("dashboard"),[n,r]=w.useState(!1),[i,s]=w.useState(uO);return w.useEffect(()=>{let o=null;return(async()=>{try{const a=$S(HS,"kanban/tasks");o=qM(a,u=>{const d=u.val();if(d){const c=Object.entries(d).map(([f,h])=>({id:parseInt(f),...h}));s(c)}},()=>{})}catch(a){console.warn("Firebase init failed:",a)}})(),()=>{o&&o()}},[]),_.jsxs("div",{className:"flex h-[100dvh] bg-[#0D0D0F] overflow-hidden",children:[_.jsx(cO,{activeTab:t,setActiveTab:e,isOpen:n,setIsOpen:r}),_.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[_.jsxs("header",{className:"h-12 md:h-14 border-b border-[#27272A] flex items-center justify-between px-3 md:px-4 bg-[#0D0D0F] shrink-0",children:[_.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[_.jsx("button",{onClick:()=>r(!n),className:"lg:hidden p-1.5 md:p-2 hover:bg-zinc-800 rounded-lg touch-manipulation",children:_.jsx(hI,{size:20,className:"text-zinc-400"})}),_.jsxs("div",{className:"relative hidden md:block",children:[_.jsx(mI,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500"}),_.jsx("input",{type:"text",placeholder:"Search...",className:"pl-9 pr-4 py-1.5 bg-[#18181B] border border-[#27272A] rounded-lg text-sm text-white placeholder-zinc-500 focus:border-indigo-500 outline-none w-64"})]})]}),_.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[_.jsx("button",{className:"p-1.5 md:p-2 hover:bg-zinc-800 rounded-lg touch-manipulation",children:_.jsx(nI,{size:18,className:"text-zinc-400"})}),_.jsx("button",{className:"p-1.5 md:p-2 hover:bg-zinc-800 rounded-lg touch-manipulation",children:_.jsx(gI,{size:18,className:"text-zinc-400"})})]})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden pb-safe",children:[t==="dashboard"&&_.jsx(mO,{tasks:i}),t==="projects"&&_.jsx(gO,{tasks:i,setTasks:s}),t==="notes"&&_.jsxs("div",{className:"p-4 md:p-6",children:[_.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Notes"}),_.jsx("p",{className:"text-zinc-500 mt-2",children:"Coming soon..."})]}),t==="files"&&_.jsxs("div",{className:"p-4 md:p-6",children:[_.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Files"}),_.jsx("p",{className:"text-zinc-500 mt-2",children:"Coming soon..."})]}),t==="agents"&&_.jsxs("div",{className:"p-4 md:p-6",children:[_.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Agents"}),_.jsx("p",{className:"text-zinc-500 mt-2",children:"Coming soon..."})]}),t==="workspace"&&_.jsx(vO,{})]})]})]})}yc.createRoot(document.getElementById("root")).render(_.jsx(se.StrictMode,{children:_.jsx(yO,{})}));
