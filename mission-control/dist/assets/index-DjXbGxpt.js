(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function yg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xf={exports:{}},yo={},Tf={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bi=Symbol.for("react.element"),wg=Symbol.for("react.portal"),Cg=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),kg=Symbol.for("react.provider"),xg=Symbol.for("react.context"),Tg=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Ng=Symbol.for("react.memo"),Rg=Symbol.for("react.lazy"),wc=Symbol.iterator;function Pg(t){return t===null||typeof t!="object"?null:(t=wc&&t[wc]||t["@@iterator"],typeof t=="function"?t:null)}var If={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nf=Object.assign,Rf={};function Tr(t,e,n){this.props=t,this.context=e,this.refs=Rf,this.updater=n||If}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pf(){}Pf.prototype=Tr.prototype;function Ha(t,e,n){this.props=t,this.context=e,this.refs=Rf,this.updater=n||If}var Va=Ha.prototype=new Pf;Va.constructor=Ha;Nf(Va,Tr.prototype);Va.isPureReactComponent=!0;var Cc=Array.isArray,Df=Object.prototype.hasOwnProperty,$a={current:null},Of={key:!0,ref:!0,__self:!0,__source:!0};function Af(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Df.call(e,r)&&!Of.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Bi,type:t,key:s,ref:o,props:i,_owner:$a.current}}function Dg(t,e){return{$$typeof:Bi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ga(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bi}function Og(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ec=/\/+/g;function Go(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Og(""+t.key):e.toString(36)}function vs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bi:case wg:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Go(o,0):r,Cc(i)?(n="",t!=null&&(n=t.replace(Ec,"$&/")+"/"),vs(i,e,n,"",function(u){return u})):i!=null&&(Ga(i)&&(i=Dg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ec,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Cc(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Go(s,l);o+=vs(s,e,n,a,i)}else if(a=Pg(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Go(s,l++),o+=vs(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zi(t,e,n){if(t==null)return t;var r=[],i=0;return vs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ag(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var De={current:null},ys={transition:null},Mg={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ys,ReactCurrentOwner:$a};function Mf(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Zi,forEach:function(t,e,n){Zi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zi(t,function(){e++}),e},toArray:function(t){return Zi(t,function(e){return e})||[]},only:function(t){if(!Ga(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=Tr;z.Fragment=Cg;z.Profiler=Sg;z.PureComponent=Ha;z.StrictMode=Eg;z.Suspense=Ig;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg;z.act=Mf;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nf({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$a.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Df.call(e,a)&&!Of.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Bi,type:t.type,key:i,ref:s,props:r,_owner:o}};z.createContext=function(t){return t={$$typeof:xg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kg,_context:t},t.Consumer=t};z.createElement=Af;z.createFactory=function(t){var e=Af.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:Tg,render:t}};z.isValidElement=Ga;z.lazy=function(t){return{$$typeof:Rg,_payload:{_status:-1,_result:t},_init:Ag}};z.memo=function(t,e){return{$$typeof:Ng,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=ys.transition;ys.transition={};try{t()}finally{ys.transition=e}};z.unstable_act=Mf;z.useCallback=function(t,e){return De.current.useCallback(t,e)};z.useContext=function(t){return De.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return De.current.useDeferredValue(t)};z.useEffect=function(t,e){return De.current.useEffect(t,e)};z.useId=function(){return De.current.useId()};z.useImperativeHandle=function(t,e,n){return De.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return De.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return De.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return De.current.useMemo(t,e)};z.useReducer=function(t,e,n){return De.current.useReducer(t,e,n)};z.useRef=function(t){return De.current.useRef(t)};z.useState=function(t){return De.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return De.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return De.current.useTransition()};z.version="18.3.1";Tf.exports=z;var U=Tf.exports;const Lg=yg(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=U,jg=Symbol.for("react.element"),bg=Symbol.for("react.fragment"),zg=Object.prototype.hasOwnProperty,Bg=Fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ug={key:!0,ref:!0,__self:!0,__source:!0};function Lf(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zg.call(e,r)&&!Ug.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jg,type:t,key:s,ref:o,props:i,_owner:Bg.current}}yo.Fragment=bg;yo.jsx=Lf;yo.jsxs=Lf;xf.exports=yo;var p=xf.exports,Pl={},Ff={exports:{}},Ge={},jf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,A){var M=T.length;T.push(A);e:for(;0<M;){var te=M-1>>>1,ae=T[te];if(0<i(ae,A))T[te]=A,T[M]=ae,M=te;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var A=T[0],M=T.pop();if(M!==A){T[0]=M;e:for(var te=0,ae=T.length,Un=ae>>>1;te<Un;){var St=2*(te+1)-1,Mr=T[St],kt=St+1,Wn=T[kt];if(0>i(Mr,M))kt<ae&&0>i(Wn,Mr)?(T[te]=Wn,T[kt]=M,te=kt):(T[te]=Mr,T[St]=M,te=St);else if(kt<ae&&0>i(Wn,M))T[te]=Wn,T[kt]=M,te=kt;else break e}}return A}function i(T,A){var M=T.sortIndex-A.sortIndex;return M!==0?M:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,c=null,d=3,_=!1,v=!1,y=!1,O=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=T)r(u),A.sortIndex=A.expirationTime,e(a,A);else break;A=n(u)}}function C(T){if(y=!1,g(T),!v)if(n(a)!==null)v=!0,_n(x);else{var A=n(u);A!==null&&Ar(C,A.startTime-T)}}function x(T,A){v=!1,y&&(y=!1,m(P),P=-1),_=!0;var M=d;try{for(g(A),c=n(a);c!==null&&(!(c.expirationTime>A)||T&&!Ne());){var te=c.callback;if(typeof te=="function"){c.callback=null,d=c.priorityLevel;var ae=te(c.expirationTime<=A);A=t.unstable_now(),typeof ae=="function"?c.callback=ae:c===n(a)&&r(a),g(A)}else r(a);c=n(a)}if(c!==null)var Un=!0;else{var St=n(u);St!==null&&Ar(C,St.startTime-A),Un=!1}return Un}finally{c=null,d=M,_=!1}}var R=!1,N=null,P=-1,q=5,L=-1;function Ne(){return!(t.unstable_now()-L<q)}function wt(){if(N!==null){var T=t.unstable_now();L=T;var A=!0;try{A=N(!0,T)}finally{A?Ut():(R=!1,N=null)}}else R=!1}var Ut;if(typeof h=="function")Ut=function(){h(wt)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,Et=Ct.port2;Ct.port1.onmessage=wt,Ut=function(){Et.postMessage(null)}}else Ut=function(){O(wt,0)};function _n(T){N=T,R||(R=!0,Ut())}function Ar(T,A){P=O(function(){T(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){v||_||(v=!0,_n(x))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var M=d;d=A;try{return T()}finally{d=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var M=d;d=T;try{return A()}finally{d=M}},t.unstable_scheduleCallback=function(T,A,M){var te=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?te+M:te):M=te,T){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=M+ae,T={id:f++,callback:A,priorityLevel:T,startTime:M,expirationTime:ae,sortIndex:-1},M>te?(T.sortIndex=M,e(u,T),n(a)===null&&T===n(u)&&(y?(m(P),P=-1):y=!0,Ar(C,M-te))):(T.sortIndex=ae,e(a,T),v||_||(v=!0,_n(x))),T},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(T){var A=d;return function(){var M=d;d=A;try{return T.apply(this,arguments)}finally{d=M}}}})(bf);jf.exports=bf;var Wg=jf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg=U,$e=Wg;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zf=new Set,pi={};function bn(t,e){mr(t,e),mr(t+"Capture",e)}function mr(t,e){for(pi[t]=e,t=0;t<e.length;t++)zf.add(e[t])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=Object.prototype.hasOwnProperty,Vg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sc={},kc={};function $g(t){return Dl.call(kc,t)?!0:Dl.call(Sc,t)?!1:Vg.test(t)?kc[t]=!0:(Sc[t]=!0,!1)}function Gg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qg(t,e,n,r){if(e===null||typeof e>"u"||Gg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oe(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new Oe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new Oe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new Oe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new Oe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new Oe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new Oe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new Oe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new Oe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new Oe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qa=/[\-:]([a-z])/g;function Ya(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qa,Ya);Ee[e]=new Oe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qa,Ya);Ee[e]=new Oe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qa,Ya);Ee[e]=new Oe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new Oe(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new Oe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ka(t,e,n,r){var i=Ee.hasOwnProperty(e)?Ee[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qg(e,n,i,r)&&(n=null),r||i===null?$g(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zt=Hg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),qa=Symbol.for("react.strict_mode"),Ol=Symbol.for("react.profiler"),Bf=Symbol.for("react.provider"),Uf=Symbol.for("react.context"),Xa=Symbol.for("react.forward_ref"),Al=Symbol.for("react.suspense"),Ml=Symbol.for("react.suspense_list"),Ja=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Wf=Symbol.for("react.offscreen"),xc=Symbol.iterator;function Lr(t){return t===null||typeof t!="object"?null:(t=xc&&t[xc]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,Qo;function qr(t){if(Qo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qo=e&&e[1]||""}return`
`+Qo+t}var Yo=!1;function Ko(t,e){if(!t||Yo)return"";Yo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Yo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qr(t):""}function Yg(t){switch(t.tag){case 5:return qr(t.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 2:case 15:return t=Ko(t.type,!1),t;case 11:return t=Ko(t.type.render,!1),t;case 1:return t=Ko(t.type,!0),t;default:return""}}function Ll(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qn:return"Fragment";case Gn:return"Portal";case Ol:return"Profiler";case qa:return"StrictMode";case Al:return"Suspense";case Ml:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Uf:return(t.displayName||"Context")+".Consumer";case Bf:return(t._context.displayName||"Context")+".Provider";case Xa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ja:return e=t.displayName||null,e!==null?e:Ll(t.type)||"Memo";case $t:e=t._payload,t=t._init;try{return Ll(t(e))}catch{}}return null}function Kg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ll(e);case 8:return e===qa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qg(t){var e=Hf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ts(t){t._valueTracker||(t._valueTracker=qg(t))}function Vf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fl(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $f(t,e){e=e.checked,e!=null&&Ka(t,"checked",e,!1)}function jl(t,e){$f(t,e);var n=un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bl(t,e.type,n):e.hasOwnProperty("defaultValue")&&bl(t,e.type,un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ic(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bl(t,e,n){(e!=="number"||Ds(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xr=Array.isArray;function sr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+un(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Xr(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:un(n)}}function Gf(t,e){var n=un(e.value),r=un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ns,Yf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ns.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xg=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(t){Xg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ei[e]=ei[t]})});function Kf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ei.hasOwnProperty(t)&&ei[t]?(""+e).trim():e+"px"}function qf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Kf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Jg=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ul(t,e){if(e){if(Jg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Wl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hl=null;function Za(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vl=null,or=null,lr=null;function Pc(t){if(t=Hi(t)){if(typeof Vl!="function")throw Error(E(280));var e=t.stateNode;e&&(e=ko(e),Vl(t.stateNode,t.type,e))}}function Xf(t){or?lr?lr.push(t):lr=[t]:or=t}function Jf(){if(or){var t=or,e=lr;if(lr=or=null,Pc(t),e)for(t=0;t<e.length;t++)Pc(e[t])}}function Zf(t,e){return t(e)}function eh(){}var qo=!1;function th(t,e,n){if(qo)return t(e,n);qo=!0;try{return Zf(t,e,n)}finally{qo=!1,(or!==null||lr!==null)&&(eh(),Jf())}}function gi(t,e){var n=t.stateNode;if(n===null)return null;var r=ko(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var $l=!1;if(Ot)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){$l=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{$l=!1}function Zg(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var ti=!1,Os=null,As=!1,Gl=null,e_={onError:function(t){ti=!0,Os=t}};function t_(t,e,n,r,i,s,o,l,a){ti=!1,Os=null,Zg.apply(e_,arguments)}function n_(t,e,n,r,i,s,o,l,a){if(t_.apply(this,arguments),ti){if(ti){var u=Os;ti=!1,Os=null}else throw Error(E(198));As||(As=!0,Gl=u)}}function zn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dc(t){if(zn(t)!==t)throw Error(E(188))}function r_(t){var e=t.alternate;if(!e){if(e=zn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dc(i),t;if(s===r)return Dc(i),e;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function rh(t){return t=r_(t),t!==null?ih(t):null}function ih(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ih(t);if(e!==null)return e;t=t.sibling}return null}var sh=$e.unstable_scheduleCallback,Oc=$e.unstable_cancelCallback,i_=$e.unstable_shouldYield,s_=$e.unstable_requestPaint,le=$e.unstable_now,o_=$e.unstable_getCurrentPriorityLevel,eu=$e.unstable_ImmediatePriority,oh=$e.unstable_UserBlockingPriority,Ms=$e.unstable_NormalPriority,l_=$e.unstable_LowPriority,lh=$e.unstable_IdlePriority,wo=null,vt=null;function a_(t){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(wo,t,void 0,(t.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:d_,u_=Math.log,c_=Math.LN2;function d_(t){return t>>>=0,t===0?32:31-(u_(t)/c_|0)|0}var rs=64,is=4194304;function Jr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ls(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Jr(l):(s&=o,s!==0&&(r=Jr(s)))}else o=n&~i,o!==0?r=Jr(o):s!==0&&(r=Jr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ut(e),i=1<<n,r|=t[n],e&=~i;return r}function f_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ut(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=f_(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Ql(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ah(){var t=rs;return rs<<=1,!(rs&4194240)&&(rs=64),t}function Xo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ui(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ut(e),t[e]=n}function p_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ut(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ut(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var V=0;function uh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ch,nu,dh,fh,hh,Yl=!1,ss=[],Xt=null,Jt=null,Zt=null,_i=new Map,vi=new Map,Qt=[],m_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ac(t,e){switch(t){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":_i.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(e.pointerId)}}function jr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Hi(e),e!==null&&nu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function g_(t,e,n,r,i){switch(e){case"focusin":return Xt=jr(Xt,t,e,n,r,i),!0;case"dragenter":return Jt=jr(Jt,t,e,n,r,i),!0;case"mouseover":return Zt=jr(Zt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _i.set(s,jr(_i.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vi.set(s,jr(vi.get(s)||null,t,e,n,r,i)),!0}return!1}function ph(t){var e=En(t.target);if(e!==null){var n=zn(e);if(n!==null){if(e=n.tag,e===13){if(e=nh(n),e!==null){t.blockedOn=e,hh(t.priority,function(){dh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ws(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hl=r,n.target.dispatchEvent(r),Hl=null}else return e=Hi(n),e!==null&&nu(e),t.blockedOn=n,!1;e.shift()}return!0}function Mc(t,e,n){ws(t)&&n.delete(e)}function __(){Yl=!1,Xt!==null&&ws(Xt)&&(Xt=null),Jt!==null&&ws(Jt)&&(Jt=null),Zt!==null&&ws(Zt)&&(Zt=null),_i.forEach(Mc),vi.forEach(Mc)}function br(t,e){t.blockedOn===e&&(t.blockedOn=null,Yl||(Yl=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,__)))}function yi(t){function e(i){return br(i,t)}if(0<ss.length){br(ss[0],t);for(var n=1;n<ss.length;n++){var r=ss[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xt!==null&&br(Xt,t),Jt!==null&&br(Jt,t),Zt!==null&&br(Zt,t),_i.forEach(e),vi.forEach(e),n=0;n<Qt.length;n++)r=Qt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)ph(n),n.blockedOn===null&&Qt.shift()}var ar=zt.ReactCurrentBatchConfig,Fs=!0;function v_(t,e,n,r){var i=V,s=ar.transition;ar.transition=null;try{V=1,ru(t,e,n,r)}finally{V=i,ar.transition=s}}function y_(t,e,n,r){var i=V,s=ar.transition;ar.transition=null;try{V=4,ru(t,e,n,r)}finally{V=i,ar.transition=s}}function ru(t,e,n,r){if(Fs){var i=Kl(t,e,n,r);if(i===null)ll(t,e,r,js,n),Ac(t,r);else if(g_(i,t,e,n,r))r.stopPropagation();else if(Ac(t,r),e&4&&-1<m_.indexOf(t)){for(;i!==null;){var s=Hi(i);if(s!==null&&ch(s),s=Kl(t,e,n,r),s===null&&ll(t,e,r,js,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ll(t,e,r,null,n)}}var js=null;function Kl(t,e,n,r){if(js=null,t=Za(r),t=En(t),t!==null)if(e=zn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return js=t,null}function mh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o_()){case eu:return 1;case oh:return 4;case Ms:case l_:return 16;case lh:return 536870912;default:return 16}default:return 16}}var Kt=null,iu=null,Cs=null;function gh(){if(Cs)return Cs;var t,e=iu,n=e.length,r,i="value"in Kt?Kt.value:Kt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Cs=i.slice(t,1<r?1-r:void 0)}function Es(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function Lc(){return!1}function Qe(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?os:Lc,this.isPropagationStopped=Lc,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),e}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=Qe(Ir),Wi=ie({},Ir,{view:0,detail:0}),w_=Qe(Wi),Jo,Zo,zr,Co=ie({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ou,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zr&&(zr&&t.type==="mousemove"?(Jo=t.screenX-zr.screenX,Zo=t.screenY-zr.screenY):Zo=Jo=0,zr=t),Jo)},movementY:function(t){return"movementY"in t?t.movementY:Zo}}),Fc=Qe(Co),C_=ie({},Co,{dataTransfer:0}),E_=Qe(C_),S_=ie({},Wi,{relatedTarget:0}),el=Qe(S_),k_=ie({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),x_=Qe(k_),T_=ie({},Ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I_=Qe(T_),N_=ie({},Ir,{data:0}),jc=Qe(N_),R_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D_[t])?!!e[t]:!1}function ou(){return O_}var A_=ie({},Wi,{key:function(t){if(t.key){var e=R_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ou,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),M_=Qe(A_),L_=ie({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=Qe(L_),F_=ie({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ou}),j_=Qe(F_),b_=ie({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),z_=Qe(b_),B_=ie({},Co,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U_=Qe(B_),W_=[9,13,27,32],lu=Ot&&"CompositionEvent"in window,ni=null;Ot&&"documentMode"in document&&(ni=document.documentMode);var H_=Ot&&"TextEvent"in window&&!ni,_h=Ot&&(!lu||ni&&8<ni&&11>=ni),zc=" ",Bc=!1;function vh(t,e){switch(t){case"keyup":return W_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yn=!1;function V_(t,e){switch(t){case"compositionend":return yh(e);case"keypress":return e.which!==32?null:(Bc=!0,zc);case"textInput":return t=e.data,t===zc&&Bc?null:t;default:return null}}function $_(t,e){if(Yn)return t==="compositionend"||!lu&&vh(t,e)?(t=gh(),Cs=iu=Kt=null,Yn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _h&&e.locale!=="ko"?null:e.data;default:return null}}var G_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!G_[t.type]:e==="textarea"}function wh(t,e,n,r){Xf(r),e=bs(e,"onChange"),0<e.length&&(n=new su("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ri=null,wi=null;function Q_(t){Dh(t,0)}function Eo(t){var e=Xn(t);if(Vf(e))return t}function Y_(t,e){if(t==="change")return e}var Ch=!1;if(Ot){var tl;if(Ot){var nl="oninput"in document;if(!nl){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),nl=typeof Wc.oninput=="function"}tl=nl}else tl=!1;Ch=tl&&(!document.documentMode||9<document.documentMode)}function Hc(){ri&&(ri.detachEvent("onpropertychange",Eh),wi=ri=null)}function Eh(t){if(t.propertyName==="value"&&Eo(wi)){var e=[];wh(e,wi,t,Za(t)),th(Q_,e)}}function K_(t,e,n){t==="focusin"?(Hc(),ri=e,wi=n,ri.attachEvent("onpropertychange",Eh)):t==="focusout"&&Hc()}function q_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eo(wi)}function X_(t,e){if(t==="click")return Eo(e)}function J_(t,e){if(t==="input"||t==="change")return Eo(e)}function Z_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ft=typeof Object.is=="function"?Object.is:Z_;function Ci(t,e){if(ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dl.call(e,i)||!ft(t[i],e[i]))return!1}return!0}function Vc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $c(t,e){var n=Vc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vc(n)}}function Sh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kh(){for(var t=window,e=Ds();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ds(t.document)}return e}function au(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ev(t){var e=kh(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sh(n.ownerDocument.documentElement,n)){if(r!==null&&au(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$c(n,s);var o=$c(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tv=Ot&&"documentMode"in document&&11>=document.documentMode,Kn=null,ql=null,ii=null,Xl=!1;function Gc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xl||Kn==null||Kn!==Ds(r)||(r=Kn,"selectionStart"in r&&au(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ii&&Ci(ii,r)||(ii=r,r=bs(ql,"onSelect"),0<r.length&&(e=new su("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Kn)))}function ls(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qn={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionend:ls("Transition","TransitionEnd")},rl={},xh={};Ot&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function So(t){if(rl[t])return rl[t];if(!qn[t])return t;var e=qn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xh)return rl[t]=e[n];return t}var Th=So("animationend"),Ih=So("animationiteration"),Nh=So("animationstart"),Rh=So("transitionend"),Ph=new Map,Qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(t,e){Ph.set(t,e),bn(e,[t])}for(var il=0;il<Qc.length;il++){var sl=Qc[il],nv=sl.toLowerCase(),rv=sl[0].toUpperCase()+sl.slice(1);hn(nv,"on"+rv)}hn(Th,"onAnimationEnd");hn(Ih,"onAnimationIteration");hn(Nh,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(Rh,"onTransitionEnd");mr("onMouseEnter",["mouseout","mouseover"]);mr("onMouseLeave",["mouseout","mouseover"]);mr("onPointerEnter",["pointerout","pointerover"]);mr("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zr));function Yc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,n_(r,e,void 0,t),t.currentTarget=null}function Dh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Yc(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Yc(i,l,u),s=a}}}if(As)throw t=Gl,As=!1,Gl=null,t}function X(t,e){var n=e[na];n===void 0&&(n=e[na]=new Set);var r=t+"__bubble";n.has(r)||(Oh(e,t,2,!1),n.add(r))}function ol(t,e,n){var r=0;e&&(r|=4),Oh(n,t,r,e)}var as="_reactListening"+Math.random().toString(36).slice(2);function Ei(t){if(!t[as]){t[as]=!0,zf.forEach(function(n){n!=="selectionchange"&&(iv.has(n)||ol(n,!1,t),ol(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[as]||(e[as]=!0,ol("selectionchange",!1,e))}}function Oh(t,e,n,r){switch(mh(e)){case 1:var i=v_;break;case 4:i=y_;break;default:i=ru}n=i.bind(null,e,n,t),i=void 0,!$l||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ll(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=En(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}th(function(){var u=s,f=Za(n),c=[];e:{var d=Ph.get(t);if(d!==void 0){var _=su,v=t;switch(t){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":_=M_;break;case"focusin":v="focus",_=el;break;case"focusout":v="blur",_=el;break;case"beforeblur":case"afterblur":_=el;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=E_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=j_;break;case Th:case Ih:case Nh:_=x_;break;case Rh:_=z_;break;case"scroll":_=w_;break;case"wheel":_=U_;break;case"copy":case"cut":case"paste":_=I_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=bc}var y=(e&4)!==0,O=!y&&t==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var h=u,g;h!==null;){g=h;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,m!==null&&(C=gi(h,m),C!=null&&y.push(Si(h,C,g)))),O)break;h=h.return}0<y.length&&(d=new _(d,v,null,n,f),c.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",d&&n!==Hl&&(v=n.relatedTarget||n.fromElement)&&(En(v)||v[At]))break e;if((_||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,_?(v=n.relatedTarget||n.toElement,_=u,v=v?En(v):null,v!==null&&(O=zn(v),v!==O||v.tag!==5&&v.tag!==6)&&(v=null)):(_=null,v=u),_!==v)){if(y=Fc,C="onMouseLeave",m="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(y=bc,C="onPointerLeave",m="onPointerEnter",h="pointer"),O=_==null?d:Xn(_),g=v==null?d:Xn(v),d=new y(C,h+"leave",_,n,f),d.target=O,d.relatedTarget=g,C=null,En(f)===u&&(y=new y(m,h+"enter",v,n,f),y.target=g,y.relatedTarget=O,C=y),O=C,_&&v)t:{for(y=_,m=v,h=0,g=y;g;g=Vn(g))h++;for(g=0,C=m;C;C=Vn(C))g++;for(;0<h-g;)y=Vn(y),h--;for(;0<g-h;)m=Vn(m),g--;for(;h--;){if(y===m||m!==null&&y===m.alternate)break t;y=Vn(y),m=Vn(m)}y=null}else y=null;_!==null&&Kc(c,d,_,y,!1),v!==null&&O!==null&&Kc(c,O,v,y,!0)}}e:{if(d=u?Xn(u):window,_=d.nodeName&&d.nodeName.toLowerCase(),_==="select"||_==="input"&&d.type==="file")var x=Y_;else if(Uc(d))if(Ch)x=J_;else{x=q_;var R=K_}else(_=d.nodeName)&&_.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=X_);if(x&&(x=x(t,u))){wh(c,x,n,f);break e}R&&R(t,d,u),t==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&bl(d,"number",d.value)}switch(R=u?Xn(u):window,t){case"focusin":(Uc(R)||R.contentEditable==="true")&&(Kn=R,ql=u,ii=null);break;case"focusout":ii=ql=Kn=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,Gc(c,n,f);break;case"selectionchange":if(tv)break;case"keydown":case"keyup":Gc(c,n,f)}var N;if(lu)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Yn?vh(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(_h&&n.locale!=="ko"&&(Yn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Yn&&(N=gh()):(Kt=f,iu="value"in Kt?Kt.value:Kt.textContent,Yn=!0)),R=bs(u,P),0<R.length&&(P=new jc(P,t,null,n,f),c.push({event:P,listeners:R}),N?P.data=N:(N=yh(n),N!==null&&(P.data=N)))),(N=H_?V_(t,n):$_(t,n))&&(u=bs(u,"onBeforeInput"),0<u.length&&(f=new jc("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=N))}Dh(c,e)})}function Si(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gi(t,n),s!=null&&r.unshift(Si(t,s,i)),s=gi(t,e),s!=null&&r.push(Si(t,s,i))),t=t.return}return r}function Vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=gi(n,s),a!=null&&o.unshift(Si(n,a,l))):i||(a=gi(n,s),a!=null&&o.push(Si(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sv=/\r\n?/g,ov=/\u0000|\uFFFD/g;function qc(t){return(typeof t=="string"?t:""+t).replace(sv,`
`).replace(ov,"")}function us(t,e,n){if(e=qc(e),qc(t)!==e&&n)throw Error(E(425))}function zs(){}var Jl=null,Zl=null;function ea(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ta=typeof setTimeout=="function"?setTimeout:void 0,lv=typeof clearTimeout=="function"?clearTimeout:void 0,Xc=typeof Promise=="function"?Promise:void 0,av=typeof queueMicrotask=="function"?queueMicrotask:typeof Xc<"u"?function(t){return Xc.resolve(null).then(t).catch(uv)}:ta;function uv(t){setTimeout(function(){throw t})}function al(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yi(e)}function en(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),_t="__reactFiber$"+Nr,ki="__reactProps$"+Nr,At="__reactContainer$"+Nr,na="__reactEvents$"+Nr,cv="__reactListeners$"+Nr,dv="__reactHandles$"+Nr;function En(t){var e=t[_t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[At]||n[_t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jc(t);t!==null;){if(n=t[_t])return n;t=Jc(t)}return e}t=n,n=t.parentNode}return null}function Hi(t){return t=t[_t]||t[At],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function ko(t){return t[ki]||null}var ra=[],Jn=-1;function pn(t){return{current:t}}function Z(t){0>Jn||(t.current=ra[Jn],ra[Jn]=null,Jn--)}function K(t,e){Jn++,ra[Jn]=t.current,t.current=e}var cn={},Ie=pn(cn),je=pn(!1),Rn=cn;function gr(t,e){var n=t.type.contextTypes;if(!n)return cn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function be(t){return t=t.childContextTypes,t!=null}function Bs(){Z(je),Z(Ie)}function Zc(t,e,n){if(Ie.current!==cn)throw Error(E(168));K(Ie,e),K(je,n)}function Ah(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(E(108,Kg(t)||"Unknown",i));return ie({},n,r)}function Us(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cn,Rn=Ie.current,K(Ie,t),K(je,je.current),!0}function ed(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Ah(t,e,Rn),r.__reactInternalMemoizedMergedChildContext=t,Z(je),Z(Ie),K(Ie,t)):Z(je),K(je,n)}var Tt=null,xo=!1,ul=!1;function Mh(t){Tt===null?Tt=[t]:Tt.push(t)}function fv(t){xo=!0,Mh(t)}function mn(){if(!ul&&Tt!==null){ul=!0;var t=0,e=V;try{var n=Tt;for(V=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tt=null,xo=!1}catch(i){throw Tt!==null&&(Tt=Tt.slice(t+1)),sh(eu,mn),i}finally{V=e,ul=!1}}return null}var Zn=[],er=0,Ws=null,Hs=0,Ke=[],qe=0,Pn=null,It=1,Nt="";function vn(t,e){Zn[er++]=Hs,Zn[er++]=Ws,Ws=t,Hs=e}function Lh(t,e,n){Ke[qe++]=It,Ke[qe++]=Nt,Ke[qe++]=Pn,Pn=t;var r=It;t=Nt;var i=32-ut(r)-1;r&=~(1<<i),n+=1;var s=32-ut(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,It=1<<32-ut(e)+i|n<<i|r,Nt=s+t}else It=1<<s|n<<i|r,Nt=t}function uu(t){t.return!==null&&(vn(t,1),Lh(t,1,0))}function cu(t){for(;t===Ws;)Ws=Zn[--er],Zn[er]=null,Hs=Zn[--er],Zn[er]=null;for(;t===Pn;)Pn=Ke[--qe],Ke[qe]=null,Nt=Ke[--qe],Ke[qe]=null,It=Ke[--qe],Ke[qe]=null}var Ve=null,He=null,ee=!1,st=null;function Fh(t,e){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function td(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ve=t,He=en(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ve=t,He=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pn!==null?{id:It,overflow:Nt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ve=t,He=null,!0):!1;default:return!1}}function ia(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sa(t){if(ee){var e=He;if(e){var n=e;if(!td(t,e)){if(ia(t))throw Error(E(418));e=en(n.nextSibling);var r=Ve;e&&td(t,e)?Fh(r,n):(t.flags=t.flags&-4097|2,ee=!1,Ve=t)}}else{if(ia(t))throw Error(E(418));t.flags=t.flags&-4097|2,ee=!1,Ve=t}}}function nd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ve=t}function cs(t){if(t!==Ve)return!1;if(!ee)return nd(t),ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ea(t.type,t.memoizedProps)),e&&(e=He)){if(ia(t))throw jh(),Error(E(418));for(;e;)Fh(t,e),e=en(e.nextSibling)}if(nd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){He=en(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}He=null}}else He=Ve?en(t.stateNode.nextSibling):null;return!0}function jh(){for(var t=He;t;)t=en(t.nextSibling)}function _r(){He=Ve=null,ee=!1}function du(t){st===null?st=[t]:st.push(t)}var hv=zt.ReactCurrentBatchConfig;function Br(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function ds(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rd(t){var e=t._init;return e(t._payload)}function bh(t){function e(m,h){if(t){var g=m.deletions;g===null?(m.deletions=[h],m.flags|=16):g.push(h)}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=sn(m,h),m.index=0,m.sibling=null,m}function s(m,h,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<h?(m.flags|=2,h):g):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,h,g,C){return h===null||h.tag!==6?(h=gl(g,m.mode,C),h.return=m,h):(h=i(h,g),h.return=m,h)}function a(m,h,g,C){var x=g.type;return x===Qn?f(m,h,g.props.children,C,g.key):h!==null&&(h.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===$t&&rd(x)===h.type)?(C=i(h,g.props),C.ref=Br(m,h,g),C.return=m,C):(C=Rs(g.type,g.key,g.props,null,m.mode,C),C.ref=Br(m,h,g),C.return=m,C)}function u(m,h,g,C){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=_l(g,m.mode,C),h.return=m,h):(h=i(h,g.children||[]),h.return=m,h)}function f(m,h,g,C,x){return h===null||h.tag!==7?(h=Nn(g,m.mode,C,x),h.return=m,h):(h=i(h,g),h.return=m,h)}function c(m,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=gl(""+h,m.mode,g),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case es:return g=Rs(h.type,h.key,h.props,null,m.mode,g),g.ref=Br(m,null,h),g.return=m,g;case Gn:return h=_l(h,m.mode,g),h.return=m,h;case $t:var C=h._init;return c(m,C(h._payload),g)}if(Xr(h)||Lr(h))return h=Nn(h,m.mode,g,null),h.return=m,h;ds(m,h)}return null}function d(m,h,g,C){var x=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:l(m,h,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case es:return g.key===x?a(m,h,g,C):null;case Gn:return g.key===x?u(m,h,g,C):null;case $t:return x=g._init,d(m,h,x(g._payload),C)}if(Xr(g)||Lr(g))return x!==null?null:f(m,h,g,C,null);ds(m,g)}return null}function _(m,h,g,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(g)||null,l(h,m,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case es:return m=m.get(C.key===null?g:C.key)||null,a(h,m,C,x);case Gn:return m=m.get(C.key===null?g:C.key)||null,u(h,m,C,x);case $t:var R=C._init;return _(m,h,g,R(C._payload),x)}if(Xr(C)||Lr(C))return m=m.get(g)||null,f(h,m,C,x,null);ds(h,C)}return null}function v(m,h,g,C){for(var x=null,R=null,N=h,P=h=0,q=null;N!==null&&P<g.length;P++){N.index>P?(q=N,N=null):q=N.sibling;var L=d(m,N,g[P],C);if(L===null){N===null&&(N=q);break}t&&N&&L.alternate===null&&e(m,N),h=s(L,h,P),R===null?x=L:R.sibling=L,R=L,N=q}if(P===g.length)return n(m,N),ee&&vn(m,P),x;if(N===null){for(;P<g.length;P++)N=c(m,g[P],C),N!==null&&(h=s(N,h,P),R===null?x=N:R.sibling=N,R=N);return ee&&vn(m,P),x}for(N=r(m,N);P<g.length;P++)q=_(N,m,P,g[P],C),q!==null&&(t&&q.alternate!==null&&N.delete(q.key===null?P:q.key),h=s(q,h,P),R===null?x=q:R.sibling=q,R=q);return t&&N.forEach(function(Ne){return e(m,Ne)}),ee&&vn(m,P),x}function y(m,h,g,C){var x=Lr(g);if(typeof x!="function")throw Error(E(150));if(g=x.call(g),g==null)throw Error(E(151));for(var R=x=null,N=h,P=h=0,q=null,L=g.next();N!==null&&!L.done;P++,L=g.next()){N.index>P?(q=N,N=null):q=N.sibling;var Ne=d(m,N,L.value,C);if(Ne===null){N===null&&(N=q);break}t&&N&&Ne.alternate===null&&e(m,N),h=s(Ne,h,P),R===null?x=Ne:R.sibling=Ne,R=Ne,N=q}if(L.done)return n(m,N),ee&&vn(m,P),x;if(N===null){for(;!L.done;P++,L=g.next())L=c(m,L.value,C),L!==null&&(h=s(L,h,P),R===null?x=L:R.sibling=L,R=L);return ee&&vn(m,P),x}for(N=r(m,N);!L.done;P++,L=g.next())L=_(N,m,P,L.value,C),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?P:L.key),h=s(L,h,P),R===null?x=L:R.sibling=L,R=L);return t&&N.forEach(function(wt){return e(m,wt)}),ee&&vn(m,P),x}function O(m,h,g,C){if(typeof g=="object"&&g!==null&&g.type===Qn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case es:e:{for(var x=g.key,R=h;R!==null;){if(R.key===x){if(x=g.type,x===Qn){if(R.tag===7){n(m,R.sibling),h=i(R,g.props.children),h.return=m,m=h;break e}}else if(R.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===$t&&rd(x)===R.type){n(m,R.sibling),h=i(R,g.props),h.ref=Br(m,R,g),h.return=m,m=h;break e}n(m,R);break}else e(m,R);R=R.sibling}g.type===Qn?(h=Nn(g.props.children,m.mode,C,g.key),h.return=m,m=h):(C=Rs(g.type,g.key,g.props,null,m.mode,C),C.ref=Br(m,h,g),C.return=m,m=C)}return o(m);case Gn:e:{for(R=g.key;h!==null;){if(h.key===R)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(m,h.sibling),h=i(h,g.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=_l(g,m.mode,C),h.return=m,m=h}return o(m);case $t:return R=g._init,O(m,h,R(g._payload),C)}if(Xr(g))return v(m,h,g,C);if(Lr(g))return y(m,h,g,C);ds(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,g),h.return=m,m=h):(n(m,h),h=gl(g,m.mode,C),h.return=m,m=h),o(m)):n(m,h)}return O}var vr=bh(!0),zh=bh(!1),Vs=pn(null),$s=null,tr=null,fu=null;function hu(){fu=tr=$s=null}function pu(t){var e=Vs.current;Z(Vs),t._currentValue=e}function oa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ur(t,e){$s=t,fu=tr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Me=!0),t.firstContext=null)}function Ze(t){var e=t._currentValue;if(fu!==t)if(t={context:t,memoizedValue:e,next:null},tr===null){if($s===null)throw Error(E(308));tr=t,$s.dependencies={lanes:0,firstContext:t}}else tr=tr.next=t;return e}var Sn=null;function mu(t){Sn===null?Sn=[t]:Sn.push(t)}function Bh(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Mt(t,r)}function Mt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gt=!1;function gu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Mt(t,n)}return i=r.interleaved,i===null?(e.next=e,mu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Mt(t,n)}function Ss(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tu(t,n)}}function id(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gs(t,e,n,r){var i=t.updateQueue;Gt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(s!==null){var c=i.baseState;o=0,f=u=a=null,l=s;do{var d=l.lane,_=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(d=e,_=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){c=v.call(_,c,d);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,d=typeof v=="function"?v.call(_,c,d):v,d==null)break e;c=ie({},c,d);break e;case 2:Gt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else _={eventTime:_,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=_,a=c):f=f.next=_,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);On|=o,t.lanes=o,t.memoizedState=c}}function sd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var Vi={},yt=pn(Vi),xi=pn(Vi),Ti=pn(Vi);function kn(t){if(t===Vi)throw Error(E(174));return t}function _u(t,e){switch(K(Ti,e),K(xi,t),K(yt,Vi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bl(e,t)}Z(yt),K(yt,e)}function yr(){Z(yt),Z(xi),Z(Ti)}function Wh(t){kn(Ti.current);var e=kn(yt.current),n=Bl(e,t.type);e!==n&&(K(xi,t),K(yt,n))}function vu(t){xi.current===t&&(Z(yt),Z(xi))}var ne=pn(0);function Qs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cl=[];function yu(){for(var t=0;t<cl.length;t++)cl[t]._workInProgressVersionPrimary=null;cl.length=0}var ks=zt.ReactCurrentDispatcher,dl=zt.ReactCurrentBatchConfig,Dn=0,re=null,ce=null,me=null,Ys=!1,si=!1,Ii=0,pv=0;function Se(){throw Error(E(321))}function wu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ft(t[n],e[n]))return!1;return!0}function Cu(t,e,n,r,i,s){if(Dn=s,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ks.current=t===null||t.memoizedState===null?vv:yv,t=n(r,i),si){s=0;do{if(si=!1,Ii=0,25<=s)throw Error(E(301));s+=1,me=ce=null,e.updateQueue=null,ks.current=wv,t=n(r,i)}while(si)}if(ks.current=Ks,e=ce!==null&&ce.next!==null,Dn=0,me=ce=re=null,Ys=!1,e)throw Error(E(300));return t}function Eu(){var t=Ii!==0;return Ii=0,t}function gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?re.memoizedState=me=t:me=me.next=t,me}function et(){if(ce===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=me===null?re.memoizedState:me.next;if(e!==null)me=e,ce=t;else{if(t===null)throw Error(E(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},me===null?re.memoizedState=me=t:me=me.next=t}return me}function Ni(t,e){return typeof e=="function"?e(t):e}function fl(t){var e=et(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=ce,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var f=u.lane;if((Dn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,re.lanes|=f,On|=f}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,ft(r,e.memoizedState)||(Me=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,re.lanes|=s,On|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hl(t){var e=et(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ft(s,e.memoizedState)||(Me=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Hh(){}function Vh(t,e){var n=re,r=et(),i=e(),s=!ft(r.memoizedState,i);if(s&&(r.memoizedState=i,Me=!0),r=r.queue,Su(Qh.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Ri(9,Gh.bind(null,n,r,i,e),void 0,null),ve===null)throw Error(E(349));Dn&30||$h(n,e,i)}return i}function $h(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gh(t,e,n,r){e.value=n,e.getSnapshot=r,Yh(e)&&Kh(t)}function Qh(t,e,n){return n(function(){Yh(e)&&Kh(t)})}function Yh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ft(t,n)}catch{return!0}}function Kh(t){var e=Mt(t,1);e!==null&&ct(e,t,1,-1)}function od(t){var e=gt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},e.queue=t,t=t.dispatch=_v.bind(null,re,t),[e.memoizedState,t]}function Ri(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qh(){return et().memoizedState}function xs(t,e,n,r){var i=gt();re.flags|=t,i.memoizedState=Ri(1|e,n,void 0,r===void 0?null:r)}function To(t,e,n,r){var i=et();r=r===void 0?null:r;var s=void 0;if(ce!==null){var o=ce.memoizedState;if(s=o.destroy,r!==null&&wu(r,o.deps)){i.memoizedState=Ri(e,n,s,r);return}}re.flags|=t,i.memoizedState=Ri(1|e,n,s,r)}function ld(t,e){return xs(8390656,8,t,e)}function Su(t,e){return To(2048,8,t,e)}function Xh(t,e){return To(4,2,t,e)}function Jh(t,e){return To(4,4,t,e)}function Zh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ep(t,e,n){return n=n!=null?n.concat([t]):null,To(4,4,Zh.bind(null,e,t),n)}function ku(){}function tp(t,e){var n=et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function np(t,e){var n=et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rp(t,e,n){return Dn&21?(ft(n,e)||(n=ah(),re.lanes|=n,On|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Me=!0),t.memoizedState=n)}function mv(t,e){var n=V;V=n!==0&&4>n?n:4,t(!0);var r=dl.transition;dl.transition={};try{t(!1),e()}finally{V=n,dl.transition=r}}function ip(){return et().memoizedState}function gv(t,e,n){var r=rn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sp(t))op(e,n);else if(n=Bh(t,e,n,r),n!==null){var i=Pe();ct(n,t,r,i),lp(n,e,r)}}function _v(t,e,n){var r=rn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sp(t))op(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,ft(l,o)){var a=e.interleaved;a===null?(i.next=i,mu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Bh(t,e,i,r),n!==null&&(i=Pe(),ct(n,t,r,i),lp(n,e,r))}}function sp(t){var e=t.alternate;return t===re||e!==null&&e===re}function op(t,e){si=Ys=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tu(t,n)}}var Ks={readContext:Ze,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},vv={readContext:Ze,useCallback:function(t,e){return gt().memoizedState=[t,e===void 0?null:e],t},useContext:Ze,useEffect:ld,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xs(4194308,4,Zh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xs(4194308,4,t,e)},useInsertionEffect:function(t,e){return xs(4,2,t,e)},useMemo:function(t,e){var n=gt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gv.bind(null,re,t),[r.memoizedState,t]},useRef:function(t){var e=gt();return t={current:t},e.memoizedState=t},useState:od,useDebugValue:ku,useDeferredValue:function(t){return gt().memoizedState=t},useTransition:function(){var t=od(!1),e=t[0];return t=mv.bind(null,t[1]),gt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=re,i=gt();if(ee){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ve===null)throw Error(E(349));Dn&30||$h(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ld(Qh.bind(null,r,s,t),[t]),r.flags|=2048,Ri(9,Gh.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gt(),e=ve.identifierPrefix;if(ee){var n=Nt,r=It;n=(r&~(1<<32-ut(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ii++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yv={readContext:Ze,useCallback:tp,useContext:Ze,useEffect:Su,useImperativeHandle:ep,useInsertionEffect:Xh,useLayoutEffect:Jh,useMemo:np,useReducer:fl,useRef:qh,useState:function(){return fl(Ni)},useDebugValue:ku,useDeferredValue:function(t){var e=et();return rp(e,ce.memoizedState,t)},useTransition:function(){var t=fl(Ni)[0],e=et().memoizedState;return[t,e]},useMutableSource:Hh,useSyncExternalStore:Vh,useId:ip,unstable_isNewReconciler:!1},wv={readContext:Ze,useCallback:tp,useContext:Ze,useEffect:Su,useImperativeHandle:ep,useInsertionEffect:Xh,useLayoutEffect:Jh,useMemo:np,useReducer:hl,useRef:qh,useState:function(){return hl(Ni)},useDebugValue:ku,useDeferredValue:function(t){var e=et();return ce===null?e.memoizedState=t:rp(e,ce.memoizedState,t)},useTransition:function(){var t=hl(Ni)[0],e=et().memoizedState;return[t,e]},useMutableSource:Hh,useSyncExternalStore:Vh,useId:ip,unstable_isNewReconciler:!1};function rt(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function la(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Io={isMounted:function(t){return(t=t._reactInternals)?zn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pe(),i=rn(t),s=Pt(r,i);s.payload=e,n!=null&&(s.callback=n),e=tn(t,s,i),e!==null&&(ct(e,t,i,r),Ss(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pe(),i=rn(t),s=Pt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=tn(t,s,i),e!==null&&(ct(e,t,i,r),Ss(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pe(),r=rn(t),i=Pt(n,r);i.tag=2,e!=null&&(i.callback=e),e=tn(t,i,r),e!==null&&(ct(e,t,r,n),Ss(e,t,r))}};function ad(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ci(n,r)||!Ci(i,s):!0}function ap(t,e,n){var r=!1,i=cn,s=e.contextType;return typeof s=="object"&&s!==null?s=Ze(s):(i=be(e)?Rn:Ie.current,r=e.contextTypes,s=(r=r!=null)?gr(t,i):cn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Io,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ud(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Io.enqueueReplaceState(e,e.state,null)}function aa(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ze(s):(s=be(e)?Rn:Ie.current,i.context=gr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(la(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Io.enqueueReplaceState(i,i.state,null),Gs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wr(t,e){try{var n="",r=e;do n+=Yg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ua(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Cv=typeof WeakMap=="function"?WeakMap:Map;function up(t,e,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xs||(Xs=!0,ya=r),ua(t,e)},n}function cp(t,e,n){n=Pt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ua(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ua(t,e),typeof r!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Cv;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Lv.bind(null,t,e,n),e.then(t,t))}function dd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pt(-1,1),e.tag=2,tn(n,e,1))),n.lanes|=1),t)}var Ev=zt.ReactCurrentOwner,Me=!1;function Re(t,e,n,r){e.child=t===null?zh(e,null,n,r):vr(e,t.child,n,r)}function hd(t,e,n,r,i){n=n.render;var s=e.ref;return ur(e,i),r=Cu(t,e,n,r,s,i),n=Eu(),t!==null&&!Me?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lt(t,e,i)):(ee&&n&&uu(e),e.flags|=1,Re(t,e,r,i),e.child)}function pd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ou(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dp(t,e,s,r,i)):(t=Rs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ci,n(o,r)&&t.ref===e.ref)return Lt(t,e,i)}return e.flags|=1,t=sn(s,r),t.ref=e.ref,t.return=e,e.child=t}function dp(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ci(s,r)&&t.ref===e.ref)if(Me=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Me=!0);else return e.lanes=t.lanes,Lt(t,e,i)}return ca(t,e,n,r,i)}function fp(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(rr,We),We|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(rr,We),We|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,K(rr,We),We|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,K(rr,We),We|=r;return Re(t,e,i,n),e.child}function hp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ca(t,e,n,r,i){var s=be(n)?Rn:Ie.current;return s=gr(e,s),ur(e,i),n=Cu(t,e,n,r,s,i),r=Eu(),t!==null&&!Me?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lt(t,e,i)):(ee&&r&&uu(e),e.flags|=1,Re(t,e,n,i),e.child)}function md(t,e,n,r,i){if(be(n)){var s=!0;Us(e)}else s=!1;if(ur(e,i),e.stateNode===null)Ts(t,e),ap(e,n,r),aa(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ze(u):(u=be(n)?Rn:Ie.current,u=gr(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ud(e,o,r,u),Gt=!1;var d=e.memoizedState;o.state=d,Gs(e,r,o,i),a=e.memoizedState,l!==r||d!==a||je.current||Gt?(typeof f=="function"&&(la(e,n,f,r),a=e.memoizedState),(l=Gt||ad(e,n,l,r,d,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Uh(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:rt(e.type,l),o.props=u,c=e.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ze(a):(a=be(n)?Rn:Ie.current,a=gr(e,a));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==a)&&ud(e,o,r,a),Gt=!1,d=e.memoizedState,o.state=d,Gs(e,r,o,i);var v=e.memoizedState;l!==c||d!==v||je.current||Gt?(typeof _=="function"&&(la(e,n,_,r),v=e.memoizedState),(u=Gt||ad(e,n,u,r,d,v,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return da(t,e,n,r,s,i)}function da(t,e,n,r,i,s){hp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ed(e,n,!1),Lt(t,e,s);r=e.stateNode,Ev.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=vr(e,t.child,null,s),e.child=vr(e,null,l,s)):Re(t,e,l,s),e.memoizedState=r.state,i&&ed(e,n,!0),e.child}function pp(t){var e=t.stateNode;e.pendingContext?Zc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zc(t,e.context,!1),_u(t,e.containerInfo)}function gd(t,e,n,r,i){return _r(),du(i),e.flags|=256,Re(t,e,n,r),e.child}var fa={dehydrated:null,treeContext:null,retryLane:0};function ha(t){return{baseLanes:t,cachePool:null,transitions:null}}function mp(t,e,n){var r=e.pendingProps,i=ne.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),K(ne,i&1),t===null)return sa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Po(o,r,0,null),t=Nn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ha(n),e.memoizedState=fa,t):xu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Sv(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=sn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=sn(l,s):(s=Nn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ha(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=fa,r}return s=t.child,t=s.sibling,r=sn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xu(t,e){return e=Po({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fs(t,e,n,r){return r!==null&&du(r),vr(e,t.child,null,n),t=xu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Sv(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pl(Error(E(422))),fs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Po({mode:"visible",children:r.children},i,0,null),s=Nn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&vr(e,t.child,null,o),e.child.memoizedState=ha(o),e.memoizedState=fa,s);if(!(e.mode&1))return fs(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(E(419)),r=pl(s,r,void 0),fs(t,e,o,r)}if(l=(o&t.childLanes)!==0,Me||l){if(r=ve,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Mt(t,i),ct(r,t,i,-1))}return Du(),r=pl(Error(E(421))),fs(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Fv.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,He=en(i.nextSibling),Ve=e,ee=!0,st=null,t!==null&&(Ke[qe++]=It,Ke[qe++]=Nt,Ke[qe++]=Pn,It=t.id,Nt=t.overflow,Pn=e),e=xu(e,r.children),e.flags|=4096,e)}function _d(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),oa(t.return,e,n)}function ml(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Re(t,e,r.children,n),r=ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_d(t,n,e);else if(t.tag===19)_d(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(ne,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ml(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ml(e,!0,n,null,s);break;case"together":ml(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ts(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),On|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=sn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kv(t,e,n){switch(e.tag){case 3:pp(e),_r();break;case 5:Wh(e);break;case 1:be(e.type)&&Us(e);break;case 4:_u(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;K(Vs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(ne,ne.current&1),e.flags|=128,null):n&e.child.childLanes?mp(t,e,n):(K(ne,ne.current&1),t=Lt(t,e,n),t!==null?t.sibling:null);K(ne,ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(ne,ne.current),r)break;return null;case 22:case 23:return e.lanes=0,fp(t,e,n)}return Lt(t,e,n)}var _p,pa,vp,yp;_p=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pa=function(){};vp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,kn(yt.current);var s=null;switch(n){case"input":i=Fl(t,i),r=Fl(t,r),s=[];break;case"select":i=ie({},i,{value:void 0}),r=ie({},r,{value:void 0}),s=[];break;case"textarea":i=zl(t,i),r=zl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zs)}Ul(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&X("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};yp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ur(t,e){if(!ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xv(t,e,n){var r=e.pendingProps;switch(cu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return be(e.type)&&Bs(),ke(e),null;case 3:return r=e.stateNode,yr(),Z(je),Z(Ie),yu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(Ea(st),st=null))),pa(t,e),ke(e),null;case 5:vu(e);var i=kn(Ti.current);if(n=e.type,t!==null&&e.stateNode!=null)vp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return ke(e),null}if(t=kn(yt.current),cs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[_t]=e,r[ki]=s,t=(e.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(i=0;i<Zr.length;i++)X(Zr[i],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":Tc(r,s),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},X("invalid",r);break;case"textarea":Nc(r,s),X("invalid",r)}Ul(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&us(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&us(r.textContent,l,t),i=["children",""+l]):pi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&X("scroll",r)}switch(n){case"input":ts(r),Ic(r,s,!0);break;case"textarea":ts(r),Rc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_t]=e,t[ki]=r,_p(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wl(n,r),n){case"dialog":X("cancel",t),X("close",t),i=r;break;case"iframe":case"object":case"embed":X("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zr.length;i++)X(Zr[i],t);i=r;break;case"source":X("error",t),i=r;break;case"img":case"image":case"link":X("error",t),X("load",t),i=r;break;case"details":X("toggle",t),i=r;break;case"input":Tc(t,r),i=Fl(t,r),X("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ie({},r,{value:void 0}),X("invalid",t);break;case"textarea":Nc(t,r),i=zl(t,r),X("invalid",t);break;default:i=r}Ul(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?qf(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Yf(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&mi(t,a):typeof a=="number"&&mi(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&X("scroll",t):a!=null&&Ka(t,s,a,o))}switch(n){case"input":ts(t),Ic(t,r,!1);break;case"textarea":ts(t),Rc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+un(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?sr(t,!!r.multiple,s,!1):r.defaultValue!=null&&sr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)yp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=kn(Ti.current),kn(yt.current),cs(e)){if(r=e.stateNode,n=e.memoizedProps,r[_t]=e,(s=r.nodeValue!==n)&&(t=Ve,t!==null))switch(t.tag){case 3:us(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&us(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=e,e.stateNode=r}return ke(e),null;case 13:if(Z(ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ee&&He!==null&&e.mode&1&&!(e.flags&128))jh(),_r(),e.flags|=98560,s=!1;else if(s=cs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(E(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[_t]=e}else _r(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),s=!1}else st!==null&&(Ea(st),st=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?fe===0&&(fe=3):Du())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return yr(),pa(t,e),t===null&&Ei(e.stateNode.containerInfo),ke(e),null;case 10:return pu(e.type._context),ke(e),null;case 17:return be(e.type)&&Bs(),ke(e),null;case 19:if(Z(ne),s=e.memoizedState,s===null)return ke(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ur(s,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qs(t),o!==null){for(e.flags|=128,Ur(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(ne,ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&le()>Cr&&(e.flags|=128,r=!0,Ur(s,!1),e.lanes=4194304)}else{if(!r)if(t=Qs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ur(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ee)return ke(e),null}else 2*le()-s.renderingStartTime>Cr&&n!==1073741824&&(e.flags|=128,r=!0,Ur(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=le(),e.sibling=null,n=ne.current,K(ne,r?n&1|2:n&1),e):(ke(e),null);case 22:case 23:return Pu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?We&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Tv(t,e){switch(cu(e),e.tag){case 1:return be(e.type)&&Bs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yr(),Z(je),Z(Ie),yu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vu(e),null;case 13:if(Z(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));_r()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Z(ne),null;case 4:return yr(),null;case 10:return pu(e.type._context),null;case 22:case 23:return Pu(),null;case 24:return null;default:return null}}var hs=!1,xe=!1,Iv=typeof WeakSet=="function"?WeakSet:Set,I=null;function nr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(t,e,r)}else n.current=null}function ma(t,e,n){try{n()}catch(r){se(t,e,r)}}var vd=!1;function Nv(t,e){if(Jl=Fs,t=kh(),au(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,c=t,d=null;t:for(;;){for(var _;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(_=c.firstChild)!==null;)d=c,c=_;for(;;){if(c===t)break t;if(d===n&&++u===i&&(l=o),d===s&&++f===r&&(a=o),(_=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zl={focusedElem:t,selectionRange:n},Fs=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,O=v.memoizedState,m=e.stateNode,h=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:rt(e.type,y),O);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(C){se(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return v=vd,vd=!1,v}function oi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ma(e,n,s)}i=i.next}while(i!==r)}}function No(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ga(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wp(t){var e=t.alternate;e!==null&&(t.alternate=null,wp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_t],delete e[ki],delete e[na],delete e[cv],delete e[dv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cp(t){return t.tag===5||t.tag===3||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _a(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zs));else if(r!==4&&(t=t.child,t!==null))for(_a(t,e,n),t=t.sibling;t!==null;)_a(t,e,n),t=t.sibling}function va(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(va(t,e,n),t=t.sibling;t!==null;)va(t,e,n),t=t.sibling}var ye=null,it=!1;function Vt(t,e,n){for(n=n.child;n!==null;)Ep(t,e,n),n=n.sibling}function Ep(t,e,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(wo,n)}catch{}switch(n.tag){case 5:xe||nr(n,e);case 6:var r=ye,i=it;ye=null,Vt(t,e,n),ye=r,it=i,ye!==null&&(it?(t=ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(it?(t=ye,n=n.stateNode,t.nodeType===8?al(t.parentNode,n):t.nodeType===1&&al(t,n),yi(t)):al(ye,n.stateNode));break;case 4:r=ye,i=it,ye=n.stateNode.containerInfo,it=!0,Vt(t,e,n),ye=r,it=i;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ma(n,e,o),i=i.next}while(i!==r)}Vt(t,e,n);break;case 1:if(!xe&&(nr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){se(n,e,l)}Vt(t,e,n);break;case 21:Vt(t,e,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,Vt(t,e,n),xe=r):Vt(t,e,n);break;default:Vt(t,e,n)}}function wd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Iv),e.forEach(function(r){var i=jv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ye=l.stateNode,it=!1;break e;case 3:ye=l.stateNode.containerInfo,it=!0;break e;case 4:ye=l.stateNode.containerInfo,it=!0;break e}l=l.return}if(ye===null)throw Error(E(160));Ep(s,o,i),ye=null,it=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){se(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sp(e,t),e=e.sibling}function Sp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nt(e,t),mt(t),r&4){try{oi(3,t,t.return),No(3,t)}catch(y){se(t,t.return,y)}try{oi(5,t,t.return)}catch(y){se(t,t.return,y)}}break;case 1:nt(e,t),mt(t),r&512&&n!==null&&nr(n,n.return);break;case 5:if(nt(e,t),mt(t),r&512&&n!==null&&nr(n,n.return),t.flags&32){var i=t.stateNode;try{mi(i,"")}catch(y){se(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&$f(i,s),Wl(l,o);var u=Wl(l,s);for(o=0;o<a.length;o+=2){var f=a[o],c=a[o+1];f==="style"?qf(i,c):f==="dangerouslySetInnerHTML"?Yf(i,c):f==="children"?mi(i,c):Ka(i,f,c,u)}switch(l){case"input":jl(i,s);break;case"textarea":Gf(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?sr(i,!!s.multiple,_,!1):d!==!!s.multiple&&(s.defaultValue!=null?sr(i,!!s.multiple,s.defaultValue,!0):sr(i,!!s.multiple,s.multiple?[]:"",!1))}i[ki]=s}catch(y){se(t,t.return,y)}}break;case 6:if(nt(e,t),mt(t),r&4){if(t.stateNode===null)throw Error(E(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){se(t,t.return,y)}}break;case 3:if(nt(e,t),mt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yi(e.containerInfo)}catch(y){se(t,t.return,y)}break;case 4:nt(e,t),mt(t);break;case 13:nt(e,t),mt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nu=le())),r&4&&wd(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(xe=(u=xe)||f,nt(e,t),xe=u):nt(e,t),mt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(I=t,f=t.child;f!==null;){for(c=I=f;I!==null;){switch(d=I,_=d.child,d.tag){case 0:case 11:case 14:case 15:oi(4,d,d.return);break;case 1:nr(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){se(r,n,y)}}break;case 5:nr(d,d.return);break;case 22:if(d.memoizedState!==null){Ed(c);continue}}_!==null?(_.return=d,I=_):Ed(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Kf("display",o))}catch(y){se(t,t.return,y)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){se(t,t.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:nt(e,t),mt(t),r&4&&wd(t);break;case 21:break;default:nt(e,t),mt(t)}}function mt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cp(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mi(i,""),r.flags&=-33);var s=yd(t);va(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=yd(t);_a(t,l,o);break;default:throw Error(E(161))}}catch(a){se(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Rv(t,e,n){I=t,kp(t)}function kp(t,e,n){for(var r=(t.mode&1)!==0;I!==null;){var i=I,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hs;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||xe;l=hs;var u=xe;if(hs=o,(xe=a)&&!u)for(I=i;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?Sd(i):a!==null?(a.return=o,I=a):Sd(i);for(;s!==null;)I=s,kp(s),s=s.sibling;I=i,hs=l,xe=u}Cd(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,I=s):Cd(t)}}function Cd(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xe||No(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&sd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&yi(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}xe||e.flags&512&&ga(e)}catch(d){se(e,e.return,d)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function Ed(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function Sd(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{No(4,e)}catch(a){se(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){se(e,i,a)}}var s=e.return;try{ga(e)}catch(a){se(e,s,a)}break;case 5:var o=e.return;try{ga(e)}catch(a){se(e,o,a)}}}catch(a){se(e,e.return,a)}if(e===t){I=null;break}var l=e.sibling;if(l!==null){l.return=e.return,I=l;break}I=e.return}}var Pv=Math.ceil,qs=zt.ReactCurrentDispatcher,Tu=zt.ReactCurrentOwner,Je=zt.ReactCurrentBatchConfig,W=0,ve=null,ue=null,Ce=0,We=0,rr=pn(0),fe=0,Pi=null,On=0,Ro=0,Iu=0,li=null,Ae=null,Nu=0,Cr=1/0,xt=null,Xs=!1,ya=null,nn=null,ps=!1,qt=null,Js=0,ai=0,wa=null,Is=-1,Ns=0;function Pe(){return W&6?le():Is!==-1?Is:Is=le()}function rn(t){return t.mode&1?W&2&&Ce!==0?Ce&-Ce:hv.transition!==null?(Ns===0&&(Ns=ah()),Ns):(t=V,t!==0||(t=window.event,t=t===void 0?16:mh(t.type)),t):1}function ct(t,e,n,r){if(50<ai)throw ai=0,wa=null,Error(E(185));Ui(t,n,r),(!(W&2)||t!==ve)&&(t===ve&&(!(W&2)&&(Ro|=n),fe===4&&Yt(t,Ce)),ze(t,r),n===1&&W===0&&!(e.mode&1)&&(Cr=le()+500,xo&&mn()))}function ze(t,e){var n=t.callbackNode;h_(t,e);var r=Ls(t,t===ve?Ce:0);if(r===0)n!==null&&Oc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Oc(n),e===1)t.tag===0?fv(kd.bind(null,t)):Mh(kd.bind(null,t)),av(function(){!(W&6)&&mn()}),n=null;else{switch(uh(r)){case 1:n=eu;break;case 4:n=oh;break;case 16:n=Ms;break;case 536870912:n=lh;break;default:n=Ms}n=Op(n,xp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xp(t,e){if(Is=-1,Ns=0,W&6)throw Error(E(327));var n=t.callbackNode;if(cr()&&t.callbackNode!==n)return null;var r=Ls(t,t===ve?Ce:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zs(t,r);else{e=r;var i=W;W|=2;var s=Ip();(ve!==t||Ce!==e)&&(xt=null,Cr=le()+500,In(t,e));do try{Av();break}catch(l){Tp(t,l)}while(!0);hu(),qs.current=s,W=i,ue!==null?e=0:(ve=null,Ce=0,e=fe)}if(e!==0){if(e===2&&(i=Ql(t),i!==0&&(r=i,e=Ca(t,i))),e===1)throw n=Pi,In(t,0),Yt(t,r),ze(t,le()),n;if(e===6)Yt(t,r);else{if(i=t.current.alternate,!(r&30)&&!Dv(i)&&(e=Zs(t,r),e===2&&(s=Ql(t),s!==0&&(r=s,e=Ca(t,s))),e===1))throw n=Pi,In(t,0),Yt(t,r),ze(t,le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:yn(t,Ae,xt);break;case 3:if(Yt(t,r),(r&130023424)===r&&(e=Nu+500-le(),10<e)){if(Ls(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ta(yn.bind(null,t,Ae,xt),e);break}yn(t,Ae,xt);break;case 4:if(Yt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ut(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pv(r/1960))-r,10<r){t.timeoutHandle=ta(yn.bind(null,t,Ae,xt),r);break}yn(t,Ae,xt);break;case 5:yn(t,Ae,xt);break;default:throw Error(E(329))}}}return ze(t,le()),t.callbackNode===n?xp.bind(null,t):null}function Ca(t,e){var n=li;return t.current.memoizedState.isDehydrated&&(In(t,e).flags|=256),t=Zs(t,e),t!==2&&(e=Ae,Ae=n,e!==null&&Ea(e)),t}function Ea(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function Dv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ft(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yt(t,e){for(e&=~Iu,e&=~Ro,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ut(e),r=1<<n;t[n]=-1,e&=~r}}function kd(t){if(W&6)throw Error(E(327));cr();var e=Ls(t,0);if(!(e&1))return ze(t,le()),null;var n=Zs(t,e);if(t.tag!==0&&n===2){var r=Ql(t);r!==0&&(e=r,n=Ca(t,r))}if(n===1)throw n=Pi,In(t,0),Yt(t,e),ze(t,le()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yn(t,Ae,xt),ze(t,le()),null}function Ru(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(Cr=le()+500,xo&&mn())}}function An(t){qt!==null&&qt.tag===0&&!(W&6)&&cr();var e=W;W|=1;var n=Je.transition,r=V;try{if(Je.transition=null,V=1,t)return t()}finally{V=r,Je.transition=n,W=e,!(W&6)&&mn()}}function Pu(){We=rr.current,Z(rr)}function In(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lv(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(cu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bs();break;case 3:yr(),Z(je),Z(Ie),yu();break;case 5:vu(r);break;case 4:yr();break;case 13:Z(ne);break;case 19:Z(ne);break;case 10:pu(r.type._context);break;case 22:case 23:Pu()}n=n.return}if(ve=t,ue=t=sn(t.current,null),Ce=We=e,fe=0,Pi=null,Iu=Ro=On=0,Ae=li=null,Sn!==null){for(e=0;e<Sn.length;e++)if(n=Sn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Sn=null}return t}function Tp(t,e){do{var n=ue;try{if(hu(),ks.current=Ks,Ys){for(var r=re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ys=!1}if(Dn=0,me=ce=re=null,si=!1,Ii=0,Tu.current=null,n===null||n.return===null){fe=1,Pi=e,ue=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Ce,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=dd(o);if(_!==null){_.flags&=-257,fd(_,o,l,s,e),_.mode&1&&cd(s,u,e),e=_,a=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(a),e.updateQueue=y}else v.add(a);break e}else{if(!(e&1)){cd(s,u,e),Du();break e}a=Error(E(426))}}else if(ee&&l.mode&1){var O=dd(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),fd(O,o,l,s,e),du(wr(a,l));break e}}s=a=wr(a,l),fe!==4&&(fe=2),li===null?li=[s]:li.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=up(s,a,e);id(s,m);break e;case 1:l=a;var h=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(nn===null||!nn.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=cp(s,l,e);id(s,C);break e}}s=s.return}while(s!==null)}Rp(n)}catch(x){e=x,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function Ip(){var t=qs.current;return qs.current=Ks,t===null?Ks:t}function Du(){(fe===0||fe===3||fe===2)&&(fe=4),ve===null||!(On&268435455)&&!(Ro&268435455)||Yt(ve,Ce)}function Zs(t,e){var n=W;W|=2;var r=Ip();(ve!==t||Ce!==e)&&(xt=null,In(t,e));do try{Ov();break}catch(i){Tp(t,i)}while(!0);if(hu(),W=n,qs.current=r,ue!==null)throw Error(E(261));return ve=null,Ce=0,fe}function Ov(){for(;ue!==null;)Np(ue)}function Av(){for(;ue!==null&&!i_();)Np(ue)}function Np(t){var e=Dp(t.alternate,t,We);t.memoizedProps=t.pendingProps,e===null?Rp(t):ue=e,Tu.current=null}function Rp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Tv(n,e),n!==null){n.flags&=32767,ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ue=null;return}}else if(n=xv(n,e,We),n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);fe===0&&(fe=5)}function yn(t,e,n){var r=V,i=Je.transition;try{Je.transition=null,V=1,Mv(t,e,n,r)}finally{Je.transition=i,V=r}return null}function Mv(t,e,n,r){do cr();while(qt!==null);if(W&6)throw Error(E(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(p_(t,s),t===ve&&(ue=ve=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ps||(ps=!0,Op(Ms,function(){return cr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Je.transition,Je.transition=null;var o=V;V=1;var l=W;W|=4,Tu.current=null,Nv(t,n),Sp(n,t),ev(Zl),Fs=!!Jl,Zl=Jl=null,t.current=n,Rv(n),s_(),W=l,V=o,Je.transition=s}else t.current=n;if(ps&&(ps=!1,qt=t,Js=i),s=t.pendingLanes,s===0&&(nn=null),a_(n.stateNode),ze(t,le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xs)throw Xs=!1,t=ya,ya=null,t;return Js&1&&t.tag!==0&&cr(),s=t.pendingLanes,s&1?t===wa?ai++:(ai=0,wa=t):ai=0,mn(),null}function cr(){if(qt!==null){var t=uh(Js),e=Je.transition,n=V;try{if(Je.transition=null,V=16>t?16:t,qt===null)var r=!1;else{if(t=qt,qt=null,Js=0,W&6)throw Error(E(331));var i=W;for(W|=4,I=t.current;I!==null;){var s=I,o=s.child;if(I.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var f=I;switch(f.tag){case 0:case 11:case 15:oi(8,f,s)}var c=f.child;if(c!==null)c.return=f,I=c;else for(;I!==null;){f=I;var d=f.sibling,_=f.return;if(wp(f),f===u){I=null;break}if(d!==null){d.return=_,I=d;break}I=_}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var O=y.sibling;y.sibling=null,y=O}while(y!==null)}}I=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,I=o;else e:for(;I!==null;){if(s=I,s.flags&2048)switch(s.tag){case 0:case 11:case 15:oi(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,I=m;break e}I=s.return}}var h=t.current;for(I=h;I!==null;){o=I;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,I=g;else e:for(o=h;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:No(9,l)}}catch(x){se(l,l.return,x)}if(l===o){I=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,I=C;break e}I=l.return}}if(W=i,mn(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(wo,t)}catch{}r=!0}return r}finally{V=n,Je.transition=e}}return!1}function xd(t,e,n){e=wr(n,e),e=up(t,e,1),t=tn(t,e,1),e=Pe(),t!==null&&(Ui(t,1,e),ze(t,e))}function se(t,e,n){if(t.tag===3)xd(t,t,n);else for(;e!==null;){if(e.tag===3){xd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nn===null||!nn.has(r))){t=wr(n,t),t=cp(e,t,1),e=tn(e,t,1),t=Pe(),e!==null&&(Ui(e,1,t),ze(e,t));break}}e=e.return}}function Lv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pe(),t.pingedLanes|=t.suspendedLanes&n,ve===t&&(Ce&n)===n&&(fe===4||fe===3&&(Ce&130023424)===Ce&&500>le()-Nu?In(t,0):Iu|=n),ze(t,e)}function Pp(t,e){e===0&&(t.mode&1?(e=is,is<<=1,!(is&130023424)&&(is=4194304)):e=1);var n=Pe();t=Mt(t,e),t!==null&&(Ui(t,e,n),ze(t,n))}function Fv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pp(t,n)}function jv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),Pp(t,n)}var Dp;Dp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||je.current)Me=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Me=!1,kv(t,e,n);Me=!!(t.flags&131072)}else Me=!1,ee&&e.flags&1048576&&Lh(e,Hs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ts(t,e),t=e.pendingProps;var i=gr(e,Ie.current);ur(e,n),i=Cu(null,e,r,t,i,n);var s=Eu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,be(r)?(s=!0,Us(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gu(e),i.updater=Io,e.stateNode=i,i._reactInternals=e,aa(e,r,t,n),e=da(null,e,r,!0,s,n)):(e.tag=0,ee&&s&&uu(e),Re(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ts(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zv(r),t=rt(r,t),i){case 0:e=ca(null,e,r,t,n);break e;case 1:e=md(null,e,r,t,n);break e;case 11:e=hd(null,e,r,t,n);break e;case 14:e=pd(null,e,r,rt(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rt(r,i),ca(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rt(r,i),md(t,e,r,i,n);case 3:e:{if(pp(e),t===null)throw Error(E(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Uh(t,e),Gs(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wr(Error(E(423)),e),e=gd(t,e,r,n,i);break e}else if(r!==i){i=wr(Error(E(424)),e),e=gd(t,e,r,n,i);break e}else for(He=en(e.stateNode.containerInfo.firstChild),Ve=e,ee=!0,st=null,n=zh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_r(),r===i){e=Lt(t,e,n);break e}Re(t,e,r,n)}e=e.child}return e;case 5:return Wh(e),t===null&&sa(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ea(r,i)?o=null:s!==null&&ea(r,s)&&(e.flags|=32),hp(t,e),Re(t,e,o,n),e.child;case 6:return t===null&&sa(e),null;case 13:return mp(t,e,n);case 4:return _u(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vr(e,null,r,n):Re(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rt(r,i),hd(t,e,r,i,n);case 7:return Re(t,e,e.pendingProps,n),e.child;case 8:return Re(t,e,e.pendingProps.children,n),e.child;case 12:return Re(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,K(Vs,r._currentValue),r._currentValue=o,s!==null)if(ft(s.value,o)){if(s.children===i.children&&!je.current){e=Lt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Pt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),oa(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),oa(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Re(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ur(e,n),i=Ze(i),r=r(i),e.flags|=1,Re(t,e,r,n),e.child;case 14:return r=e.type,i=rt(r,e.pendingProps),i=rt(r.type,i),pd(t,e,r,i,n);case 15:return dp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rt(r,i),Ts(t,e),e.tag=1,be(r)?(t=!0,Us(e)):t=!1,ur(e,n),ap(e,r,i),aa(e,r,i,n),da(null,e,r,!0,t,n);case 19:return gp(t,e,n);case 22:return fp(t,e,n)}throw Error(E(156,e.tag))};function Op(t,e){return sh(t,e)}function bv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(t,e,n,r){return new bv(t,e,n,r)}function Ou(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zv(t){if(typeof t=="function")return Ou(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xa)return 11;if(t===Ja)return 14}return 2}function sn(t,e){var n=t.alternate;return n===null?(n=Xe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rs(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ou(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qn:return Nn(n.children,i,s,e);case qa:o=8,i|=8;break;case Ol:return t=Xe(12,n,e,i|2),t.elementType=Ol,t.lanes=s,t;case Al:return t=Xe(13,n,e,i),t.elementType=Al,t.lanes=s,t;case Ml:return t=Xe(19,n,e,i),t.elementType=Ml,t.lanes=s,t;case Wf:return Po(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bf:o=10;break e;case Uf:o=9;break e;case Xa:o=11;break e;case Ja:o=14;break e;case $t:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Xe(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Nn(t,e,n,r){return t=Xe(7,t,r,e),t.lanes=n,t}function Po(t,e,n,r){return t=Xe(22,t,r,e),t.elementType=Wf,t.lanes=n,t.stateNode={isHidden:!1},t}function gl(t,e,n){return t=Xe(6,t,null,e),t.lanes=n,t}function _l(t,e,n){return e=Xe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bv(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Au(t,e,n,r,i,s,o,l,a){return t=new Bv(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xe(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gu(s),t}function Uv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ap(t){if(!t)return cn;t=t._reactInternals;e:{if(zn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(be(n))return Ah(t,n,e)}return e}function Mp(t,e,n,r,i,s,o,l,a){return t=Au(n,r,!0,t,i,s,o,l,a),t.context=Ap(null),n=t.current,r=Pe(),i=rn(n),s=Pt(r,i),s.callback=e??null,tn(n,s,i),t.current.lanes=i,Ui(t,i,r),ze(t,r),t}function Do(t,e,n,r){var i=e.current,s=Pe(),o=rn(i);return n=Ap(n),e.context===null?e.context=n:e.pendingContext=n,e=Pt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tn(i,e,o),t!==null&&(ct(t,i,o,s),Ss(t,i,o)),o}function eo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Td(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mu(t,e){Td(t,e),(t=t.alternate)&&Td(t,e)}function Wv(){return null}var Lp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lu(t){this._internalRoot=t}Oo.prototype.render=Lu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Do(t,e,null,null)};Oo.prototype.unmount=Lu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;An(function(){Do(null,t,null,null)}),e[At]=null}};function Oo(t){this._internalRoot=t}Oo.prototype.unstable_scheduleHydration=function(t){if(t){var e=fh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qt.length&&e!==0&&e<Qt[n].priority;n++);Qt.splice(n,0,t),n===0&&ph(t)}};function Fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ao(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Id(){}function Hv(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=eo(o);s.call(u)}}var o=Mp(e,r,t,0,null,!1,!1,"",Id);return t._reactRootContainer=o,t[At]=o.current,Ei(t.nodeType===8?t.parentNode:t),An(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=eo(a);l.call(u)}}var a=Au(t,0,!1,null,null,!1,!1,"",Id);return t._reactRootContainer=a,t[At]=a.current,Ei(t.nodeType===8?t.parentNode:t),An(function(){Do(e,a,n,r)}),a}function Mo(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=eo(o);l.call(a)}}Do(e,o,t,i)}else o=Hv(n,e,t,i,r);return eo(o)}ch=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jr(e.pendingLanes);n!==0&&(tu(e,n|1),ze(e,le()),!(W&6)&&(Cr=le()+500,mn()))}break;case 13:An(function(){var r=Mt(t,1);if(r!==null){var i=Pe();ct(r,t,1,i)}}),Mu(t,1)}};nu=function(t){if(t.tag===13){var e=Mt(t,134217728);if(e!==null){var n=Pe();ct(e,t,134217728,n)}Mu(t,134217728)}};dh=function(t){if(t.tag===13){var e=rn(t),n=Mt(t,e);if(n!==null){var r=Pe();ct(n,t,e,r)}Mu(t,e)}};fh=function(){return V};hh=function(t,e){var n=V;try{return V=t,e()}finally{V=n}};Vl=function(t,e,n){switch(e){case"input":if(jl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ko(r);if(!i)throw Error(E(90));Vf(r),jl(r,i)}}}break;case"textarea":Gf(t,n);break;case"select":e=n.value,e!=null&&sr(t,!!n.multiple,e,!1)}};Zf=Ru;eh=An;var Vv={usingClientEntryPoint:!1,Events:[Hi,Xn,ko,Xf,Jf,Ru]},Wr={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$v={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rh(t),t===null?null:t.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||Wv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{wo=ms.inject($v),vt=ms}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vv;Ge.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fu(e))throw Error(E(200));return Uv(t,e,null,n)};Ge.createRoot=function(t,e){if(!Fu(t))throw Error(E(299));var n=!1,r="",i=Lp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Au(t,1,!1,null,null,n,!1,r,i),t[At]=e.current,Ei(t.nodeType===8?t.parentNode:t),new Lu(e)};Ge.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=rh(e),t=t===null?null:t.stateNode,t};Ge.flushSync=function(t){return An(t)};Ge.hydrate=function(t,e,n){if(!Ao(e))throw Error(E(200));return Mo(null,t,e,!0,n)};Ge.hydrateRoot=function(t,e,n){if(!Fu(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Lp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Mp(e,null,t,1,n??null,i,!1,s,o),t[At]=e.current,Ei(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Oo(e)};Ge.render=function(t,e,n){if(!Ao(e))throw Error(E(200));return Mo(null,t,e,!1,n)};Ge.unmountComponentAtNode=function(t){if(!Ao(t))throw Error(E(40));return t._reactRootContainer?(An(function(){Mo(null,null,t,!1,function(){t._reactRootContainer=null,t[At]=null})}),!0):!1};Ge.unstable_batchedUpdates=Ru;Ge.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ao(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Mo(t,e,n,!1,r)};Ge.version="18.3.1-next-f1338f8080-20240426";function Fp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fp)}catch(t){console.error(t)}}Fp(),Ff.exports=Ge;var Gv=Ff.exports,Nd=Gv;Pl.createRoot=Nd.createRoot,Pl.hydrateRoot=Nd.hydrateRoot;var Rd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=function(t,e){if(!t)throw Rr(e)},Rr=function(t){return new Error("Firebase Database ("+jp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ju={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,f=s>>2,c=(s&3)<<4|l>>4;let d=(l&15)<<2|u>>6,_=u&63;a||(_=64,o||(d=64)),r.push(n[f],n[c],n[d],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||c==null)throw new Yv;const d=s<<2|l>>4;if(r.push(d),u!==64){const _=l<<4&240|u>>2;if(r.push(_),c!==64){const v=u<<6&192|c;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Yv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zp=function(t){const e=bp(t);return ju.encodeByteArray(e,!0)},to=function(t){return zp(t).replace(/\./g,"")},Sa=function(t){try{return ju.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){return Bp(void 0,t)}function Bp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!qv(n)||(t[n]=Bp(t[n],e[n]));return t}function qv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=()=>Xv().__FIREBASE_DEFAULTS__,Zv=()=>{if(typeof process>"u"||typeof Rd>"u")return;const t=Rd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ey=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sa(t[1]);return e&&JSON.parse(e)},Up=()=>{try{return Jv()||Zv()||ey()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ty=t=>{var e,n;return(n=(e=Up())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ny=t=>{const e=ty(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wp=()=>{var t;return(t=Up())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[to(JSON.stringify(n)),to(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(iy())}function sy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oy(){return jp.NODE_ADMIN===!0}function ly(){try{return typeof indexedDB=="object"}catch{return!1}}function ay(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="FirebaseError";class $i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uy,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vp.prototype.create)}}class Vp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?cy(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new $i(i,l,r)}}function cy(t,e){return t.replace(dy,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dy=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){return JSON.parse(t)}function _e(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Di(Sa(s[0])||""),n=Di(Sa(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},fy=function(t){const e=$p(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},hy=function(t){const e=$p(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Er(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Pd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function no(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Dd(s)&&Dd(o)){if(!ka(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const d=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,f;for(let c=0;c<80;c++){c<40?c<20?(u=l^s&(o^l),f=1518500249):(u=s^o^l,f=1859775393):c<60?(u=s&o|l&(s|o),f=2400959708):(u=s^o^l,f=3395469782);const d=(i<<5|i>>>27)+u+a+f+r[c]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function bu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,k(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yy(e))try{this.getOrInitializeService({instanceIdentifier:wn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wn){return this.instances.has(e)}getOptions(e=wn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vy(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wn){return this.component?this.component.multipleInstances?e:wn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vy(t){return t===wn?void 0:t}function yy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _y(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Q||(Q={}));const Cy={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Ey=Q.INFO,Sy={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},ky=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Sy[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gp{constructor(e){this.name=e,this._logLevel=Ey,this._logHandler=ky,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}}const xy=(t,e)=>e.some(n=>t instanceof n);let Od,Ad;function Ty(){return Od||(Od=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Iy(){return Ad||(Ad=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qp=new WeakMap,xa=new WeakMap,Yp=new WeakMap,vl=new WeakMap,zu=new WeakMap;function Ny(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(on(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qp.set(n,t)}).catch(()=>{}),zu.set(e,t),e}function Ry(t){if(xa.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xa.set(t,e)}let Ta={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xa.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Py(t){Ta=t(Ta)}function Dy(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yl(this),e,...n);return Yp.set(r,e.sort?e.sort():[e]),on(r)}:Iy().includes(t)?function(...e){return t.apply(yl(this),e),on(Qp.get(this))}:function(...e){return on(t.apply(yl(this),e))}}function Oy(t){return typeof t=="function"?Dy(t):(t instanceof IDBTransaction&&Ry(t),xy(t,Ty())?new Proxy(t,Ta):t)}function on(t){if(t instanceof IDBRequest)return Ny(t);if(vl.has(t))return vl.get(t);const e=Oy(t);return e!==t&&(vl.set(t,e),zu.set(e,t)),e}const yl=t=>zu.get(t);function Ay(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=on(o);return r&&o.addEventListener("upgradeneeded",a=>{r(on(o.result),a.oldVersion,a.newVersion,on(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const My=["get","getKey","getAll","getAllKeys","count"],Ly=["put","add","delete","clear"],wl=new Map;function Md(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wl.get(e))return wl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ly.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||My.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return wl.set(e,s),s}Py(t=>({...t,get:(e,n,r)=>Md(e,n)||t.get(e,n,r),has:(e,n)=>!!Md(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jy(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ia="@firebase/app",Ld="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft=new Gp("@firebase/app"),by="@firebase/app-compat",zy="@firebase/analytics-compat",By="@firebase/analytics",Uy="@firebase/app-check-compat",Wy="@firebase/app-check",Hy="@firebase/auth",Vy="@firebase/auth-compat",$y="@firebase/database",Gy="@firebase/data-connect",Qy="@firebase/database-compat",Yy="@firebase/functions",Ky="@firebase/functions-compat",qy="@firebase/installations",Xy="@firebase/installations-compat",Jy="@firebase/messaging",Zy="@firebase/messaging-compat",e0="@firebase/performance",t0="@firebase/performance-compat",n0="@firebase/remote-config",r0="@firebase/remote-config-compat",i0="@firebase/storage",s0="@firebase/storage-compat",o0="@firebase/firestore",l0="@firebase/vertexai-preview",a0="@firebase/firestore-compat",u0="firebase",c0="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]",d0={[Ia]:"fire-core",[by]:"fire-core-compat",[By]:"fire-analytics",[zy]:"fire-analytics-compat",[Wy]:"fire-app-check",[Uy]:"fire-app-check-compat",[Hy]:"fire-auth",[Vy]:"fire-auth-compat",[$y]:"fire-rtdb",[Gy]:"fire-data-connect",[Qy]:"fire-rtdb-compat",[Yy]:"fire-fn",[Ky]:"fire-fn-compat",[qy]:"fire-iid",[Xy]:"fire-iid-compat",[Jy]:"fire-fcm",[Zy]:"fire-fcm-compat",[e0]:"fire-perf",[t0]:"fire-perf-compat",[n0]:"fire-rc",[r0]:"fire-rc-compat",[i0]:"fire-gcs",[s0]:"fire-gcs-compat",[o0]:"fire-fst",[a0]:"fire-fst-compat",[l0]:"fire-vertex","fire-js":"fire-js",[u0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Map,f0=new Map,Ra=new Map;function Fd(t,e){try{t.container.addComponent(e)}catch(n){Ft.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function io(t){const e=t.name;if(Ra.has(e))return Ft.debug(`There were multiple attempts to register component ${e}.`),!1;Ra.set(e,t);for(const n of ro.values())Fd(n,t);for(const n of f0.values())Fd(n,t);return!0}function h0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ln=new Vp("app","Firebase",p0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=c0;function Kp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Na,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ln.create("bad-app-name",{appName:String(i)});if(n||(n=Wp()),!n)throw ln.create("no-options");const s=ro.get(i);if(s){if(ka(n,s.options)&&ka(r,s.config))return s;throw ln.create("duplicate-app",{appName:i})}const o=new wy(i);for(const a of Ra.values())o.addComponent(a);const l=new m0(n,r,o);return ro.set(i,l),l}function _0(t=Na){const e=ro.get(t);if(!e&&t===Na&&Wp())return Kp();if(!e)throw ln.create("no-app",{appName:t});return e}function dr(t,e,n){var r;let i=(r=d0[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ft.warn(l.join(" "));return}io(new Oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="firebase-heartbeat-database",y0=1,Ai="firebase-heartbeat-store";let Cl=null;function qp(){return Cl||(Cl=Ay(v0,y0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ai)}catch(n){console.warn(n)}}}}).catch(t=>{throw ln.create("idb-open",{originalErrorMessage:t.message})})),Cl}async function w0(t){try{const n=(await qp()).transaction(Ai),r=await n.objectStore(Ai).get(Xp(t));return await n.done,r}catch(e){if(e instanceof $i)Ft.warn(e.message);else{const n=ln.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ft.warn(n.message)}}}async function jd(t,e){try{const r=(await qp()).transaction(Ai,"readwrite");await r.objectStore(Ai).put(e,Xp(t)),await r.done}catch(n){if(n instanceof $i)Ft.warn(n.message);else{const r=ln.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ft.warn(r.message)}}}function Xp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=1024,E0=30*24*60*60*1e3;class S0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=E0}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ft.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bd(),{heartbeatsToSend:r,unsentEntries:i}=k0(this._heartbeatsCache.heartbeats),s=to(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ft.warn(n),""}}}function bd(){return new Date().toISOString().substring(0,10)}function k0(t,e=C0){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zd(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class x0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ly()?ay().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zd(t){return to(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){io(new Oi("platform-logger",e=>new Fy(e),"PRIVATE")),io(new Oi("heartbeat",e=>new S0(e),"PRIVATE")),dr(Ia,Ld,t),dr(Ia,Ld,"esm2017"),dr("fire-js","")}T0("");var I0="firebase",N0="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(I0,N0,"app");var Bd={};const Ud="@firebase/database",Wd="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp="";function R0(t){Jp=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_e(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Di(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Bt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new P0(e)}}catch{}return new D0},xn=Zp("localStorage"),O0=Zp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Gp("@firebase/database"),A0=function(){let t=1;return function(){return t++}}(),em=function(t){const e=gy(t),n=new my;n.update(e);const r=n.digest();return ju.encodeByteArray(r)},Qi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Qi.apply(null,r):typeof r=="object"?e+=_e(r):e+=r,e+=" "}return e};let ui=null,Hd=!0;const M0=function(t,e){k(!0,"Can't turn on custom loggers persistently."),fr.logLevel=Q.VERBOSE,ui=fr.log.bind(fr)},Te=function(...t){if(Hd===!0&&(Hd=!1,ui===null&&O0.get("logging_enabled")===!0&&M0()),ui){const e=Qi.apply(null,t);ui(e)}},Yi=function(t){return function(...e){Te(t,...e)}},Pa=function(...t){const e="FIREBASE INTERNAL ERROR: "+Qi(...t);fr.error(e)},jt=function(...t){const e=`FIREBASE FATAL ERROR: ${Qi(...t)}`;throw fr.error(e),new Error(e)},Be=function(...t){const e="FIREBASE WARNING: "+Qi(...t);fr.warn(e)},L0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Be("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},tm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},F0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Sr="[MIN_NAME]",Mn="[MAX_NAME]",Pr=function(t,e){if(t===e)return 0;if(t===Sr||e===Mn)return-1;if(e===Sr||t===Mn)return 1;{const n=Vd(t),r=Vd(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},j0=function(t,e){return t===e?0:t<e?-1:1},Hr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_e(e))},Bu=function(t){if(typeof t!="object"||t===null)return _e(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=_e(e[r]),n+=":",n+=Bu(t[e[r]]);return n+="}",n},nm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ue(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const rm=function(t){k(!tm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(a=0;a<64;a+=8){let d=parseInt(f.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),c=c+d}return c.toLowerCase()},b0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},z0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function B0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const U0=new RegExp("^-?(0*)\\d{1,10}$"),W0=-2147483648,H0=2147483647,Vd=function(t){if(U0.test(t)){const e=Number(t);if(e>=W0&&e<=H0)return e}return null},Dr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Be("Exception was thrown by user callback.",n),e},Math.floor(0))}},V0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ci=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Be(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Te("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Be(e)}}class Ps{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ps.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="5",im="v",sm="s",om="r",lm="f",am=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,um="ls",cm="p",Da="ac",dm="websocket",fm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Q0(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function pm(t,e,n){k(typeof e=="string","typeof type must == string"),k(typeof n=="object","typeof params must == object");let r;if(e===dm)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===fm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Q0(t)&&(n.ns=t.namespace);const i=[];return Ue(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.counters_={}}incrementCounter(e,n=1){Bt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Kv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El={},Sl={};function Wu(t){const e=t.toString();return El[e]||(El[e]=new Y0),El[e]}function K0(t,e){const n=t.toString();return Sl[n]||(Sl[n]=e()),Sl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Dr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="start",X0="close",J0="pLPCommand",Z0="pRTLPCB",mm="id",gm="pw",_m="ser",ew="cb",tw="seg",nw="ts",rw="d",iw="dframe",vm=1870,ym=30,sw=vm-ym,ow=25e3,lw=3e4;class ir{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yi(e),this.stats_=Wu(n),this.urlFn=a=>(this.appCheckToken&&(a[Da]=this.appCheckToken),pm(n,fm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new q0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lw)),F0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hu((...s)=>{const[o,l,a,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$d)this.id=l,this.password=a;else if(o===X0)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[$d]="t",r[_m]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ew]=this.scriptTagHolder.uniqueCallbackIdentifier),r[im]=Uu,this.transportSessionId&&(r[sm]=this.transportSessionId),this.lastSessionId&&(r[um]=this.lastSessionId),this.applicationId&&(r[cm]=this.applicationId),this.appCheckToken&&(r[Da]=this.appCheckToken),typeof location<"u"&&location.hostname&&am.test(location.hostname)&&(r[om]=lm);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ir.forceAllow_=!0}static forceDisallow(){ir.forceDisallow_=!0}static isAvailable(){return ir.forceAllow_?!0:!ir.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!b0()&&!z0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=_e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=zp(n),i=nm(r,sw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[iw]="t",r[mm]=e,r[gm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=_e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Hu{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=A0(),window[J0+this.uniqueCallbackIdentifier]=e,window[Z0+this.uniqueCallbackIdentifier]=n,this.myIFrame=Hu.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Te("frame writing exception"),l.stack&&Te(l.stack),Te(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Te("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[mm]=this.myID,e[gm]=this.myPW,e[_m]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ym+r.length<=vm;){const o=this.pendingSegs.shift();r=r+"&"+tw+i+"="+o.seg+"&"+nw+i+"="+o.ts+"&"+rw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(ow)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Te("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=16384,uw=45e3;let so=null;typeof MozWebSocket<"u"?so=MozWebSocket:typeof WebSocket<"u"&&(so=WebSocket);class ot{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yi(this.connId),this.stats_=Wu(n),this.connURL=ot.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[im]=Uu,typeof location<"u"&&location.hostname&&am.test(location.hostname)&&(o[om]=lm),n&&(o[sm]=n),r&&(o[um]=r),i&&(o[Da]=i),s&&(o[cm]=s),pm(e,dm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xn.set("previous_websocket_failure",!0);try{let r;oy(),this.mySock=new so(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ot.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&so!==null&&!ot.forceDisallow_}static previouslyFailed(){return xn.isInMemoryStorage||xn.get("previous_websocket_failure")===!0}markConnectionHealthy(){xn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Di(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(k(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=_e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nm(n,aw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ot.responsesRequiredToBeHealthy=2;ot.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ir,ot]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ot&&ot.isAvailable();let r=n&&!ot.previouslyFailed();if(e.webSocketOnly&&(n||Be("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ot];else{const i=this.transports_=[];for(const s of Mi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Mi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Mi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=6e4,dw=5e3,fw=10*1024,hw=100*1024,kl="t",Gd="d",pw="s",Qd="r",mw="e",Yd="o",Kd="a",qd="n",Xd="p",gw="h";class _w{constructor(e,n,r,i,s,o,l,a,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yi("c:"+this.id+":"),this.transportManager_=new Mi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ci(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kl in e){const n=e[kl];n===Kd?this.upgradeIfSecondaryHealthy_():n===Qd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Yd&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Hr("t",e),r=Hr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Xd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qd,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Hr("t",e),r=Hr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Hr(kl,e);if(Gd in e){const r=e[Gd];if(n===gw){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===qd){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===pw?this.onConnectionShutdown_(r):n===Qd?this.onReset_(r):n===mw?Pa("Server Error: "+r):n===Yd?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pa("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Uu!==r&&Be("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ci(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ci(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(dw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Xd,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.allowedEvents_=e,this.listeners_={},k(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){k(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Cm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new oo}getInitialEvent(e){return k(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=32,Zd=768;class ${constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function H(){return new $("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function dn(t){return t.pieces_.length-t.pieceNum_}function Y(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new $(t.pieces_,e)}function Em(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Sm(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function km(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new $(e,0)}function de(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof $)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new $(n,0)}function b(t){return t.pieceNum_>=t.pieces_.length}function Le(t,e){const n=F(t),r=F(e);if(n===null)return e;if(n===r)return Le(Y(t),Y(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Vu(t,e){if(dn(t)!==dn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function lt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(dn(t)>dn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class yw{constructor(e,n){this.errorPrefix_=n,this.parts_=Sm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fo(this.parts_[r]);xm(this)}}function ww(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Fo(e),xm(t)}function Cw(t){const e=t.parts_.pop();t.byteLength_-=Fo(e),t.parts_.length>0&&(t.byteLength_-=1)}function xm(t){if(t.byteLength_>Zd)throw new Error(t.errorPrefix_+"has a key path longer than "+Zd+" bytes ("+t.byteLength_+").");if(t.parts_.length>Jd)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Jd+") or object contains a cycle "+Cn(t))}function Cn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Cm{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $u}getInitialEvent(e){return k(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=1e3,Ew=60*5*1e3,ef=30*1e3,Sw=1.3,kw=3e4,xw="server_kill",tf=3;class Dt extends wm{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Dt.nextPersistentConnectionId_++,this.log_=Yi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vr,this.maxReconnectDelay_=Ew,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$u.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&oo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(_e(s)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Lo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Dt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Bt(e,"w")){const r=Er(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Be(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||hy(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ef)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=fy(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+_e(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Pa("Unrecognized action received from server: "+_e(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>kw&&(this.reconnectDelay_=Vr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Sw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Dt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(c){k(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Te("getToken() completed but was canceled"):(Te("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=d&&d.token,l=new _w(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{Be(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(xw)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&Be(c),a())}}}interrupt(e){Te("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Te("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Pd(this.interruptReasons_)&&(this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Bu(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new $(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Te("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tf&&(this.reconnectDelay_=ef,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Te("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tf&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Jp.replace(/\./g,"-")]=1,Hp()?e["framework.cordova"]=1:sy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oo.getInstance().currentlyOnline();return Pd(this.interruptReasons_)&&e}}Dt.nextPersistentConnectionId_=0;Dt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new j(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new j(Sr,e),i=new j(Sr,n);return this.compare(r,i)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gs;class Tm extends jo{static get __EMPTY_NODE(){return gs}static set __EMPTY_NODE(e){gs=e}compare(e,n){return Pr(e.name,n.name)}isDefinedOn(e){throw Rr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return j.MIN}maxPost(){return new j(Mn,gs)}makePost(e,n){return k(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,gs)}toString(){return".key"}}const hr=new Tm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ge{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ge.RED,this.left=i??Fe.EMPTY_NODE,this.right=s??Fe.EMPTY_NODE}copy(e,n,r,i,s){return new ge(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Fe.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ge.RED=!0;ge.BLACK=!1;class Tw{copy(e,n,r,i,s){return this}insert(e,n,r){return new ge(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Fe{constructor(e,n=Fe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Fe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ge.BLACK,null,null))}remove(e){return new Fe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ge.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _s(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new _s(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new _s(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new _s(this.root_,null,this.comparator_,!0,e)}}Fe.EMPTY_NODE=new Tw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t,e){return Pr(t.name,e.name)}function Gu(t,e){return Pr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa;function Nw(t){Oa=t}const Im=function(t){return typeof t=="number"?"number:"+rm(t):"string:"+t},Nm=function(t){if(t.isLeafNode()){const e=t.val();k(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bt(e,".sv"),"Priority must be a string or number.")}else k(t===Oa||t.isEmpty(),"priority of unexpected type.");k(t===Oa||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf;class pe{constructor(e,n=pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Nm(this.priorityNode_)}static set __childrenNodeConstructor(e){nf=e}static get __childrenNodeConstructor(){return nf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return b(e)?this:F(e)===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=F(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(k(r!==".priority"||dn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Y(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Im(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=rm(this.value_):e+=this.value_,this.lazyHash_=em(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pe.__childrenNodeConstructor?-1:(k(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=pe.VALUE_TYPE_ORDER.indexOf(n),s=pe.VALUE_TYPE_ORDER.indexOf(r);return k(i>=0,"Unknown leaf type: "+n),k(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm,Pm;function Rw(t){Rm=t}function Pw(t){Pm=t}class Dw extends jo{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Pr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(Mn,new pe("[PRIORITY-POST]",Pm))}makePost(e,n){const r=Rm(e);return new j(n,new pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const oe=new Dw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=Math.log(2);class Aw{constructor(e){const n=s=>parseInt(Math.log(s)/Ow,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lo=function(t,e,n,r){t.sort(e);const i=function(a,u){const f=u-a;let c,d;if(f===0)return null;if(f===1)return c=t[a],d=n?n(c):c,new ge(d,c.node,ge.BLACK,null,null);{const _=parseInt(f/2,10)+a,v=i(a,_),y=i(_+1,u);return c=t[_],d=n?n(c):c,new ge(d,c.node,ge.BLACK,v,y)}},s=function(a){let u=null,f=null,c=t.length;const d=function(v,y){const O=c-v,m=c;c-=v;const h=i(O+1,m),g=t[O],C=n?n(g):g;_(new ge(C,g.node,y,null,h))},_=function(v){u?(u.left=v,u=v):(f=v,u=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),O=Math.pow(2,a.count-(v+1));y?d(O,ge.BLACK):(d(O,ge.BLACK),d(O,ge.RED))}return f},o=new Aw(t.length),l=s(o);return new Fe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl;const $n={};class Rt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return k($n&&oe,"ChildrenNode.ts has not been loaded"),xl=xl||new Rt({".priority":$n},{".priority":oe}),xl}get(e){const n=Er(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Fe?n:null}hasIndex(e){return Bt(this.indexSet_,e.toString())}addIndex(e,n){k(e!==hr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(j.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=lo(r,e.getCompare()):l=$n;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const f=Object.assign({},this.indexes_);return f[a]=l,new Rt(f,u)}addToIndexes(e,n){const r=no(this.indexes_,(i,s)=>{const o=Er(this.indexSet_,s);if(k(o,"Missing index implementation for "+s),i===$n)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(j.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),lo(l,o.getCompare())}else return $n;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new j(e.name,l))),a.insert(e,e.node)}});return new Rt(r,this.indexSet_)}removeFromIndexes(e,n){const r=no(this.indexes_,i=>{if(i===$n)return i;{const s=n.get(e.name);return s?i.remove(new j(e.name,s)):i}});return new Rt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $r;class D{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Nm(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $r||($r=new D(new Fe(Gu),null,Rt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$r}updatePriority(e){return this.children_.isEmpty()?this:new D(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$r:n}}getChild(e){const n=F(e);return n===null?this:this.getImmediateChild(n).getChild(Y(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(k(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new j(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?$r:this.priorityNode_;return new D(i,o,s)}}updateChild(e,n){const r=F(e);if(r===null)return n;{k(F(e)!==".priority"||dn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Y(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(oe,(o,l)=>{n[o]=l.val(e),r++,s&&D.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Im(this.getPriority().val())+":"),this.forEachChild(oe,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":em(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new j(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new j(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new j(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ki?-1:0}withIndex(e){if(e===hr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new D(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===hr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(oe),i=n.getIterator(oe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===hr?null:this.indexMap_.get(e.toString())}}D.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Mw extends D{constructor(){super(new Fe(Gu),D.EMPTY_NODE,Rt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return D.EMPTY_NODE}isEmpty(){return!1}}const Ki=new Mw;Object.defineProperties(j,{MIN:{value:new j(Sr,D.EMPTY_NODE)},MAX:{value:new j(Mn,Ki)}});Tm.__EMPTY_NODE=D.EMPTY_NODE;pe.__childrenNodeConstructor=D;Nw(Ki);Pw(Ki);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=!0;function we(t,e=null){if(t===null)return D.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),k(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pe(n,we(e))}if(!(t instanceof Array)&&Lw){const n=[];let r=!1;if(Ue(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=we(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new j(o,a)))}}),n.length===0)return D.EMPTY_NODE;const s=lo(n,Iw,o=>o.name,Gu);if(r){const o=lo(n,oe.getCompare());return new D(s,we(e),new Rt({".priority":o},{".priority":oe}))}else return new D(s,we(e),Rt.Default)}else{let n=D.EMPTY_NODE;return Ue(t,(r,i)=>{if(Bt(t,r)&&r.substring(0,1)!=="."){const s=we(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(we(e))}}Rw(we);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends jo{constructor(e){super(),this.indexPath_=e,k(!b(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Pr(e.name,n.name):s}makePost(e,n){const r=we(e),i=D.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){const e=D.EMPTY_NODE.updateChild(this.indexPath_,Ki);return new j(Mn,e)}toString(){return Sm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends jo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Pr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,n){const r=we(e);return new j(n,r)}toString(){return".value"}}const bw=new jw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){return{type:"value",snapshotNode:t}}function kr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Li(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Fi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function zw(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){k(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Li(n,l)):k(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(kr(n,r)):o.trackChildChange(Fi(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(oe,(i,s)=>{n.hasChild(i)||r.trackChildChange(Li(i,s))}),n.isLeafNode()||n.forEachChild(oe,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Fi(i,s,o))}else r.trackChildChange(kr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?D.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.indexedFilter_=new Qu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ji.getStartPost_(e),this.endPost_=ji.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new j(n,r))||(r=D.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=D.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(D.EMPTY_NODE);const s=this;return n.forEachChild(oe,(o,l)=>{s.matches(new j(o,l))||(i=i.updateImmediateChild(o,D.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ji(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new j(n,r))||(r=D.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=D.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=D.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(D.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,D.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(d,_)=>c(_,d)}else o=this.index_.getCompare();const l=e;k(l.numChildren()===this.limit_,"");const a=new j(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const _=d==null?1:o(d,a);if(f&&!r.isEmpty()&&_>=0)return s!=null&&s.trackChildChange(Fi(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Li(n,c));const y=l.updateImmediateChild(n,D.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(kr(d.name,d.node)),y.updateImmediateChild(d.name,d.node)):y}}else return r.isEmpty()?e:f&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Li(u.name,u.node)),s.trackChildChange(kr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,D.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sr}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===oe}copy(){const e=new Yu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Uw(t){return t.loadsAllData()?new Qu(t.getIndex()):t.hasLimit()?new Bw(t):new ji(t)}function rf(t){const e={};if(t.isDefault())return e;let n;if(t.index_===oe?n="$priority":t.index_===bw?n="$value":t.index_===hr?n="$key":(k(t.index_ instanceof Fw,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_e(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=_e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+_e(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=_e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+_e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function sf(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==oe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends wm{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Yi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(k(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ao.getListenId_(e,r),l={};this.listens_[o]=l;const a=rf(e._queryParams);this.restRequest_(s+".json",a,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,r),Er(this.listens_,o)===l){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=ao.getListenId_(e,n);delete this.listens_[r]}get(e){const n=rf(e._queryParams),r=e._path.toString(),i=new Lo;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+py(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Di(l.responseText)}catch{Be("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Be("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.rootNode_=D.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(){return{value:null,children:new Map}}function Om(t,e,n){if(b(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=F(e);t.children.has(r)||t.children.set(r,uo());const i=t.children.get(r);e=Y(e),Om(i,e,n)}}function Aa(t,e,n){t.value!==null?n(e,t.value):Hw(t,(r,i)=>{const s=new $(e.toString()+"/"+r);Aa(i,s,n)})}function Hw(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ue(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=10*1e3,$w=30*1e3,Gw=5*60*1e3;class Qw{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Vw(e);const r=of+($w-of)*Math.random();ci(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ue(e,(i,s)=>{s>0&&Bt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ci(this.reportStats_.bind(this),Math.floor(Math.random()*2*Gw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(at||(at={}));function Am(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ku(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=at.ACK_USER_WRITE,this.source=Am()}operationForChild(e){if(b(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new $(e));return new co(H(),n,this.revert)}}else return k(F(this.path)===e,"operationForChild called for unrelated child."),new co(Y(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n){this.source=e,this.path=n,this.type=at.LISTEN_COMPLETE}operationForChild(e){return b(this.path)?new bi(this.source,H()):new bi(this.source,Y(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=at.OVERWRITE}operationForChild(e){return b(this.path)?new Ln(this.source,H(),this.snap.getImmediateChild(e)):new Ln(this.source,Y(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=at.MERGE}operationForChild(e){if(b(this.path)){const n=this.children.subtree(new $(e));return n.isEmpty()?null:n.value?new Ln(this.source,H(),n.value):new zi(this.source,H(),n)}else return k(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zi(this.source,Y(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(b(e))return this.isFullyInitialized()&&!this.filtered_;const n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Kw(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(zw(o.childName,o.snapshotNode))}),Gr(t,i,"child_removed",e,r,n),Gr(t,i,"child_added",e,r,n),Gr(t,i,"child_moved",s,r,n),Gr(t,i,"child_changed",e,r,n),Gr(t,i,"value",e,r,n),i}function Gr(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>Xw(t,l,a)),o.forEach(l=>{const a=qw(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function qw(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Xw(t,e,n){if(e.childName==null||n.childName==null)throw Rr("Should only compare child_ events.");const r=new j(e.childName,e.snapshotNode),i=new j(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,e){return{eventCache:t,serverCache:e}}function di(t,e,n,r){return bo(new Fn(e,n,r),t.serverCache)}function Mm(t,e,n,r){return bo(t.eventCache,new Fn(e,n,r))}function Ma(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function jn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;const Jw=()=>(Tl||(Tl=new Fe(j0)),Tl);class J{constructor(e,n=Jw()){this.value=e,this.children=n}static fromObject(e){let n=new J(null);return Ue(e,(r,i)=>{n=n.set(new $(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:H(),value:this.value};if(b(e))return null;{const r=F(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Y(e),n);return s!=null?{path:de(new $(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(b(e))return this;{const n=F(e),r=this.children.get(n);return r!==null?r.subtree(Y(e)):new J(null)}}set(e,n){if(b(e))return new J(n,this.children);{const r=F(e),s=(this.children.get(r)||new J(null)).set(Y(e),n),o=this.children.insert(r,s);return new J(this.value,o)}}remove(e){if(b(e))return this.children.isEmpty()?new J(null):new J(null,this.children);{const n=F(e),r=this.children.get(n);if(r){const i=r.remove(Y(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new J(null):new J(this.value,s)}else return this}}get(e){if(b(e))return this.value;{const n=F(e),r=this.children.get(n);return r?r.get(Y(e)):null}}setTree(e,n){if(b(e))return n;{const r=F(e),s=(this.children.get(r)||new J(null)).setTree(Y(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new J(this.value,o)}}fold(e){return this.fold_(H(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(de(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,H(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(b(e))return null;{const s=F(e),o=this.children.get(s);return o?o.findOnPath_(Y(e),de(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,H(),n)}foreachOnPath_(e,n,r){if(b(e))return this;{this.value&&r(n,this.value);const i=F(e),s=this.children.get(i);return s?s.foreachOnPath_(Y(e),de(n,i),r):new J(null)}}foreach(e){this.foreach_(H(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(de(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.writeTree_=e}static empty(){return new dt(new J(null))}}function fi(t,e,n){if(b(e))return new dt(new J(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Le(i,e);return s=s.updateChild(o,n),new dt(t.writeTree_.set(i,s))}else{const i=new J(n),s=t.writeTree_.setTree(e,i);return new dt(s)}}}function lf(t,e,n){let r=t;return Ue(n,(i,s)=>{r=fi(r,de(e,i),s)}),r}function af(t,e){if(b(e))return dt.empty();{const n=t.writeTree_.setTree(e,new J(null));return new dt(n)}}function La(t,e){return Bn(t,e)!=null}function Bn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Le(n.path,e)):null}function uf(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(oe,(r,i)=>{e.push(new j(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new j(r,i.value))}),e}function an(t,e){if(b(e))return t;{const n=Bn(t,e);return n!=null?new dt(new J(n)):new dt(t.writeTree_.subtree(e))}}function Fa(t){return t.writeTree_.isEmpty()}function xr(t,e){return Lm(H(),t.writeTree_,e)}function Lm(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(k(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Lm(de(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(de(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t,e){return zm(e,t)}function Zw(t,e,n,r,i){k(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=fi(t.visibleWrites,e,n)),t.lastWriteId=r}function eC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function tC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);k(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&nC(l,r.path)?i=!1:lt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return rC(t),!0;if(r.snap)t.visibleWrites=af(t.visibleWrites,r.path);else{const l=r.children;Ue(l,a=>{t.visibleWrites=af(t.visibleWrites,de(r.path,a))})}return!0}else return!1}function nC(t,e){if(t.snap)return lt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&lt(de(t.path,n),e))return!0;return!1}function rC(t){t.visibleWrites=Fm(t.allWrites,iC,H()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function iC(t){return t.visible}function Fm(t,e,n){let r=dt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)lt(n,o)?(l=Le(n,o),r=fi(r,l,s.snap)):lt(o,n)&&(l=Le(o,n),r=fi(r,H(),s.snap.getChild(l)));else if(s.children){if(lt(n,o))l=Le(n,o),r=lf(r,l,s.children);else if(lt(o,n))if(l=Le(o,n),b(l))r=lf(r,H(),s.children);else{const a=Er(s.children,F(l));if(a){const u=a.getChild(Y(l));r=fi(r,H(),u)}}}else throw Rr("WriteRecord should have .snap or .children")}}return r}function jm(t,e,n,r,i){if(!r&&!i){const s=Bn(t.visibleWrites,e);if(s!=null)return s;{const o=an(t.visibleWrites,e);if(Fa(o))return n;if(n==null&&!La(o,H()))return null;{const l=n||D.EMPTY_NODE;return xr(o,l)}}}else{const s=an(t.visibleWrites,e);if(!i&&Fa(s))return n;if(!i&&n==null&&!La(s,H()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(lt(u.path,e)||lt(e,u.path))},l=Fm(t.allWrites,o,e),a=n||D.EMPTY_NODE;return xr(l,a)}}}function sC(t,e,n){let r=D.EMPTY_NODE;const i=Bn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(oe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=an(t.visibleWrites,e);return n.forEachChild(oe,(o,l)=>{const a=xr(an(s,new $(o)),l);r=r.updateImmediateChild(o,a)}),uf(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=an(t.visibleWrites,e);return uf(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function oC(t,e,n,r,i){k(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=de(e,n);if(La(t.visibleWrites,s))return null;{const o=an(t.visibleWrites,s);return Fa(o)?i.getChild(n):xr(o,i.getChild(n))}}function lC(t,e,n,r){const i=de(e,n),s=Bn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=an(t.visibleWrites,i);return xr(o,r.getNode().getImmediateChild(n))}else return null}function aC(t,e){return Bn(t.visibleWrites,e)}function uC(t,e,n,r,i,s,o){let l;const a=an(t.visibleWrites,e),u=Bn(a,H());if(u!=null)l=u;else if(n!=null)l=xr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],c=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=d.getNext();for(;_&&f.length<i;)c(_,r)!==0&&f.push(_),_=d.getNext();return f}else return[]}function cC(){return{visibleWrites:dt.empty(),allWrites:[],lastWriteId:-1}}function fo(t,e,n,r){return jm(t.writeTree,t.treePath,e,n,r)}function Ju(t,e){return sC(t.writeTree,t.treePath,e)}function cf(t,e,n,r){return oC(t.writeTree,t.treePath,e,n,r)}function ho(t,e){return aC(t.writeTree,de(t.treePath,e))}function dC(t,e,n,r,i,s){return uC(t.writeTree,t.treePath,e,n,r,i,s)}function Zu(t,e,n){return lC(t.writeTree,t.treePath,e,n)}function bm(t,e){return zm(de(t.treePath,e),t.writeTree)}function zm(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;k(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),k(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Fi(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Li(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,kr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Fi(r,e.snapshotNode,i.oldSnap));else throw Rr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Bm=new hC;class ec{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Fn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zu(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:jn(this.viewCache_),s=dC(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){return{filter:t}}function mC(t,e){k(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),k(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function gC(t,e,n,r,i){const s=new fC;let o,l;if(n.type===at.OVERWRITE){const u=n;u.source.fromUser?o=ja(t,e,u.path,u.snap,r,i,s):(k(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!b(u.path),o=po(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===at.MERGE){const u=n;u.source.fromUser?o=vC(t,e,u.path,u.children,r,i,s):(k(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=ba(t,e,u.path,u.children,r,i,l,s))}else if(n.type===at.ACK_USER_WRITE){const u=n;u.revert?o=CC(t,e,u.path,r,i,s):o=yC(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===at.LISTEN_COMPLETE)o=wC(t,e,n.path,r,s);else throw Rr("Unknown operation type: "+n.type);const a=s.getChanges();return _C(e,o,a),{viewCache:o,changes:a}}function _C(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ma(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Dm(Ma(e)))}}function Um(t,e,n,r,i,s){const o=e.eventCache;if(ho(r,n)!=null)return e;{let l,a;if(b(n))if(k(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=jn(e),f=u instanceof D?u:D.EMPTY_NODE,c=Ju(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const u=fo(r,jn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=F(n);if(u===".priority"){k(dn(n)===1,"Can't have a priority with additional path components");const f=o.getNode();a=e.serverCache.getNode();const c=cf(r,n,f,a);c!=null?l=t.filter.updatePriority(f,c):l=o.getNode()}else{const f=Y(n);let c;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const d=cf(r,n,o.getNode(),a);d!=null?c=o.getNode().getImmediateChild(u).updateChild(f,d):c=o.getNode().getImmediateChild(u)}else c=Zu(r,u,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),u,c,f,i,s):l=o.getNode()}}return di(e,l,o.isFullyInitialized()||b(n),t.filter.filtersNodes())}}function po(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(b(n))u=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);u=f.updateFullNode(a.getNode(),_,null)}else{const _=F(n);if(!a.isCompleteForPath(n)&&dn(n)>1)return e;const v=Y(n),O=a.getNode().getImmediateChild(_).updateChild(v,r);_===".priority"?u=f.updatePriority(a.getNode(),O):u=f.updateChild(a.getNode(),_,O,v,Bm,null)}const c=Mm(e,u,a.isFullyInitialized()||b(n),f.filtersNodes()),d=new ec(i,c,s);return Um(t,c,n,i,d,l)}function ja(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const f=new ec(i,e,s);if(b(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=di(e,u,!0,t.filter.filtersNodes());else{const c=F(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=di(e,u,l.isFullyInitialized(),l.isFiltered());else{const d=Y(n),_=l.getNode().getImmediateChild(c);let v;if(b(d))v=r;else{const y=f.getCompleteChild(c);y!=null?Em(d)===".priority"&&y.getChild(km(d)).isEmpty()?v=y:v=y.updateChild(d,r):v=D.EMPTY_NODE}if(_.equals(v))a=e;else{const y=t.filter.updateChild(l.getNode(),c,v,d,f,o);a=di(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function df(t,e){return t.eventCache.isCompleteForChild(e)}function vC(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const f=de(n,a);df(e,F(f))&&(l=ja(t,l,f,u,i,s,o))}),r.foreach((a,u)=>{const f=de(n,a);df(e,F(f))||(l=ja(t,l,f,u,i,s,o))}),l}function ff(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ba(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;b(n)?u=r:u=new J(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((c,d)=>{if(f.hasChild(c)){const _=e.serverCache.getNode().getImmediateChild(c),v=ff(t,_,d);a=po(t,a,new $(c),v,i,s,o,l)}}),u.children.inorderTraversal((c,d)=>{const _=!e.serverCache.isCompleteForChild(c)&&d.value===null;if(!f.hasChild(c)&&!_){const v=e.serverCache.getNode().getImmediateChild(c),y=ff(t,v,d);a=po(t,a,new $(c),y,i,s,o,l)}}),a}function yC(t,e,n,r,i,s,o){if(ho(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(b(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return po(t,e,n,a.getNode().getChild(n),i,s,l,o);if(b(n)){let u=new J(null);return a.getNode().forEachChild(hr,(f,c)=>{u=u.set(new $(f),c)}),ba(t,e,n,u,i,s,l,o)}else return e}else{let u=new J(null);return r.foreach((f,c)=>{const d=de(n,f);a.isCompleteForPath(d)&&(u=u.set(f,a.getNode().getChild(d)))}),ba(t,e,n,u,i,s,l,o)}}function wC(t,e,n,r,i){const s=e.serverCache,o=Mm(e,s.getNode(),s.isFullyInitialized()||b(n),s.isFiltered());return Um(t,o,n,r,Bm,i)}function CC(t,e,n,r,i,s){let o;if(ho(r,n)!=null)return e;{const l=new ec(r,e,i),a=e.eventCache.getNode();let u;if(b(n)||F(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=fo(r,jn(e));else{const c=e.serverCache.getNode();k(c instanceof D,"serverChildren would be complete if leaf node"),f=Ju(r,c)}f=f,u=t.filter.updateFullNode(a,f,s)}else{const f=F(n);let c=Zu(r,f,e.serverCache);c==null&&e.serverCache.isCompleteForChild(f)&&(c=a.getImmediateChild(f)),c!=null?u=t.filter.updateChild(a,f,c,Y(n),l,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(a,f,D.EMPTY_NODE,Y(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=fo(r,jn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||ho(r,H())!=null,di(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Qu(r.getIndex()),s=Uw(r);this.processor_=pC(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(D.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(D.EMPTY_NODE,l.getNode(),null),f=new Fn(a,o.isFullyInitialized(),i.filtersNodes()),c=new Fn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=bo(c,f),this.eventGenerator_=new Yw(this.query_)}get query(){return this.query_}}function SC(t){return t.viewCache_.serverCache.getNode()}function kC(t,e){const n=jn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!b(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function hf(t){return t.eventRegistrations_.length===0}function xC(t,e){t.eventRegistrations_.push(e)}function pf(t,e,n){const r=[];if(n){k(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function mf(t,e,n,r){e.type===at.MERGE&&e.source.queryId!==null&&(k(jn(t.viewCache_),"We should always have a full cache before handling merges"),k(Ma(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=gC(t.processor_,i,e,n,r);return mC(t.processor_,s.viewCache),k(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Wm(t,s.changes,s.viewCache.eventCache.getNode(),null)}function TC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(oe,(s,o)=>{r.push(kr(s,o))}),n.isFullyInitialized()&&r.push(Dm(n.getNode())),Wm(t,r,n.getNode(),e)}function Wm(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Kw(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo;class IC{constructor(){this.views=new Map}}function NC(t){k(!mo,"__referenceConstructor has already been defined"),mo=t}function RC(){return k(mo,"Reference.ts has not been loaded"),mo}function PC(t){return t.views.size===0}function tc(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return k(s!=null,"SyncTree gave us an op for an invalid query."),mf(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(mf(o,e,n,r));return s}}function DC(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=fo(n,i?r:null),a=!1;l?a=!0:r instanceof D?(l=Ju(n,r),a=!1):(l=D.EMPTY_NODE,a=!1);const u=bo(new Fn(l,a,!1),new Fn(r,i,!1));return new EC(e,u)}return o}function OC(t,e,n,r,i,s){const o=DC(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),xC(o,n),TC(o,n)}function AC(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=fn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(pf(u,n,r)),hf(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(pf(a,n,r)),hf(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!fn(t)&&s.push(new(RC())(e._repo,e._path)),{removed:s,events:o}}function Hm(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function pr(t,e){let n=null;for(const r of t.views.values())n=n||kC(r,e);return n}function Vm(t,e){if(e._queryParams.loadsAllData())return zo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function $m(t,e){return Vm(t,e)!=null}function fn(t){return zo(t)!=null}function zo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;function MC(t){k(!go,"__referenceConstructor has already been defined"),go=t}function LC(){return k(go,"Reference.ts has not been loaded"),go}let FC=1;class gf{constructor(e){this.listenProvider_=e,this.syncPointTree_=new J(null),this.pendingWriteTree_=cC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Gm(t,e,n,r,i){return Zw(t.pendingWriteTree_,e,n,r,i),i?qi(t,new Ln(Am(),e,n)):[]}function Tn(t,e,n=!1){const r=eC(t.pendingWriteTree_,e);if(tC(t.pendingWriteTree_,e)){let s=new J(null);return r.snap!=null?s=s.set(H(),!0):Ue(r.children,o=>{s=s.set(new $(o),!0)}),qi(t,new co(r.path,s,n))}else return[]}function Bo(t,e,n){return qi(t,new Ln(Ku(),e,n))}function jC(t,e,n){const r=J.fromObject(n);return qi(t,new zi(Ku(),e,r))}function bC(t,e){return qi(t,new bi(Ku(),e))}function zC(t,e,n){const r=rc(t,n);if(r){const i=ic(r),s=i.path,o=i.queryId,l=Le(s,e),a=new bi(qu(o),l);return sc(t,s,a)}else return[]}function za(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||$m(o,e))){const a=AC(o,e,n,r);PC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const f=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(s,(d,_)=>fn(_));if(f&&!c){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const _=WC(d);for(let v=0;v<_.length;++v){const y=_[v],O=y.query,m=Km(t,y);t.listenProvider_.startListening(hi(O),_o(t,O),m.hashFn,m.onComplete)}}}!c&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(hi(e),null):u.forEach(d=>{const _=t.queryToTagMap.get(Uo(d));t.listenProvider_.stopListening(hi(d),_)}))}HC(t,u)}return l}function BC(t,e,n,r){const i=rc(t,r);if(i!=null){const s=ic(i),o=s.path,l=s.queryId,a=Le(o,e),u=new Ln(qu(l),a,n);return sc(t,o,u)}else return[]}function UC(t,e,n,r){const i=rc(t,r);if(i){const s=ic(i),o=s.path,l=s.queryId,a=Le(o,e),u=J.fromObject(n),f=new zi(qu(l),a,u);return sc(t,o,f)}else return[]}function _f(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,_)=>{const v=Le(d,i);s=s||pr(_,v),o=o||fn(_)});let l=t.syncPointTree_.get(i);l?(o=o||fn(l),s=s||pr(l,H())):(l=new IC,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=D.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,v)=>{const y=pr(v,H());y&&(s=s.updateImmediateChild(_,y))}));const u=$m(l,e);if(!u&&!e._queryParams.loadsAllData()){const d=Uo(e);k(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const _=VC();t.queryToTagMap.set(d,_),t.tagToQueryMap.set(_,d)}const f=Xu(t.pendingWriteTree_,i);let c=OC(l,e,n,f,s,a);if(!u&&!o&&!r){const d=Vm(l,e);c=c.concat($C(t,e,d))}return c}function nc(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Le(o,e),u=pr(l,a);if(u)return u});return jm(i,e,s,n,!0)}function qi(t,e){return Qm(e,t.syncPointTree_,null,Xu(t.pendingWriteTree_,H()))}function Qm(t,e,n,r){if(b(t.path))return Ym(t,e,n,r);{const i=e.get(H());n==null&&i!=null&&(n=pr(i,H()));let s=[];const o=F(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,f=bm(r,o);s=s.concat(Qm(l,a,u,f))}return i&&(s=s.concat(tc(i,t,r,n))),s}}function Ym(t,e,n,r){const i=e.get(H());n==null&&i!=null&&(n=pr(i,H()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=bm(r,o),f=t.operationForChild(o);f&&(s=s.concat(Ym(f,l,a,u)))}),i&&(s=s.concat(tc(i,t,r,n))),s}function Km(t,e){const n=e.query,r=_o(t,n);return{hashFn:()=>(SC(e)||D.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?zC(t,n._path,r):bC(t,n._path);{const s=B0(i,n);return za(t,n,null,s)}}}}function _o(t,e){const n=Uo(e);return t.queryToTagMap.get(n)}function Uo(t){return t._path.toString()+"$"+t._queryIdentifier}function rc(t,e){return t.tagToQueryMap.get(e)}function ic(t){const e=t.indexOf("$");return k(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $(t.substr(0,e))}}function sc(t,e,n){const r=t.syncPointTree_.get(e);k(r,"Missing sync point for query tag that we're tracking");const i=Xu(t.pendingWriteTree_,e);return tc(r,n,i,null)}function WC(t){return t.fold((e,n,r)=>{if(n&&fn(n))return[zo(n)];{let i=[];return n&&(i=Hm(n)),Ue(r,(s,o)=>{i=i.concat(o)}),i}})}function hi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(LC())(t._repo,t._path):t}function HC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Uo(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function VC(){return FC++}function $C(t,e,n){const r=e._path,i=_o(t,e),s=Km(t,n),o=t.listenProvider_.startListening(hi(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)k(!fn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,f,c)=>{if(!b(u)&&f&&fn(f))return[zo(f).query];{let d=[];return f&&(d=d.concat(Hm(f).map(_=>_.query))),Ue(c,(_,v)=>{d=d.concat(v)}),d}});for(let u=0;u<a.length;++u){const f=a[u];t.listenProvider_.stopListening(hi(f),_o(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new oc(n)}node(){return this.node_}}class lc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=de(this.path_,e);return new lc(this.syncTree_,n)}node(){return nc(this.syncTree_,this.path_)}}const GC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},vf=function(t,e,n){if(!t||typeof t!="object")return t;if(k(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return QC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return YC(t[".sv"],e);k(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},QC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:k(!1,"Unexpected server value: "+t)}},YC=function(t,e,n){t.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&k(!1,"Unexpected increment value: "+r);const i=e.node();if(k(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},KC=function(t,e,n,r){return ac(e,new lc(n,t),r)},qm=function(t,e,n){return ac(t,new oc(e),n)};function ac(t,e,n){const r=t.getPriority().val(),i=vf(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=vf(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new pe(l,we(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new pe(i))),o.forEachChild(oe,(l,a)=>{const u=ac(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function cc(t,e){let n=e instanceof $?e:new $(e),r=t,i=F(n);for(;i!==null;){const s=Er(r.node.children,i)||{children:{},childCount:0};r=new uc(i,r,s),n=Y(n),i=F(n)}return r}function Or(t){return t.node.value}function Xm(t,e){t.node.value=e,Ba(t)}function Jm(t){return t.node.childCount>0}function qC(t){return Or(t)===void 0&&!Jm(t)}function Wo(t,e){Ue(t.node.children,(n,r)=>{e(new uc(n,t,r))})}function Zm(t,e,n,r){n&&e(t),Wo(t,i=>{Zm(i,e,!0)})}function XC(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Xi(t){return new $(t.parent===null?t.name:Xi(t.parent)+"/"+t.name)}function Ba(t){t.parent!==null&&JC(t.parent,t.name,t)}function JC(t,e,n){const r=qC(n),i=Bt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ba(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ba(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=/[\[\].#$\/\u0000-\u001F\u007F]/,eE=/[\[\].#$\u0000-\u001F\u007F]/,Il=10*1024*1024,eg=function(t){return typeof t=="string"&&t.length!==0&&!ZC.test(t)},tg=function(t){return typeof t=="string"&&t.length!==0&&!eE.test(t)},tE=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tg(t)},nE=function(t,e,n,r){dc(bu(t,"value"),e,n)},dc=function(t,e,n){const r=n instanceof $?new yw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Cn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Cn(r)+" with contents = "+e.toString());if(tm(e))throw new Error(t+"contains "+e.toString()+" "+Cn(r));if(typeof e=="string"&&e.length>Il/3&&Fo(e)>Il)throw new Error(t+"contains a string greater than "+Il+" utf8 bytes "+Cn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ue(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!eg(o)))throw new Error(t+" contains an invalid key ("+o+") "+Cn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ww(r,o),dc(t,l,r),Cw(r)}),i&&s)throw new Error(t+' contains ".value" child '+Cn(r)+" in addition to actual children.")}},ng=function(t,e,n,r){if(!tg(n))throw new Error(bu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rE=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ng(t,e,n)},iE=function(t,e){if(F(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},sE=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!eg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!tE(n))throw new Error(bu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fc(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Vu(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function rg(t,e,n){fc(t,n),ig(t,r=>Vu(r,e))}function bt(t,e,n){fc(t,n),ig(t,r=>lt(r,e)||lt(e,r))}function ig(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(lE(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function lE(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ui&&Te("event: "+n.toString()),Dr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="repo_interrupt",uE=25;class cE{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uo(),this.transactionQueueTree_=new uc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dE(t,e,n){if(t.stats_=Wu(t.repoInfo_),t.forceRestClient_||V0())t.server_=new ao(t.repoInfo_,(r,i,s,o)=>{yf(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>wf(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Dt(t.repoInfo_,e,(r,i,s,o)=>{yf(t,r,i,s,o)},r=>{wf(t,r)},r=>{hE(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=K0(t.repoInfo_,()=>new Qw(t.stats_,t.server_)),t.infoData_=new Ww,t.infoSyncTree_=new gf({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Bo(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),pc(t,"connected",!1),t.serverSyncTree_=new gf({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);bt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function fE(t){const n=t.infoData_.getNode(new $(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hc(t){return GC({timestamp:fE(t)})}function yf(t,e,n,r,i){t.dataUpdateCount++;const s=new $(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=no(n,u=>we(u));o=UC(t.serverSyncTree_,s,a,i)}else{const a=we(n);o=BC(t.serverSyncTree_,s,a,i)}else if(r){const a=no(n,u=>we(u));o=jC(t.serverSyncTree_,s,a)}else{const a=we(n);o=Bo(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Ho(t,s)),bt(t.eventQueue_,l,o)}function wf(t,e){pc(t,"connected",e),e===!1&&mE(t)}function hE(t,e){Ue(e,(n,r)=>{pc(t,n,r)})}function pc(t,e,n){const r=new $("/.info/"+e),i=we(n);t.infoData_.updateSnapshot(r,i);const s=Bo(t.infoSyncTree_,r,i);bt(t.eventQueue_,r,s)}function sg(t){return t.nextWriteId_++}function pE(t,e,n,r,i){mc(t,"set",{path:e.toString(),value:n,priority:r});const s=hc(t),o=we(n,r),l=nc(t.serverSyncTree_,e),a=qm(o,l,s),u=sg(t),f=Gm(t.serverSyncTree_,e,a,u,!0);fc(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(d,_)=>{const v=d==="ok";v||Be("set at "+e+" failed: "+d);const y=Tn(t.serverSyncTree_,u,!v);bt(t.eventQueue_,e,y),yE(t,i,d,_)});const c=cg(t,e);Ho(t,c),bt(t.eventQueue_,c,[])}function mE(t){mc(t,"onDisconnectEvents");const e=hc(t),n=uo();Aa(t.onDisconnect_,H(),(i,s)=>{const o=KC(i,s,t.serverSyncTree_,e);Om(n,i,o)});let r=[];Aa(n,H(),(i,s)=>{r=r.concat(Bo(t.serverSyncTree_,i,s));const o=cg(t,i);Ho(t,o)}),t.onDisconnect_=uo(),bt(t.eventQueue_,H(),r)}function gE(t,e,n){let r;F(e._path)===".info"?r=_f(t.infoSyncTree_,e,n):r=_f(t.serverSyncTree_,e,n),rg(t.eventQueue_,e._path,r)}function _E(t,e,n){let r;F(e._path)===".info"?r=za(t.infoSyncTree_,e,n):r=za(t.serverSyncTree_,e,n),rg(t.eventQueue_,e._path,r)}function vE(t){t.persistentConnection_&&t.persistentConnection_.interrupt(aE)}function mc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Te(n,...e)}function yE(t,e,n,r){e&&Dr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function og(t,e,n){return nc(t.serverSyncTree_,e,n)||D.EMPTY_NODE}function gc(t,e=t.transactionQueueTree_){if(e||Vo(t,e),Or(e)){const n=ag(t,e);k(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&wE(t,Xi(e),n)}else Jm(e)&&Wo(e,n=>{gc(t,n)})}function wE(t,e,n){const r=n.map(u=>u.currentWriteId),i=og(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];k(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=Le(e,f.path);s=s.updateChild(c,f.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{mc(t,"transaction put response",{path:a.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(Tn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&c.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Vo(t,cc(t.transactionQueueTree_,e)),gc(t,t.transactionQueueTree_),bt(t.eventQueue_,e,f);for(let d=0;d<c.length;d++)Dr(c[d])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Be("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}Ho(t,e)}},o)}function Ho(t,e){const n=lg(t,e),r=Xi(n),i=ag(t,n);return CE(t,i,r),r}function CE(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=Le(n,a.path);let f=!1,c;if(k(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,c=a.abortReason,i=i.concat(Tn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=uE)f=!0,c="maxretry",i=i.concat(Tn(t.serverSyncTree_,a.currentWriteId,!0));else{const d=og(t,a.path,o);a.currentInputSnapshot=d;const _=e[l].update(d.val());if(_!==void 0){dc("transaction failed: Data returned ",_,a.path);let v=we(_);typeof _=="object"&&_!=null&&Bt(_,".priority")||(v=v.updatePriority(d.getPriority()));const O=a.currentWriteId,m=hc(t),h=qm(v,d,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=h,a.currentWriteId=sg(t),o.splice(o.indexOf(O),1),i=i.concat(Gm(t.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(Tn(t.serverSyncTree_,O,!0))}else f=!0,c="nodata",i=i.concat(Tn(t.serverSyncTree_,a.currentWriteId,!0))}bt(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}Vo(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Dr(r[l]);gc(t,t.transactionQueueTree_)}function lg(t,e){let n,r=t.transactionQueueTree_;for(n=F(e);n!==null&&Or(r)===void 0;)r=cc(r,n),e=Y(e),n=F(e);return r}function ag(t,e){const n=[];return ug(t,e,n),n.sort((r,i)=>r.order-i.order),n}function ug(t,e,n){const r=Or(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Wo(e,i=>{ug(t,i,n)})}function Vo(t,e){const n=Or(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Xm(e,n.length>0?n:void 0)}Wo(e,r=>{Vo(t,r)})}function cg(t,e){const n=Xi(lg(t,e)),r=cc(t.transactionQueueTree_,e);return XC(r,i=>{Nl(t,i)}),Nl(t,r),Zm(r,i=>{Nl(t,i)}),n}function Nl(t,e){const n=Or(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(k(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(k(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Tn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Xm(e,void 0):n.length=s+1,bt(t.eventQueue_,Xi(e),i);for(let o=0;o<r.length;o++)Dr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function SE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Be(`Invalid query segment '${n}' in query '${t}'`)}return e}const Cf=function(t,e){const n=kE(t),r=n.namespace;n.domain==="firebase.com"&&jt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&jt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||L0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new hm(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new $(n.pathString)}},kE=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(f,c)),f<c&&(i=EE(t.substring(f,c)));const d=SE(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}}class TE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return b(this._path)?null:Em(this._path)}get ref(){return new gn(this._repo,this._path)}get _queryIdentifier(){const e=sf(this._queryParams),n=Bu(e);return n==="{}"?"default":n}get _queryObject(){return sf(this._queryParams)}isEqual(e){if(e=Gi(e),!(e instanceof _c))return!1;const n=this._repo===e._repo,r=Vu(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+vw(this._path)}}class gn extends _c{constructor(e,n){super(e,n,new Yu,!1)}get parent(){const e=km(this._path);return e===null?null:new gn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class vo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new $(e),r=Ua(this.ref,e);return new vo(this._node.getChild(n),r,oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new vo(i,Ua(this.ref,r),oe)))}hasChild(e){const n=new $(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qr(t,e){return t=Gi(t),t._checkNotDeleted("ref"),e!==void 0?Ua(t._root,e):t._root}function Ua(t,e){return t=Gi(t),F(t._path)===null?rE("child","path",e):ng("child","path",e),new gn(t._repo,de(t._path,e))}function Rl(t,e){t=Gi(t),iE("set",t._path),nE("set",e,t._path);const n=new Lo;return pE(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class vc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new xE("value",this,new vo(e.snapshotNode,new gn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new TE(this,e,n):null}matches(e){return e instanceof vc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function NE(t,e,n,r,i){const s=new IE(n,void 0),o=new vc(s);return gE(t._repo,t,o),()=>_E(t._repo,t,o)}function Ef(t,e,n,r){return NE(t,"value",e)}NC(gn);MC(gn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="FIREBASE_DATABASE_EMULATOR_HOST",Wa={};let PE=!1;function DE(t,e,n,r){t.repoInfo_=new hm(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function OE(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||jt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Te("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Cf(s,i),l=o.repoInfo,a;typeof process<"u"&&Bd&&(a=Bd[RE]),a?(s=`http://${a}?ns=${l.namespace}`,o=Cf(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new G0(t.name,t.options,e);sE("Invalid Firebase Database URL",o),b(o.path)||jt("Database URL must point to the root of a Firebase Database (not including a child path).");const f=ME(l,t,u,new $0(t.name,n));return new LE(f,t)}function AE(t,e){const n=Wa[e];(!n||n[t.key]!==t)&&jt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vE(t),delete n[t.key]}function ME(t,e,n,r){let i=Wa[e.name];i||(i={},Wa[e.name]=i);let s=i[t.toURLString()];return s&&jt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new cE(t,PE,n,r),i[t.toURLString()]=s,s}class LE{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gn(this._repo,H())),this._rootInternal}_delete(){return this._rootInternal!==null&&(AE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&jt("Cannot call "+e+" on a deleted database.")}}function FE(t=_0(),e){const n=h0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=ny("database");r&&jE(n,...r)}return n}function jE(t,e,n,r={}){t=Gi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&jt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&jt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ps(Ps.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:ry(r.mockUserToken,t.app.options.projectId);s=new Ps(o)}DE(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){R0(g0),io(new Oi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return OE(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),dr(Ud,Wd,t),dr(Ud,Wd,"esm2017")}Dt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Dt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bE();const zE="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",BE="https://integrate.api.nvidia.com/v1/chat/completions",UE="moonshotai/kimi-k2.5";async function WE(t,e={}){var u,f,c,d,_;const{model:n=UE,max_tokens:r=16384,temperature:i=.7,stream:s=!1,thinking:o=!1}=e,l={model:n,messages:t,max_tokens:r,temperature:i,top_p:1,stream:s,chat_template_kwargs:{thinking:o}},a={Authorization:`Bearer ${zE}`,"Content-Type":"application/json",Accept:s?"text/event-stream":"application/json"};try{const v=await fetch(BE,{method:"POST",headers:a,body:JSON.stringify(l)});if(!v.ok)throw new Error(`HTTP ${v.status}: ${v.statusText}`);if(s)return v;const y=await v.json();return((c=(f=(u=y.choices)==null?void 0:u[0])==null?void 0:f.message)==null?void 0:c.content)||((_=(d=y.choices)==null?void 0:d[0])==null?void 0:_.text)||""}catch(v){throw console.error("Kimi API error:",v),v}}const HE={apiKey:"AIzaSyB3Z1WDeqO4cEBMk5Q1j9H8c2-0Z1Y8X0",authDomain:"winslow-756c3.firebaseapp.com",databaseURL:"https://winslow-756c3-default-rtdb.firebaseio.com",projectId:"winslow-756c3",storageBucket:"winslow-756c3.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abc123"},VE=Kp(HE),Yr=FE(VE),dg={todo:"",progress:"",review:"",done:"",dev:"",marketing:"",content:"",ambassador:"",ops:"",michigan:"",internal:"",brain_dump:"",meeting:"",idea:"",project:""},Sf={dev:{bg:"rgba(96, 165, 250, 0.15)",text:"#60a5fa"},marketing:{bg:"rgba(248, 113, 113, 0.15)",text:"#f87171"},content:{bg:"rgba(251, 191, 36, 0.15)",text:"#fbbf24"},ambassador:{bg:"rgba(52, 211, 153, 0.15)",text:"#34d399"},ops:{bg:"rgba(139, 92, 246, 0.15)",text:"#a78bfa"},michigan:{bg:"rgba(251, 146, 60, 0.15)",text:"#fb923c"},internal:{bg:"rgba(34, 211, 238, 0.15)",text:"#22d3ee"}},$E={high:"#ef4444",medium:"#fbbf24",low:"#34d399"},kf={brain_dump:{bg:"rgba(251, 191, 36, 0.15)",text:"#fbbf24"},meeting:{bg:"rgba(96, 165, 250, 0.15)",text:"#60a5fa"},idea:{bg:"rgba(52, 211, 153, 0.15)",text:"#34d399"},project:{bg:"rgba(139, 92, 246, 0.15)",text:"#a78bfa"}},GE={todo:"#f87171",progress:"#fbbf24",review:"#34d399",done:"#60a5fa"};function QE({task:t,onClick:e,onDragStart:n,onDragEnd:r,onTouchStart:i,onTouchMove:s,onTouchEnd:o}){const l=Sf[t.category]||Sf.ops;return p.jsxs("div",{className:"task-card","data-task-id":t.id,draggable:!0,onDragStart:a=>n(a,t),onDragEnd:r,onClick:e,onTouchStart:i,onTouchMove:s,onTouchEnd:o,style:{touchAction:"pan-y"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"0.5rem"},children:[p.jsx("div",{style:{fontWeight:500,fontSize:"0.875rem",lineHeight:1.4,paddingRight:"0.5rem",flex:1},children:t.title}),p.jsx("div",{className:"priority-dot",style:{backgroundColor:$E[t.priority]}})]}),p.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:p.jsxs("div",{className:"category-badge",style:{background:l.bg,color:l.text},children:[dg[t.category]," ",t.category.charAt(0).toUpperCase()+t.category.slice(1)]})})]})}function YE({status:t,tasks:e,columnIcons:n,columnLabels:r,onTaskClick:i,onDragOver:s,onDragLeave:o,onDrop:l,onDragStart:a,onDragEnd:u,onTouchStart:f,onTouchMove:c,onTouchEnd:d,isOver:_}){const v=Object.values(e).filter(y=>y.status===t).sort((y,O)=>(y.order||0)-(O.order||0));return p.jsxs("div",{id:`column-${t}`,"data-status":t,className:`column-layout ${_?"drag-over":""}`,onDragOver:s,onDragLeave:o,onDrop:l,style:{minHeight:"150px"},children:[p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:`2px solid ${GE[t]}`},children:p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx("span",{style:{fontSize:"1.125rem"},children:n[t]}),p.jsx("span",{style:{fontWeight:600,fontSize:"0.875rem"},children:r[t]}),p.jsx("div",{style:{padding:"0.125rem 0.5rem",borderRadius:"9999px",background:"rgba(55, 65, 81, 0.5)",fontSize:"0.75rem",color:"#9ca3af"},children:v.length})]})}),p.jsxs("div",{className:"cards-scroll",style:{minHeight:"100px"},children:[v.map(y=>p.jsx(QE,{task:y,onClick:()=>i(y),onDragStart:a,onDragEnd:u,onTouchStart:f,onTouchMove:c,onTouchEnd:d},y.id)),v.length===0&&p.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#4b5563",fontSize:"0.75rem"},children:"Drop tasks here"})]})]})}function KE({note:t,onClick:e}){const n=kf[t.type]||kf.brain_dump;return p.jsxs("div",{className:"note-card",onClick:e,children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.875rem",marginBottom:"0.5rem"},children:[p.jsx("span",{style:{fontSize:"1.125rem"},children:dg[t.type]||""}),t.title,p.jsx("div",{style:{marginLeft:"auto",padding:"0.125rem 0.5rem",borderRadius:"0.5rem",background:n.bg,color:n.text,fontSize:"0.75rem",textTransform:"capitalize"},children:t.type.replace("_"," ")})]}),p.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",lineHeight:1.5,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:t.content}),p.jsx("div",{style:{fontSize:"0.75rem",color:"#4b5563",marginTop:"0.5rem"},children:new Date(t.updated).toLocaleDateString()})]})}function Kr({isOpen:t,onClose:e,title:n,children:r}){return t?p.jsx("div",{className:"modal-overlay",onClick:e,children:p.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[p.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700},children:n}),p.jsx("button",{className:"close-btn",onClick:e,children:""})]}),r]})}):null}function qE(){const[t,e]=U.useState("tasks"),[n,r]=U.useState({}),[i,s]=U.useState({}),[o,l]=U.useState({text:"Loading...",type:"saved"}),[a,u]=U.useState(!1),[f,c]=U.useState(!1),[d,_]=U.useState(null),[v,y]=U.useState(null),[O,m]=U.useState(null),[h,g]=U.useState(null),[C,x]=U.useState(0),[R,N]=U.useState(!1),[P,q]=U.useState(""),[L,Ne]=U.useState(""),[wt,Ut]=U.useState(!1),Ct=U.useRef({isDragging:!1,startX:0,startY:0,taskId:null,draggedElement:null,clone:null});U.useEffect(()=>{const w=Qr(Yr,"workspaces/winslow_main/tasks"),S=Ef(w,B=>{const G=B.val();if(G)r(G),l({text:"Synced ",type:"saved"});else{const he={1:{id:"1",title:"Welcome to Mission Control",category:"ops",priority:"medium",status:"todo",order:0},2:{id:"2",title:"Drag cards between columns",category:"dev",priority:"low",status:"todo",order:1},3:{id:"3",title:"Try moving to Progress",category:"michigan",priority:"high",status:"progress",order:0},4:{id:"4",title:"Or drop in Review",category:"content",priority:"medium",status:"review",order:0},5:{id:"5",title:"Completed tasks go to Done",category:"marketing",priority:"low",status:"done",order:0}};r(he),Rl(Qr(Yr,"workspaces/winslow_main/tasks"),he),l({text:"Ready",type:"saved"})}});return()=>S()},[]),U.useEffect(()=>{const w=Qr(Yr,"workspaces/winslow_main/notes"),S=Ef(w,B=>{const G=B.val();G&&s(G)});return()=>S()},[]);const Et=U.useCallback(async w=>{l({text:"Saving...",type:"saving"});try{await Rl(Qr(Yr,"workspaces/winslow_main/tasks"),w),l({text:"Saved ",type:"saved"})}catch{l({text:"Local only",type:"saved"})}},[]),_n=U.useCallback(async w=>{try{await Rl(Qr(Yr,"workspaces/winslow_main/notes"),w)}catch(S){console.log("Notes save failed",S)}},[]),Ar=U.useCallback(async w=>{Ut(!0),Ne("");try{const S=await WE([{role:"system",content:"You are an expert coding assistant. Write clean, production-ready code. Return only the code with brief comments."},{role:"user",content:w}],{temperature:.1,max_tokens:4096,thinking:!0});Ne(S)}catch(S){Ne(`Error: ${S.message}`)}finally{Ut(!1)}},[]);U.useEffect(()=>{const w=()=>{const S=document.documentElement.scrollHeight-window.innerHeight,B=S>0?window.scrollY/S*100:0;x(Math.min(100,Math.max(0,B)))};return window.addEventListener("scroll",w,{passive:!0}),w(),()=>window.removeEventListener("scroll",w)},[]);const T=U.useCallback((w,S)=>{m(S),w.dataTransfer.setData("text/plain",S.id),w.dataTransfer.effectAllowed="move",w.target.classList.add("dragging")},[]),A=U.useCallback(w=>{m(null),g(null),w.target.classList.remove("dragging")},[]),M=U.useCallback(w=>{w.preventDefault(),w.dataTransfer.dropEffect="move";let S=w.target;for(;S&&S!==document.body;){if(S.id&&S.id.startsWith("column-")){h!==S.id&&g(S.id);break}S=S.parentElement}},[h]),te=U.useCallback(w=>{w.currentTarget.contains(w.relatedTarget)||g(null)},[]),ae=U.useCallback(w=>{w.preventDefault(),g(null);const S=w.dataTransfer.getData("text/plain"),B=w.currentTarget.dataset.status;if(S&&B&&n[S]){const G=n[S];if(G.status!==B){const he={...n};Object.values(he).forEach(Ye=>{Ye.status===G.status&&Ye.order>G.order&&(he[Ye.id]={...Ye,order:Ye.order-1})});const tt=Object.values(he).filter(Ye=>Ye.status===B).length;he[S]={...G,status:B,order:tt},r(he),Et(he)}}m(null)},[n,Et]),Un=U.useCallback(w=>{const S=w.touches[0],B=w.currentTarget,G=B.dataset.taskId||B.getAttribute("data-task-id");Ct.current={isDragging:!1,startX:S.clientX,startY:S.clientY,taskId:G,draggedElement:B,clone:null}},[]),St=U.useCallback(w=>{var yc;const S=w.touches[0],{startX:B,startY:G,isDragging:he,taskId:Wt,draggedElement:tt,clone:Ye}=Ct.current,$o=Math.abs(S.clientX-B),ht=Math.abs(S.clientY-G);if(!he&&ht>25&&$o<ht*1.5){const Hn=n[Wt];if(!Hn)return;Ct.current.isDragging=!0,m(Hn);const Ht=tt.getBoundingClientRect(),pt=tt.cloneNode(!0);pt.style.position="fixed",pt.style.left=`${Ht.left}px`,pt.style.top=`${Ht.top}px`,pt.style.width=`${Ht.width}px`,pt.style.zIndex="9999",pt.style.opacity="0.9",pt.style.pointerEvents="none",pt.classList.add("dragging"),document.body.appendChild(pt),Ct.current.clone=pt}if(he&&Ye){Ye.style.left=`${S.clientX-40}px`,Ye.style.top=`${S.clientY-40}px`;const Hn=document.elementFromPoint(S.clientX,S.clientY);let Ht=Hn==null?void 0:Hn.closest("[data-status]");Ht&&((yc=Ht.id)!=null&&yc.startsWith("column-"))?h!==Ht.id&&g(Ht.id):g(null)}},[n,h]),Mr=U.useCallback(w=>{const{isDragging:S,taskId:B,clone:G}=Ct.current;if(G&&G.remove(),S&&B&&h){const he=h.replace("column-",""),Wt=n[B];if(Wt&&Wt.status!==he){const tt={...n};Object.values(tt).forEach(ht=>{ht.status===Wt.status&&ht.order>Wt.order&&(tt[ht.id]={...ht,order:ht.order-1})});const $o=Object.values(tt).filter(ht=>ht.status===he).length;tt[B]={...Wt,status:he,order:$o},r(tt),Et(tt)}}Ct.current={isDragging:!1,startX:0,startY:0,taskId:null,draggedElement:null,clone:null},m(null),g(null)},[n,h,Et]),kt=w=>{const S=Date.now().toString(),B=Object.values(n).filter(he=>he.status===w.status).length,G={...n,[S]:{...w,id:S,order:B}};r(G),Et(G),u(!1)},Wn=(w,S)=>{const B={...n,[w]:{...n[w],...S}};r(B),Et(B)},fg=async w=>{const S={...n},B=S[w];delete S[w],Object.values(S).forEach(G=>{G.status===B.status&&G.order>B.order&&(S[G.id]={...G,order:G.order-1})}),r(S),await Et(S)},hg=w=>{const S=Date.now().toString(),B={...i,[S]:{...w,id:S,updated:Date.now()}};s(B),_n(B),c(!1)},pg=(w,S)=>{const B={...i,[w]:{...i[w],...S,updated:Date.now()}};s(B),_n(B),_(null)},mg=async w=>{const S={...i};delete S[w],s(S),await _n(S),_(null)},Ji={total:Object.keys(n).length,todo:Object.values(n).filter(w=>w.status==="todo").length,progress:Object.values(n).filter(w=>w.status==="progress").length,review:Object.values(n).filter(w=>w.status==="review").length,done:Object.values(n).filter(w=>w.status==="done").length},gg={todo:"",progress:"",review:"",done:""},_g={todo:"To Do",progress:"In Progress",review:"Review",done:"Done"},vg=[{i:"",n:"Docs",u:"https://docs.google.com"},{i:"",n:"Sheets",u:"https://sheets.google.com"},{i:"",n:"Drive",u:"https://drive.google.com"},{i:"",n:"Calendar",u:"https://calendar.google.com"},{i:"",n:"Gmail",u:"https://mail.google.com"},{i:"",n:"Photos",u:"https://photos.google.com"}];return p.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:[p.jsx("header",{style:{position:"sticky",top:0,zIndex:40,background:"rgba(10, 10, 15, 0.8)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(55, 65, 81, 0.3)",padding:"1rem 1.25rem"},children:p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[p.jsxs("div",{children:[p.jsx("h1",{style:{fontSize:"1.25rem",fontWeight:700,background:"linear-gradient(135deg, #fff 0%, #a78bfa 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:" Mission Control"}),p.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.125rem"},children:"Drag cards between columns"})]}),p.jsxs("div",{className:`status-badge ${o.type}`,children:[p.jsx("span",{className:`status-dot ${o.type}`}),p.jsx("span",{children:o.text})]})]})}),p.jsx("div",{style:{position:"sticky",top:"5.5rem",zIndex:30,background:"rgba(10, 10, 15, 0.95)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(55, 65, 81, 0.3)",padding:"0.75rem 1.25rem"},children:p.jsx("div",{className:"tab-scroll",children:["tasks","notes","code","tools"].map(w=>p.jsx("button",{onClick:()=>e(w),className:`tab-btn ${t===w?"active":"inactive"}`,children:w==="tasks"?" Tasks":w==="notes"?" Notes":w==="code"?" Code":" Tools"},w))})}),p.jsx("div",{style:{position:"fixed",left:0,top:"5.5rem",bottom:"4.5rem",width:"4px",background:"rgba(55, 65, 81, 0.5)",zIndex:100,pointerEvents:"none"},children:p.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${C}%`,background:"linear-gradient(180deg, #a78bfa 0%, #818cf8 50%, #60a5fa 100%)",transition:"height 0.1s ease-out",boxShadow:"0 0 8px rgba(167, 139, 250, 0.5)"}})}),p.jsxs("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden"},children:[p.jsxs("div",{className:"stats-scroll",children:[p.jsxs("div",{className:"stat-pill",children:["Total: ",p.jsx("span",{children:Ji.total})]}),p.jsxs("div",{className:"stat-pill",style:{color:"#f87171"},children:["To Do: ",p.jsx("span",{children:Ji.todo})]}),p.jsxs("div",{className:"stat-pill",style:{color:"#fbbf24"},children:["Progress: ",p.jsx("span",{children:Ji.progress})]}),p.jsxs("div",{className:"stat-pill",style:{color:"#34d399"},children:["Done: ",p.jsx("span",{children:Ji.done})]})]}),t==="tasks"&&p.jsx("div",{className:"board-container",style:{touchAction:"pan-x"},children:["todo","progress","review","done"].map(w=>p.jsx(YE,{status:w,tasks:n,columnIcons:gg,columnLabels:_g,onTaskClick:S=>y(S),onDragOver:M,onDragLeave:te,onDrop:ae,onDragStart:T,onDragEnd:A,onTouchStart:Un,onTouchMove:St,onTouchEnd:Mr,isOver:h===`column-${w}`},w))}),t==="notes"&&p.jsx("div",{style:{padding:"0 1.25rem 6rem"},children:p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Object.keys(i).length===0?p.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"#6b7280",fontSize:"0.875rem"},children:"No notes yet. Create your first note!"}):Object.values(i).sort((w,S)=>S.updated-w.updated).map(w=>p.jsx(KE,{note:w,onClick:()=>_(w)},w.id))})}),t==="code"&&p.jsxs("div",{style:{padding:"0 1.25rem 6rem"},children:[p.jsxs("div",{style:{marginBottom:"1rem"},children:[p.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"0.5rem"},children:" Code with Kimi K2.5"}),p.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Generate code using NVIDIA Kimi K2.5"})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem"},children:[{l:" React Component",p:"Create a React functional component with hooks"},{l:" CSS Styles",p:"Write modern CSS with animations"},{l:" Utility Function",p:"Write a JavaScript utility function"},{l:" Fix Bug",p:"Fix this code bug: Describe the issue"}].map(w=>p.jsxs("button",{className:"grid-card",onClick:()=>{q(w.p),N(!0)},style:{textAlign:"left",cursor:"pointer",border:"none",background:"rgba(55, 65, 81, 0.3)"},children:[p.jsx("div",{style:{fontSize:"1.25rem",marginBottom:"0.25rem"},children:w.l.split(" ")[0]}),p.jsx("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:w.l})]},w.l))}),p.jsx("button",{className:"btn-primary",onClick:()=>{q(""),N(!0)},style:{width:"100%",padding:"0.875rem"},children:" Custom Prompt"})]})]}),t==="tools"&&p.jsx("div",{style:{padding:"0 1.25rem 6rem"},children:p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem"},children:vg.map(w=>p.jsxs("div",{className:"grid-card",onClick:()=>window.open(w.u,"_blank"),children:[p.jsx("div",{style:{fontSize:"1.75rem",marginBottom:"0.5rem"},children:w.i}),p.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600},children:w.n})]},w.n))})})]}),p.jsx("nav",{className:"bottom-nav",children:p.jsx("div",{style:{display:"flex",justifyContent:"space-around",padding:"0.5rem"},children:[{id:"tasks",icon:"",label:"Tasks"},{id:"notes",icon:"",label:"Notes"},{id:"code",icon:"",label:"Code"},{id:"tools",icon:"",label:"Tools"}].map(w=>p.jsxs("div",{className:`nav-item ${t===w.id?"active":"inactive"}`,onClick:()=>e(w.id),children:[p.jsx("div",{className:"nav-icon",children:w.icon}),p.jsx("div",{className:"nav-label",children:w.label})]},w.id))})}),t==="tasks"&&p.jsx("button",{className:"fab",onClick:()=>u(!0),children:"+"}),t==="notes"&&p.jsx("button",{className:"fab",onClick:()=>c(!0),children:"+"}),p.jsx(Kr,{isOpen:a,onClose:()=>u(!1),title:"New Task",children:p.jsxs("form",{onSubmit:w=>{w.preventDefault();const S=w.target;kt({title:S.title.value,category:S.category.value,priority:S.priority.value,status:"todo"})},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Title"}),p.jsx("input",{name:"title",required:!0,className:"form-input",placeholder:"Task title...",autoFocus:!0})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Category"}),p.jsxs("select",{name:"category",className:"form-select",children:[p.jsx("option",{value:"dev",children:" Dev"}),p.jsx("option",{value:"marketing",children:" Marketing"}),p.jsx("option",{value:"content",children:" Content"}),p.jsx("option",{value:"ambassador",children:" Ambassador"}),p.jsx("option",{value:"ops",children:" Ops"}),p.jsx("option",{value:"michigan",children:" Michigan Project"}),p.jsx("option",{value:"internal",children:" Internal"})]})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Priority"}),p.jsxs("select",{name:"priority",className:"form-select",children:[p.jsx("option",{value:"high",children:" High"}),p.jsx("option",{value:"medium",children:" Medium"}),p.jsx("option",{value:"low",children:" Low"})]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[p.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>u(!1),children:"Cancel"}),p.jsx("button",{type:"submit",className:"btn-primary",children:"Create"})]})]})}),p.jsx(Kr,{isOpen:v!==null,onClose:()=>y(null),title:"Task Details",children:v&&p.jsxs("form",{onSubmit:w=>{w.preventDefault();const S=w.target;Wn(v.id,{title:S.title.value,category:S.category.value,priority:S.priority.value,status:S.status.value}),y(null)},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Status"}),p.jsxs("select",{name:"status",className:"form-select",defaultValue:v.status,children:[p.jsx("option",{value:"todo",children:" To Do"}),p.jsx("option",{value:"progress",children:" In Progress"}),p.jsx("option",{value:"review",children:" Review"}),p.jsx("option",{value:"done",children:" Done"})]})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Title"}),p.jsx("input",{name:"title",required:!0,className:"form-input",defaultValue:v.title})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Category"}),p.jsxs("select",{name:"category",className:"form-select",defaultValue:v.category,children:[p.jsx("option",{value:"dev",children:" Dev"}),p.jsx("option",{value:"marketing",children:" Marketing"}),p.jsx("option",{value:"content",children:" Content"}),p.jsx("option",{value:"ambassador",children:" Ambassador"}),p.jsx("option",{value:"ops",children:" Ops"}),p.jsx("option",{value:"michigan",children:" Michigan Project"}),p.jsx("option",{value:"internal",children:" Internal"})]})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Priority"}),p.jsxs("select",{name:"priority",className:"form-select",defaultValue:v.priority,children:[p.jsx("option",{value:"high",children:" High"}),p.jsx("option",{value:"medium",children:" Medium"}),p.jsx("option",{value:"low",children:" Low"})]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[p.jsx("button",{type:"button",className:"btn-danger",onClick:()=>{fg(v.id),y(null)},children:"Delete"}),p.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})}),p.jsx(Kr,{isOpen:f,onClose:()=>c(!1),title:"New Note",children:p.jsxs("form",{onSubmit:w=>{w.preventDefault();const S=w.target;hg({title:S.title.value,content:S.content.value,type:S.type.value})},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Title"}),p.jsx("input",{name:"title",required:!0,className:"form-input",placeholder:"Note title...",autoFocus:!0})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Content"}),p.jsx("textarea",{name:"content",className:"form-textarea",placeholder:"Brain dump, ideas, meeting notes..."})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Type"}),p.jsxs("select",{name:"type",className:"form-select",children:[p.jsx("option",{value:"brain_dump",children:" Brain Dump"}),p.jsx("option",{value:"meeting",children:" Meeting Notes"}),p.jsx("option",{value:"idea",children:" Idea"}),p.jsx("option",{value:"project",children:" Project"})]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[p.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>c(!1),children:"Cancel"}),p.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})}),p.jsx(Kr,{isOpen:d!==null,onClose:()=>_(null),title:"Edit Note",children:d&&p.jsxs("form",{onSubmit:w=>{w.preventDefault();const S=w.target;pg(d.id,{title:S.title.value,content:S.content.value,type:S.type.value})},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Title"}),p.jsx("input",{name:"title",required:!0,className:"form-input",defaultValue:d.title})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Content"}),p.jsx("textarea",{name:"content",className:"form-textarea",defaultValue:d.content})]}),p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Type"}),p.jsxs("select",{name:"type",className:"form-select",defaultValue:d.type,children:[p.jsx("option",{value:"brain_dump",children:" Brain Dump"}),p.jsx("option",{value:"meeting",children:" Meeting Notes"}),p.jsx("option",{value:"idea",children:" Idea"}),p.jsx("option",{value:"project",children:" Project"})]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[p.jsx("button",{type:"button",className:"btn-danger",onClick:()=>{mg(d.id)},children:"Delete"}),p.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})}),p.jsx(Kr,{isOpen:R,onClose:()=>N(!1),title:" Code with Kimi K2.5",children:p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsxs("div",{children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"What do you want to code?"}),p.jsx("textarea",{className:"form-textarea",placeholder:"Describe what you want to build...",value:P,onChange:w=>q(w.target.value),rows:4})]}),p.jsx("button",{className:"btn-primary",onClick:()=>Ar(P),disabled:wt||!P.trim(),style:{opacity:wt?.6:1},children:wt?" Generating...":" Generate Code"}),L&&p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[p.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280"},children:"Generated Code"}),p.jsx("button",{className:"btn-secondary",onClick:()=>navigator.clipboard.writeText(L),style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem"},children:" Copy"})]}),p.jsx("pre",{style:{background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"0.5rem",fontSize:"0.75rem",overflow:"auto",maxHeight:"300px",whiteSpace:"pre-wrap"},children:L})]})]})})]})}Pl.createRoot(document.getElementById("root")).render(p.jsx(Lg.StrictMode,{children:p.jsx(qE,{})}));
