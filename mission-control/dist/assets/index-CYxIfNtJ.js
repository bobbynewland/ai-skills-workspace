(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Xm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cf={exports:{}},so={},df={exports:{}},b={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=Symbol.for("react.element"),Jm=Symbol.for("react.portal"),Zm=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),ng=Symbol.for("react.provider"),rg=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),sg=Symbol.for("react.suspense"),og=Symbol.for("react.memo"),lg=Symbol.for("react.lazy"),sc=Symbol.iterator;function ag(t){return t===null||typeof t!="object"?null:(t=sc&&t[sc]||t["@@iterator"],typeof t=="function"?t:null)}var ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hf=Object.assign,pf={};function dr(t,e,n){this.props=t,this.context=e,this.refs=pf,this.updater=n||ff}dr.prototype.isReactComponent={};dr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mf(){}mf.prototype=dr.prototype;function Ra(t,e,n){this.props=t,this.context=e,this.refs=pf,this.updater=n||ff}var Pa=Ra.prototype=new mf;Pa.constructor=Ra;hf(Pa,dr.prototype);Pa.isPureReactComponent=!0;var oc=Array.isArray,gf=Object.prototype.hasOwnProperty,Da={current:null},_f={key:!0,ref:!0,__self:!0,__source:!0};function vf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)gf.call(e,r)&&!_f.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:xi,type:t,key:s,ref:o,props:i,_owner:Da.current}}function ug(t,e){return{$$typeof:xi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Oa(t){return typeof t=="object"&&t!==null&&t.$$typeof===xi}function cg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lc=/\/+/g;function Oo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cg(""+t.key):e.toString(36)}function ss(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xi:case Jm:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Oo(o,0):r,oc(i)?(n="",t!=null&&(n=t.replace(lc,"$&/")+"/"),ss(i,e,n,"",function(u){return u})):i!=null&&(Oa(i)&&(i=ug(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",oc(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Oo(s,l);o+=ss(s,e,n,a,i)}else if(a=ag(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Oo(s,l++),o+=ss(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bi(t,e,n){if(t==null)return t;var r=[],i=0;return ss(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ie={current:null},os={transition:null},fg={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:os,ReactCurrentOwner:Da};function yf(){throw Error("act(...) is not supported in production builds of React.")}b.Children={map:bi,forEach:function(t,e,n){bi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bi(t,function(){e++}),e},toArray:function(t){return bi(t,function(e){return e})||[]},only:function(t){if(!Oa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};b.Component=dr;b.Fragment=Zm;b.Profiler=tg;b.PureComponent=Ra;b.StrictMode=eg;b.Suspense=sg;b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fg;b.act=yf;b.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hf({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Da.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)gf.call(e,a)&&!_f.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:xi,type:t.type,key:i,ref:s,props:r,_owner:o}};b.createContext=function(t){return t={$$typeof:rg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ng,_context:t},t.Consumer=t};b.createElement=vf;b.createFactory=function(t){var e=vf.bind(null,t);return e.type=t,e};b.createRef=function(){return{current:null}};b.forwardRef=function(t){return{$$typeof:ig,render:t}};b.isValidElement=Oa;b.lazy=function(t){return{$$typeof:lg,_payload:{_status:-1,_result:t},_init:dg}};b.memo=function(t,e){return{$$typeof:og,type:t,compare:e===void 0?null:e}};b.startTransition=function(t){var e=os.transition;os.transition={};try{t()}finally{os.transition=e}};b.unstable_act=yf;b.useCallback=function(t,e){return Ie.current.useCallback(t,e)};b.useContext=function(t){return Ie.current.useContext(t)};b.useDebugValue=function(){};b.useDeferredValue=function(t){return Ie.current.useDeferredValue(t)};b.useEffect=function(t,e){return Ie.current.useEffect(t,e)};b.useId=function(){return Ie.current.useId()};b.useImperativeHandle=function(t,e,n){return Ie.current.useImperativeHandle(t,e,n)};b.useInsertionEffect=function(t,e){return Ie.current.useInsertionEffect(t,e)};b.useLayoutEffect=function(t,e){return Ie.current.useLayoutEffect(t,e)};b.useMemo=function(t,e){return Ie.current.useMemo(t,e)};b.useReducer=function(t,e,n){return Ie.current.useReducer(t,e,n)};b.useRef=function(t){return Ie.current.useRef(t)};b.useState=function(t){return Ie.current.useState(t)};b.useSyncExternalStore=function(t,e,n){return Ie.current.useSyncExternalStore(t,e,n)};b.useTransition=function(){return Ie.current.useTransition()};b.version="18.3.1";df.exports=b;var te=df.exports;const hg=Xm(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=te,mg=Symbol.for("react.element"),gg=Symbol.for("react.fragment"),_g=Object.prototype.hasOwnProperty,vg=pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yg={key:!0,ref:!0,__self:!0,__source:!0};function wf(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_g.call(e,r)&&!yg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mg,type:t,key:s,ref:o,props:i,_owner:vg.current}}so.Fragment=gg;so.jsx=wf;so.jsxs=wf;cf.exports=so;var m=cf.exports,gl={},Cf={exports:{}},He={},Ef={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,y){var w=T.length;T.push(y);e:for(;0<w;){var O=w-1>>>1,M=T[O];if(0<i(M,y))T[O]=y,T[w]=M,w=O;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var y=T[0],w=T.pop();if(w!==y){T[0]=w;e:for(var O=0,M=T.length,ve=M>>>1;O<ve;){var Rt=2*(O+1)-1,wr=T[Rt],ke=Rt+1,zi=T[ke];if(0>i(wr,w))ke<M&&0>i(zi,wr)?(T[O]=zi,T[ke]=w,O=ke):(T[O]=wr,T[Rt]=w,O=Rt);else if(ke<M&&0>i(zi,w))T[O]=zi,T[ke]=w,O=ke;else break e}}return y}function i(T,y){var w=T.sortIndex-y.sortIndex;return w!==0?w:T.id-y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,c=null,d=3,_=!1,v=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var y=n(u);y!==null;){if(y.callback===null)r(u);else if(y.startTime<=T)r(u),y.sortIndex=y.expirationTime,e(a,y);else break;y=n(u)}}function E(T){if(C=!1,g(T),!v)if(n(a)!==null)v=!0,vr(x);else{var y=n(u);y!==null&&yr(E,y.startTime-T)}}function x(T,y){v=!1,C&&(C=!1,p(P),P=-1),_=!0;var w=d;try{for(g(y),c=n(a);c!==null&&(!(c.expirationTime>y)||T&&!ze());){var O=c.callback;if(typeof O=="function"){c.callback=null,d=c.priorityLevel;var M=O(c.expirationTime<=y);y=t.unstable_now(),typeof M=="function"?c.callback=M:c===n(a)&&r(a),g(y)}else r(a);c=n(a)}if(c!==null)var ve=!0;else{var Rt=n(u);Rt!==null&&yr(E,Rt.startTime-y),ve=!1}return ve}finally{c=null,d=w,_=!1}}var N=!1,R=null,P=-1,X=5,j=-1;function ze(){return!(t.unstable_now()-j<X)}function nn(){if(R!==null){var T=t.unstable_now();j=T;var y=!0;try{y=R(!0,T)}finally{y?rn():(N=!1,R=null)}}else N=!1}var rn;if(typeof h=="function")rn=function(){h(nn)};else if(typeof MessageChannel<"u"){var ji=new MessageChannel,Nn=ji.port2;ji.port1.onmessage=nn,rn=function(){Nn.postMessage(null)}}else rn=function(){A(nn,0)};function vr(T){R=T,N||(N=!0,rn())}function yr(T,y){P=A(function(){T(t.unstable_now())},y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){v||_||(v=!0,vr(x))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(d){case 1:case 2:case 3:var y=3;break;default:y=d}var w=d;d=y;try{return T()}finally{d=w}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,y){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var w=d;d=T;try{return y()}finally{d=w}},t.unstable_scheduleCallback=function(T,y,w){var O=t.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?O+w:O):w=O,T){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=w+M,T={id:f++,callback:y,priorityLevel:T,startTime:w,expirationTime:M,sortIndex:-1},w>O?(T.sortIndex=w,e(u,T),n(a)===null&&T===n(u)&&(C?(p(P),P=-1):C=!0,yr(E,w-O))):(T.sortIndex=M,e(a,T),v||_||(v=!0,vr(x))),T},t.unstable_shouldYield=ze,t.unstable_wrapCallback=function(T){var y=d;return function(){var w=d;d=y;try{return T.apply(this,arguments)}finally{d=w}}}})(Sf);Ef.exports=Sf;var wg=Ef.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg=te,We=wg;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kf=new Set,Zr={};function xn(t,e){er(t,e),er(t+"Capture",e)}function er(t,e){for(Zr[t]=e,t=0;t<e.length;t++)kf.add(e[t])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_l=Object.prototype.hasOwnProperty,Eg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ac={},uc={};function Sg(t){return _l.call(uc,t)?!0:_l.call(ac,t)?!1:Eg.test(t)?uc[t]=!0:(ac[t]=!0,!1)}function kg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xg(t,e,n,r){if(e===null||typeof e>"u"||kg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ne(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_e[t]=new Ne(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_e[e]=new Ne(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_e[t]=new Ne(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_e[t]=new Ne(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_e[t]=new Ne(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_e[t]=new Ne(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_e[t]=new Ne(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_e[t]=new Ne(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_e[t]=new Ne(t,5,!1,t.toLowerCase(),null,!1,!1)});var Aa=/[\-:]([a-z])/g;function Ma(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Aa,Ma);_e[e]=new Ne(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Aa,Ma);_e[e]=new Ne(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Aa,Ma);_e[e]=new Ne(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_e[t]=new Ne(t,1,!1,t.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_e[t]=new Ne(t,1,!1,t.toLowerCase(),null,!0,!0)});function La(t,e,n,r){var i=_e.hasOwnProperty(e)?_e[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xg(e,n,i,r)&&(n=null),r||i===null?Sg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var It=Cg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bi=Symbol.for("react.element"),Dn=Symbol.for("react.portal"),On=Symbol.for("react.fragment"),Fa=Symbol.for("react.strict_mode"),vl=Symbol.for("react.profiler"),xf=Symbol.for("react.provider"),Tf=Symbol.for("react.context"),ja=Symbol.for("react.forward_ref"),yl=Symbol.for("react.suspense"),wl=Symbol.for("react.suspense_list"),za=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),If=Symbol.for("react.offscreen"),cc=Symbol.iterator;function Cr(t){return t===null||typeof t!="object"?null:(t=cc&&t[cc]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,Ao;function Lr(t){if(Ao===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ao=e&&e[1]||""}return`
`+Ao+t}var Mo=!1;function Lo(t,e){if(!t||Mo)return"";Mo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Mo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lr(t):""}function Tg(t){switch(t.tag){case 5:return Lr(t.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 2:case 15:return t=Lo(t.type,!1),t;case 11:return t=Lo(t.type.render,!1),t;case 1:return t=Lo(t.type,!0),t;default:return""}}function Cl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case On:return"Fragment";case Dn:return"Portal";case vl:return"Profiler";case Fa:return"StrictMode";case yl:return"Suspense";case wl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Tf:return(t.displayName||"Context")+".Consumer";case xf:return(t._context.displayName||"Context")+".Provider";case ja:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case za:return e=t.displayName||null,e!==null?e:Cl(t.type)||"Memo";case Dt:e=t._payload,t=t._init;try{return Cl(t(e))}catch{}}return null}function Ig(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cl(e);case 8:return e===Fa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ng(t){var e=Nf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ui(t){t._valueTracker||(t._valueTracker=Ng(t))}function Rf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Nf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function El(t,e){var n=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pf(t,e){e=e.checked,e!=null&&La(t,"checked",e,!1)}function Sl(t,e){Pf(t,e);var n=Kt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kl(t,e.type,n):e.hasOwnProperty("defaultValue")&&kl(t,e.type,Kt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kl(t,e,n){(e!=="number"||vs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fr=Array.isArray;function Vn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(Fr(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kt(n)}}function Df(t,e){var n=Kt(e.value),r=Kt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Of(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Of(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wi,Af=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ei(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rg=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(t){Rg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),br[e]=br[t]})});function Mf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||br.hasOwnProperty(t)&&br[t]?(""+e).trim():e+"px"}function Lf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Pg=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(t,e){if(e){if(Pg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function Nl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rl=null;function ba(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pl=null,$n=null,Qn=null;function mc(t){if(t=Ni(t)){if(typeof Pl!="function")throw Error(S(280));var e=t.stateNode;e&&(e=co(e),Pl(t.stateNode,t.type,e))}}function Ff(t){$n?Qn?Qn.push(t):Qn=[t]:$n=t}function jf(){if($n){var t=$n,e=Qn;if(Qn=$n=null,mc(t),e)for(t=0;t<e.length;t++)mc(e[t])}}function zf(t,e){return t(e)}function bf(){}var Fo=!1;function Bf(t,e,n){if(Fo)return t(e,n);Fo=!0;try{return zf(t,e,n)}finally{Fo=!1,($n!==null||Qn!==null)&&(bf(),jf())}}function ti(t,e){var n=t.stateNode;if(n===null)return null;var r=co(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var Dl=!1;if(wt)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{Dl=!1}function Dg(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Br=!1,ys=null,ws=!1,Ol=null,Og={onError:function(t){Br=!0,ys=t}};function Ag(t,e,n,r,i,s,o,l,a){Br=!1,ys=null,Dg.apply(Og,arguments)}function Mg(t,e,n,r,i,s,o,l,a){if(Ag.apply(this,arguments),Br){if(Br){var u=ys;Br=!1,ys=null}else throw Error(S(198));ws||(ws=!0,Ol=u)}}function Tn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Uf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gc(t){if(Tn(t)!==t)throw Error(S(188))}function Lg(t){var e=t.alternate;if(!e){if(e=Tn(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gc(i),t;if(s===r)return gc(i),e;s=s.sibling}throw Error(S(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function Wf(t){return t=Lg(t),t!==null?Hf(t):null}function Hf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hf(t);if(e!==null)return e;t=t.sibling}return null}var Vf=We.unstable_scheduleCallback,_c=We.unstable_cancelCallback,Fg=We.unstable_shouldYield,jg=We.unstable_requestPaint,ie=We.unstable_now,zg=We.unstable_getCurrentPriorityLevel,Ba=We.unstable_ImmediatePriority,$f=We.unstable_UserBlockingPriority,Cs=We.unstable_NormalPriority,bg=We.unstable_LowPriority,Qf=We.unstable_IdlePriority,oo=null,dt=null;function Bg(t){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(oo,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Hg,Ug=Math.log,Wg=Math.LN2;function Hg(t){return t>>>=0,t===0?32:31-(Ug(t)/Wg|0)|0}var Hi=64,Vi=4194304;function jr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Es(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=jr(l):(s&=o,s!==0&&(r=jr(s)))}else o=n&~i,o!==0?r=jr(o):s!==0&&(r=jr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-it(e),i=1<<n,r|=t[n],e&=~i;return r}function Vg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $g(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-it(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Vg(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Al(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gf(){var t=Hi;return Hi<<=1,!(Hi&4194240)&&(Hi=64),t}function jo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ti(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=n}function Qg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-it(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ua(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-it(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var W=0;function Kf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yf,Wa,qf,Xf,Jf,Ml=!1,$i=[],jt=null,zt=null,bt=null,ni=new Map,ri=new Map,At=[],Gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vc(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":bt=null;break;case"pointerover":case"pointerout":ni.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(e.pointerId)}}function Sr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ni(e),e!==null&&Wa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Kg(t,e,n,r,i){switch(e){case"focusin":return jt=Sr(jt,t,e,n,r,i),!0;case"dragenter":return zt=Sr(zt,t,e,n,r,i),!0;case"mouseover":return bt=Sr(bt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ni.set(s,Sr(ni.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ri.set(s,Sr(ri.get(s)||null,t,e,n,r,i)),!0}return!1}function Zf(t){var e=un(t.target);if(e!==null){var n=Tn(e);if(n!==null){if(e=n.tag,e===13){if(e=Uf(n),e!==null){t.blockedOn=e,Jf(t.priority,function(){qf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ls(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ll(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rl=r,n.target.dispatchEvent(r),Rl=null}else return e=Ni(n),e!==null&&Wa(e),t.blockedOn=n,!1;e.shift()}return!0}function yc(t,e,n){ls(t)&&n.delete(e)}function Yg(){Ml=!1,jt!==null&&ls(jt)&&(jt=null),zt!==null&&ls(zt)&&(zt=null),bt!==null&&ls(bt)&&(bt=null),ni.forEach(yc),ri.forEach(yc)}function kr(t,e){t.blockedOn===e&&(t.blockedOn=null,Ml||(Ml=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,Yg)))}function ii(t){function e(i){return kr(i,t)}if(0<$i.length){kr($i[0],t);for(var n=1;n<$i.length;n++){var r=$i[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jt!==null&&kr(jt,t),zt!==null&&kr(zt,t),bt!==null&&kr(bt,t),ni.forEach(e),ri.forEach(e),n=0;n<At.length;n++)r=At[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)Zf(n),n.blockedOn===null&&At.shift()}var Gn=It.ReactCurrentBatchConfig,Ss=!0;function qg(t,e,n,r){var i=W,s=Gn.transition;Gn.transition=null;try{W=1,Ha(t,e,n,r)}finally{W=i,Gn.transition=s}}function Xg(t,e,n,r){var i=W,s=Gn.transition;Gn.transition=null;try{W=4,Ha(t,e,n,r)}finally{W=i,Gn.transition=s}}function Ha(t,e,n,r){if(Ss){var i=Ll(t,e,n,r);if(i===null)Go(t,e,r,ks,n),vc(t,r);else if(Kg(i,t,e,n,r))r.stopPropagation();else if(vc(t,r),e&4&&-1<Gg.indexOf(t)){for(;i!==null;){var s=Ni(i);if(s!==null&&Yf(s),s=Ll(t,e,n,r),s===null&&Go(t,e,r,ks,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Go(t,e,r,null,n)}}var ks=null;function Ll(t,e,n,r){if(ks=null,t=ba(r),t=un(t),t!==null)if(e=Tn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Uf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ks=t,null}function eh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zg()){case Ba:return 1;case $f:return 4;case Cs:case bg:return 16;case Qf:return 536870912;default:return 16}default:return 16}}var Lt=null,Va=null,as=null;function th(){if(as)return as;var t,e=Va,n=e.length,r,i="value"in Lt?Lt.value:Lt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return as=i.slice(t,1<r?1-r:void 0)}function us(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function wc(){return!1}function Ve(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qi:wc,this.isPropagationStopped=wc,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),e}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=Ve(fr),Ii=ee({},fr,{view:0,detail:0}),Jg=Ve(Ii),zo,bo,xr,lo=ee({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(zo=t.screenX-xr.screenX,bo=t.screenY-xr.screenY):bo=zo=0,xr=t),zo)},movementY:function(t){return"movementY"in t?t.movementY:bo}}),Cc=Ve(lo),Zg=ee({},lo,{dataTransfer:0}),e_=Ve(Zg),t_=ee({},Ii,{relatedTarget:0}),Bo=Ve(t_),n_=ee({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),r_=Ve(n_),i_=ee({},fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s_=Ve(i_),o_=ee({},fr,{data:0}),Ec=Ve(o_),l_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=u_[t])?!!e[t]:!1}function Qa(){return c_}var d_=ee({},Ii,{key:function(t){if(t.key){var e=l_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(t){return t.type==="keypress"?us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f_=Ve(d_),h_=ee({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=Ve(h_),p_=ee({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),m_=Ve(p_),g_=ee({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),__=Ve(g_),v_=ee({},lo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y_=Ve(v_),w_=[9,13,27,32],Ga=wt&&"CompositionEvent"in window,Ur=null;wt&&"documentMode"in document&&(Ur=document.documentMode);var C_=wt&&"TextEvent"in window&&!Ur,nh=wt&&(!Ga||Ur&&8<Ur&&11>=Ur),kc=" ",xc=!1;function rh(t,e){switch(t){case"keyup":return w_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ih(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var An=!1;function E_(t,e){switch(t){case"compositionend":return ih(e);case"keypress":return e.which!==32?null:(xc=!0,kc);case"textInput":return t=e.data,t===kc&&xc?null:t;default:return null}}function S_(t,e){if(An)return t==="compositionend"||!Ga&&rh(t,e)?(t=th(),as=Va=Lt=null,An=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nh&&e.locale!=="ko"?null:e.data;default:return null}}var k_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k_[t.type]:e==="textarea"}function sh(t,e,n,r){Ff(r),e=xs(e,"onChange"),0<e.length&&(n=new $a("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wr=null,si=null;function x_(t){gh(t,0)}function ao(t){var e=Fn(t);if(Rf(e))return t}function T_(t,e){if(t==="change")return e}var oh=!1;if(wt){var Uo;if(wt){var Wo="oninput"in document;if(!Wo){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),Wo=typeof Ic.oninput=="function"}Uo=Wo}else Uo=!1;oh=Uo&&(!document.documentMode||9<document.documentMode)}function Nc(){Wr&&(Wr.detachEvent("onpropertychange",lh),si=Wr=null)}function lh(t){if(t.propertyName==="value"&&ao(si)){var e=[];sh(e,si,t,ba(t)),Bf(x_,e)}}function I_(t,e,n){t==="focusin"?(Nc(),Wr=e,si=n,Wr.attachEvent("onpropertychange",lh)):t==="focusout"&&Nc()}function N_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ao(si)}function R_(t,e){if(t==="click")return ao(e)}function P_(t,e){if(t==="input"||t==="change")return ao(e)}function D_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lt=typeof Object.is=="function"?Object.is:D_;function oi(t,e){if(lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_l.call(e,i)||!lt(t[i],e[i]))return!1}return!0}function Rc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pc(t,e){var n=Rc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rc(n)}}function ah(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ah(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uh(){for(var t=window,e=vs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vs(t.document)}return e}function Ka(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function O_(t){var e=uh(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ah(n.ownerDocument.documentElement,n)){if(r!==null&&Ka(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Pc(n,s);var o=Pc(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A_=wt&&"documentMode"in document&&11>=document.documentMode,Mn=null,Fl=null,Hr=null,jl=!1;function Dc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jl||Mn==null||Mn!==vs(r)||(r=Mn,"selectionStart"in r&&Ka(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hr&&oi(Hr,r)||(Hr=r,r=xs(Fl,"onSelect"),0<r.length&&(e=new $a("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mn)))}function Gi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ln={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},Ho={},ch={};wt&&(ch=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function uo(t){if(Ho[t])return Ho[t];if(!Ln[t])return t;var e=Ln[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ch)return Ho[t]=e[n];return t}var dh=uo("animationend"),fh=uo("animationiteration"),hh=uo("animationstart"),ph=uo("transitionend"),mh=new Map,Oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(t,e){mh.set(t,e),xn(e,[t])}for(var Vo=0;Vo<Oc.length;Vo++){var $o=Oc[Vo],M_=$o.toLowerCase(),L_=$o[0].toUpperCase()+$o.slice(1);Jt(M_,"on"+L_)}Jt(dh,"onAnimationEnd");Jt(fh,"onAnimationIteration");Jt(hh,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(ph,"onTransitionEnd");er("onMouseEnter",["mouseout","mouseover"]);er("onMouseLeave",["mouseout","mouseover"]);er("onPointerEnter",["pointerout","pointerover"]);er("onPointerLeave",["pointerout","pointerover"]);xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F_=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function Ac(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Mg(r,e,void 0,t),t.currentTarget=null}function gh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Ac(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Ac(i,l,u),s=a}}}if(ws)throw t=Ol,ws=!1,Ol=null,t}function G(t,e){var n=e[Wl];n===void 0&&(n=e[Wl]=new Set);var r=t+"__bubble";n.has(r)||(_h(e,t,2,!1),n.add(r))}function Qo(t,e,n){var r=0;e&&(r|=4),_h(n,t,r,e)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function li(t){if(!t[Ki]){t[Ki]=!0,kf.forEach(function(n){n!=="selectionchange"&&(F_.has(n)||Qo(n,!1,t),Qo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ki]||(e[Ki]=!0,Qo("selectionchange",!1,e))}}function _h(t,e,n,r){switch(eh(e)){case 1:var i=qg;break;case 4:i=Xg;break;default:i=Ha}n=i.bind(null,e,n,t),i=void 0,!Dl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Go(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=un(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Bf(function(){var u=s,f=ba(n),c=[];e:{var d=mh.get(t);if(d!==void 0){var _=$a,v=t;switch(t){case"keypress":if(us(n)===0)break e;case"keydown":case"keyup":_=f_;break;case"focusin":v="focus",_=Bo;break;case"focusout":v="blur",_=Bo;break;case"beforeblur":case"afterblur":_=Bo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=e_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=m_;break;case dh:case fh:case hh:_=r_;break;case ph:_=__;break;case"scroll":_=Jg;break;case"wheel":_=y_;break;case"copy":case"cut":case"paste":_=s_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Sc}var C=(e&4)!==0,A=!C&&t==="scroll",p=C?d!==null?d+"Capture":null:d;C=[];for(var h=u,g;h!==null;){g=h;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,p!==null&&(E=ti(h,p),E!=null&&C.push(ai(h,E,g)))),A)break;h=h.return}0<C.length&&(d=new _(d,v,null,n,f),c.push({event:d,listeners:C}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",d&&n!==Rl&&(v=n.relatedTarget||n.fromElement)&&(un(v)||v[Ct]))break e;if((_||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,_?(v=n.relatedTarget||n.toElement,_=u,v=v?un(v):null,v!==null&&(A=Tn(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(_=null,v=u),_!==v)){if(C=Cc,E="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(C=Sc,E="onPointerLeave",p="onPointerEnter",h="pointer"),A=_==null?d:Fn(_),g=v==null?d:Fn(v),d=new C(E,h+"leave",_,n,f),d.target=A,d.relatedTarget=g,E=null,un(f)===u&&(C=new C(p,h+"enter",v,n,f),C.target=g,C.relatedTarget=A,E=C),A=E,_&&v)t:{for(C=_,p=v,h=0,g=C;g;g=Rn(g))h++;for(g=0,E=p;E;E=Rn(E))g++;for(;0<h-g;)C=Rn(C),h--;for(;0<g-h;)p=Rn(p),g--;for(;h--;){if(C===p||p!==null&&C===p.alternate)break t;C=Rn(C),p=Rn(p)}C=null}else C=null;_!==null&&Mc(c,d,_,C,!1),v!==null&&A!==null&&Mc(c,A,v,C,!0)}}e:{if(d=u?Fn(u):window,_=d.nodeName&&d.nodeName.toLowerCase(),_==="select"||_==="input"&&d.type==="file")var x=T_;else if(Tc(d))if(oh)x=P_;else{x=N_;var N=I_}else(_=d.nodeName)&&_.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=R_);if(x&&(x=x(t,u))){sh(c,x,n,f);break e}N&&N(t,d,u),t==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&kl(d,"number",d.value)}switch(N=u?Fn(u):window,t){case"focusin":(Tc(N)||N.contentEditable==="true")&&(Mn=N,Fl=u,Hr=null);break;case"focusout":Hr=Fl=Mn=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,Dc(c,n,f);break;case"selectionchange":if(A_)break;case"keydown":case"keyup":Dc(c,n,f)}var R;if(Ga)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else An?rh(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(nh&&n.locale!=="ko"&&(An||P!=="onCompositionStart"?P==="onCompositionEnd"&&An&&(R=th()):(Lt=f,Va="value"in Lt?Lt.value:Lt.textContent,An=!0)),N=xs(u,P),0<N.length&&(P=new Ec(P,t,null,n,f),c.push({event:P,listeners:N}),R?P.data=R:(R=ih(n),R!==null&&(P.data=R)))),(R=C_?E_(t,n):S_(t,n))&&(u=xs(u,"onBeforeInput"),0<u.length&&(f=new Ec("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=R))}gh(c,e)})}function ai(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ti(t,n),s!=null&&r.unshift(ai(t,s,i)),s=ti(t,e),s!=null&&r.push(ai(t,s,i))),t=t.return}return r}function Rn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ti(n,s),a!=null&&o.unshift(ai(n,a,l))):i||(a=ti(n,s),a!=null&&o.push(ai(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var j_=/\r\n?/g,z_=/\u0000|\uFFFD/g;function Lc(t){return(typeof t=="string"?t:""+t).replace(j_,`
`).replace(z_,"")}function Yi(t,e,n){if(e=Lc(e),Lc(t)!==e&&n)throw Error(S(425))}function Ts(){}var zl=null,bl=null;function Bl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,b_=typeof clearTimeout=="function"?clearTimeout:void 0,Fc=typeof Promise=="function"?Promise:void 0,B_=typeof queueMicrotask=="function"?queueMicrotask:typeof Fc<"u"?function(t){return Fc.resolve(null).then(t).catch(U_)}:Ul;function U_(t){setTimeout(function(){throw t})}function Ko(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ii(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ii(e)}function Bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),ct="__reactFiber$"+hr,ui="__reactProps$"+hr,Ct="__reactContainer$"+hr,Wl="__reactEvents$"+hr,W_="__reactListeners$"+hr,H_="__reactHandles$"+hr;function un(t){var e=t[ct];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ct]||n[ct]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jc(t);t!==null;){if(n=t[ct])return n;t=jc(t)}return e}t=n,n=t.parentNode}return null}function Ni(t){return t=t[ct]||t[Ct],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function co(t){return t[ui]||null}var Hl=[],jn=-1;function Zt(t){return{current:t}}function Y(t){0>jn||(t.current=Hl[jn],Hl[jn]=null,jn--)}function Q(t,e){jn++,Hl[jn]=t.current,t.current=e}var Yt={},Se=Zt(Yt),Ae=Zt(!1),gn=Yt;function tr(t,e){var n=t.type.contextTypes;if(!n)return Yt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Me(t){return t=t.childContextTypes,t!=null}function Is(){Y(Ae),Y(Se)}function zc(t,e,n){if(Se.current!==Yt)throw Error(S(168));Q(Se,e),Q(Ae,n)}function vh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(S(108,Ig(t)||"Unknown",i));return ee({},n,r)}function Ns(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yt,gn=Se.current,Q(Se,t),Q(Ae,Ae.current),!0}function bc(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=vh(t,e,gn),r.__reactInternalMemoizedMergedChildContext=t,Y(Ae),Y(Se),Q(Se,t)):Y(Ae),Q(Ae,n)}var pt=null,fo=!1,Yo=!1;function yh(t){pt===null?pt=[t]:pt.push(t)}function V_(t){fo=!0,yh(t)}function en(){if(!Yo&&pt!==null){Yo=!0;var t=0,e=W;try{var n=pt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pt=null,fo=!1}catch(i){throw pt!==null&&(pt=pt.slice(t+1)),Vf(Ba,en),i}finally{W=e,Yo=!1}}return null}var zn=[],bn=0,Rs=null,Ps=0,$e=[],Qe=0,_n=null,mt=1,gt="";function sn(t,e){zn[bn++]=Ps,zn[bn++]=Rs,Rs=t,Ps=e}function wh(t,e,n){$e[Qe++]=mt,$e[Qe++]=gt,$e[Qe++]=_n,_n=t;var r=mt;t=gt;var i=32-it(r)-1;r&=~(1<<i),n+=1;var s=32-it(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mt=1<<32-it(e)+i|n<<i|r,gt=s+t}else mt=1<<s|n<<i|r,gt=t}function Ya(t){t.return!==null&&(sn(t,1),wh(t,1,0))}function qa(t){for(;t===Rs;)Rs=zn[--bn],zn[bn]=null,Ps=zn[--bn],zn[bn]=null;for(;t===_n;)_n=$e[--Qe],$e[Qe]=null,gt=$e[--Qe],$e[Qe]=null,mt=$e[--Qe],$e[Qe]=null}var Ue=null,Be=null,q=!1,et=null;function Ch(t,e){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ue=t,Be=Bt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ue=t,Be=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_n!==null?{id:mt,overflow:gt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ue=t,Be=null,!0):!1;default:return!1}}function Vl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $l(t){if(q){var e=Be;if(e){var n=e;if(!Bc(t,e)){if(Vl(t))throw Error(S(418));e=Bt(n.nextSibling);var r=Ue;e&&Bc(t,e)?Ch(r,n):(t.flags=t.flags&-4097|2,q=!1,Ue=t)}}else{if(Vl(t))throw Error(S(418));t.flags=t.flags&-4097|2,q=!1,Ue=t}}}function Uc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ue=t}function qi(t){if(t!==Ue)return!1;if(!q)return Uc(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bl(t.type,t.memoizedProps)),e&&(e=Be)){if(Vl(t))throw Eh(),Error(S(418));for(;e;)Ch(t,e),e=Bt(e.nextSibling)}if(Uc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Be=Bt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Be=null}}else Be=Ue?Bt(t.stateNode.nextSibling):null;return!0}function Eh(){for(var t=Be;t;)t=Bt(t.nextSibling)}function nr(){Be=Ue=null,q=!1}function Xa(t){et===null?et=[t]:et.push(t)}var $_=It.ReactCurrentBatchConfig;function Tr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function Xi(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wc(t){var e=t._init;return e(t._payload)}function Sh(t){function e(p,h){if(t){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=Vt(p,h),p.index=0,p.sibling=null,p}function s(p,h,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,h,g,E){return h===null||h.tag!==6?(h=nl(g,p.mode,E),h.return=p,h):(h=i(h,g),h.return=p,h)}function a(p,h,g,E){var x=g.type;return x===On?f(p,h,g.props.children,E,g.key):h!==null&&(h.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Dt&&Wc(x)===h.type)?(E=i(h,g.props),E.ref=Tr(p,h,g),E.return=p,E):(E=gs(g.type,g.key,g.props,null,p.mode,E),E.ref=Tr(p,h,g),E.return=p,E)}function u(p,h,g,E){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=rl(g,p.mode,E),h.return=p,h):(h=i(h,g.children||[]),h.return=p,h)}function f(p,h,g,E,x){return h===null||h.tag!==7?(h=mn(g,p.mode,E,x),h.return=p,h):(h=i(h,g),h.return=p,h)}function c(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=nl(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Bi:return g=gs(h.type,h.key,h.props,null,p.mode,g),g.ref=Tr(p,null,h),g.return=p,g;case Dn:return h=rl(h,p.mode,g),h.return=p,h;case Dt:var E=h._init;return c(p,E(h._payload),g)}if(Fr(h)||Cr(h))return h=mn(h,p.mode,g,null),h.return=p,h;Xi(p,h)}return null}function d(p,h,g,E){var x=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:l(p,h,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bi:return g.key===x?a(p,h,g,E):null;case Dn:return g.key===x?u(p,h,g,E):null;case Dt:return x=g._init,d(p,h,x(g._payload),E)}if(Fr(g)||Cr(g))return x!==null?null:f(p,h,g,E,null);Xi(p,g)}return null}function _(p,h,g,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(g)||null,l(h,p,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Bi:return p=p.get(E.key===null?g:E.key)||null,a(h,p,E,x);case Dn:return p=p.get(E.key===null?g:E.key)||null,u(h,p,E,x);case Dt:var N=E._init;return _(p,h,g,N(E._payload),x)}if(Fr(E)||Cr(E))return p=p.get(g)||null,f(h,p,E,x,null);Xi(h,E)}return null}function v(p,h,g,E){for(var x=null,N=null,R=h,P=h=0,X=null;R!==null&&P<g.length;P++){R.index>P?(X=R,R=null):X=R.sibling;var j=d(p,R,g[P],E);if(j===null){R===null&&(R=X);break}t&&R&&j.alternate===null&&e(p,R),h=s(j,h,P),N===null?x=j:N.sibling=j,N=j,R=X}if(P===g.length)return n(p,R),q&&sn(p,P),x;if(R===null){for(;P<g.length;P++)R=c(p,g[P],E),R!==null&&(h=s(R,h,P),N===null?x=R:N.sibling=R,N=R);return q&&sn(p,P),x}for(R=r(p,R);P<g.length;P++)X=_(R,p,P,g[P],E),X!==null&&(t&&X.alternate!==null&&R.delete(X.key===null?P:X.key),h=s(X,h,P),N===null?x=X:N.sibling=X,N=X);return t&&R.forEach(function(ze){return e(p,ze)}),q&&sn(p,P),x}function C(p,h,g,E){var x=Cr(g);if(typeof x!="function")throw Error(S(150));if(g=x.call(g),g==null)throw Error(S(151));for(var N=x=null,R=h,P=h=0,X=null,j=g.next();R!==null&&!j.done;P++,j=g.next()){R.index>P?(X=R,R=null):X=R.sibling;var ze=d(p,R,j.value,E);if(ze===null){R===null&&(R=X);break}t&&R&&ze.alternate===null&&e(p,R),h=s(ze,h,P),N===null?x=ze:N.sibling=ze,N=ze,R=X}if(j.done)return n(p,R),q&&sn(p,P),x;if(R===null){for(;!j.done;P++,j=g.next())j=c(p,j.value,E),j!==null&&(h=s(j,h,P),N===null?x=j:N.sibling=j,N=j);return q&&sn(p,P),x}for(R=r(p,R);!j.done;P++,j=g.next())j=_(R,p,P,j.value,E),j!==null&&(t&&j.alternate!==null&&R.delete(j.key===null?P:j.key),h=s(j,h,P),N===null?x=j:N.sibling=j,N=j);return t&&R.forEach(function(nn){return e(p,nn)}),q&&sn(p,P),x}function A(p,h,g,E){if(typeof g=="object"&&g!==null&&g.type===On&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Bi:e:{for(var x=g.key,N=h;N!==null;){if(N.key===x){if(x=g.type,x===On){if(N.tag===7){n(p,N.sibling),h=i(N,g.props.children),h.return=p,p=h;break e}}else if(N.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Dt&&Wc(x)===N.type){n(p,N.sibling),h=i(N,g.props),h.ref=Tr(p,N,g),h.return=p,p=h;break e}n(p,N);break}else e(p,N);N=N.sibling}g.type===On?(h=mn(g.props.children,p.mode,E,g.key),h.return=p,p=h):(E=gs(g.type,g.key,g.props,null,p.mode,E),E.ref=Tr(p,h,g),E.return=p,p=E)}return o(p);case Dn:e:{for(N=g.key;h!==null;){if(h.key===N)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=i(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=rl(g,p.mode,E),h.return=p,p=h}return o(p);case Dt:return N=g._init,A(p,h,N(g._payload),E)}if(Fr(g))return v(p,h,g,E);if(Cr(g))return C(p,h,g,E);Xi(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,g),h.return=p,p=h):(n(p,h),h=nl(g,p.mode,E),h.return=p,p=h),o(p)):n(p,h)}return A}var rr=Sh(!0),kh=Sh(!1),Ds=Zt(null),Os=null,Bn=null,Ja=null;function Za(){Ja=Bn=Os=null}function eu(t){var e=Ds.current;Y(Ds),t._currentValue=e}function Ql(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Kn(t,e){Os=t,Ja=Bn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function Ye(t){var e=t._currentValue;if(Ja!==t)if(t={context:t,memoizedValue:e,next:null},Bn===null){if(Os===null)throw Error(S(308));Bn=t,Os.dependencies={lanes:0,firstContext:t}}else Bn=Bn.next=t;return e}var cn=null;function tu(t){cn===null?cn=[t]:cn.push(t)}function xh(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,tu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Et(t,r)}function Et(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ot=!1;function nu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Th(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ut(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Et(t,n)}return i=r.interleaved,i===null?(e.next=e,tu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Et(t,n)}function cs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ua(t,n)}}function Hc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function As(t,e,n,r){var i=t.updateQueue;Ot=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(s!==null){var c=i.baseState;o=0,f=u=a=null,l=s;do{var d=l.lane,_=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,C=l;switch(d=e,_=n,C.tag){case 1:if(v=C.payload,typeof v=="function"){c=v.call(_,c,d);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=C.payload,d=typeof v=="function"?v.call(_,c,d):v,d==null)break e;c=ee({},c,d);break e;case 2:Ot=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else _={eventTime:_,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=_,a=c):f=f.next=_,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yn|=o,t.lanes=o,t.memoizedState=c}}function Vc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(S(191,i));i.call(r)}}}var Ri={},ft=Zt(Ri),ci=Zt(Ri),di=Zt(Ri);function dn(t){if(t===Ri)throw Error(S(174));return t}function ru(t,e){switch(Q(di,e),Q(ci,t),Q(ft,Ri),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tl(e,t)}Y(ft),Q(ft,e)}function ir(){Y(ft),Y(ci),Y(di)}function Ih(t){dn(di.current);var e=dn(ft.current),n=Tl(e,t.type);e!==n&&(Q(ci,t),Q(ft,n))}function iu(t){ci.current===t&&(Y(ft),Y(ci))}var J=Zt(0);function Ms(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qo=[];function su(){for(var t=0;t<qo.length;t++)qo[t]._workInProgressVersionPrimary=null;qo.length=0}var ds=It.ReactCurrentDispatcher,Xo=It.ReactCurrentBatchConfig,vn=0,Z=null,oe=null,ce=null,Ls=!1,Vr=!1,fi=0,Q_=0;function ye(){throw Error(S(321))}function ou(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lt(t[n],e[n]))return!1;return!0}function lu(t,e,n,r,i,s){if(vn=s,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ds.current=t===null||t.memoizedState===null?q_:X_,t=n(r,i),Vr){s=0;do{if(Vr=!1,fi=0,25<=s)throw Error(S(301));s+=1,ce=oe=null,e.updateQueue=null,ds.current=J_,t=n(r,i)}while(Vr)}if(ds.current=Fs,e=oe!==null&&oe.next!==null,vn=0,ce=oe=Z=null,Ls=!1,e)throw Error(S(300));return t}function au(){var t=fi!==0;return fi=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?Z.memoizedState=ce=t:ce=ce.next=t,ce}function qe(){if(oe===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=ce===null?Z.memoizedState:ce.next;if(e!==null)ce=e,oe=t;else{if(t===null)throw Error(S(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ce===null?Z.memoizedState=ce=t:ce=ce.next=t}return ce}function hi(t,e){return typeof e=="function"?e(t):e}function Jo(t){var e=qe(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=oe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var f=u.lane;if((vn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,Z.lanes|=f,yn|=f}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,lt(r,e.memoizedState)||(Pe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Z.lanes|=s,yn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zo(t){var e=qe(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);lt(s,e.memoizedState)||(Pe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Nh(){}function Rh(t,e){var n=Z,r=qe(),i=e(),s=!lt(r.memoizedState,i);if(s&&(r.memoizedState=i,Pe=!0),r=r.queue,uu(Oh.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,pi(9,Dh.bind(null,n,r,i,e),void 0,null),he===null)throw Error(S(349));vn&30||Ph(n,e,i)}return i}function Ph(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dh(t,e,n,r){e.value=n,e.getSnapshot=r,Ah(e)&&Mh(t)}function Oh(t,e,n){return n(function(){Ah(e)&&Mh(t)})}function Ah(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lt(t,n)}catch{return!0}}function Mh(t){var e=Et(t,1);e!==null&&st(e,t,1,-1)}function $c(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:t},e.queue=t,t=t.dispatch=Y_.bind(null,Z,t),[e.memoizedState,t]}function pi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Lh(){return qe().memoizedState}function fs(t,e,n,r){var i=ut();Z.flags|=t,i.memoizedState=pi(1|e,n,void 0,r===void 0?null:r)}function ho(t,e,n,r){var i=qe();r=r===void 0?null:r;var s=void 0;if(oe!==null){var o=oe.memoizedState;if(s=o.destroy,r!==null&&ou(r,o.deps)){i.memoizedState=pi(e,n,s,r);return}}Z.flags|=t,i.memoizedState=pi(1|e,n,s,r)}function Qc(t,e){return fs(8390656,8,t,e)}function uu(t,e){return ho(2048,8,t,e)}function Fh(t,e){return ho(4,2,t,e)}function jh(t,e){return ho(4,4,t,e)}function zh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bh(t,e,n){return n=n!=null?n.concat([t]):null,ho(4,4,zh.bind(null,e,t),n)}function cu(){}function Bh(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ou(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Uh(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ou(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Wh(t,e,n){return vn&21?(lt(n,e)||(n=Gf(),Z.lanes|=n,yn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=n)}function G_(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=Xo.transition;Xo.transition={};try{t(!1),e()}finally{W=n,Xo.transition=r}}function Hh(){return qe().memoizedState}function K_(t,e,n){var r=Ht(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vh(t))$h(e,n);else if(n=xh(t,e,n,r),n!==null){var i=Te();st(n,t,r,i),Qh(n,e,r)}}function Y_(t,e,n){var r=Ht(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vh(t))$h(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,lt(l,o)){var a=e.interleaved;a===null?(i.next=i,tu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=xh(t,e,i,r),n!==null&&(i=Te(),st(n,t,r,i),Qh(n,e,r))}}function Vh(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function $h(t,e){Vr=Ls=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ua(t,n)}}var Fs={readContext:Ye,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},q_={readContext:Ye,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:Qc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fs(4194308,4,zh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fs(4194308,4,t,e)},useInsertionEffect:function(t,e){return fs(4,2,t,e)},useMemo:function(t,e){var n=ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ut();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=K_.bind(null,Z,t),[r.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:$c,useDebugValue:cu,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=$c(!1),e=t[0];return t=G_.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Z,i=ut();if(q){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),he===null)throw Error(S(349));vn&30||Ph(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Qc(Oh.bind(null,r,s,t),[t]),r.flags|=2048,pi(9,Dh.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ut(),e=he.identifierPrefix;if(q){var n=gt,r=mt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Q_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},X_={readContext:Ye,useCallback:Bh,useContext:Ye,useEffect:uu,useImperativeHandle:bh,useInsertionEffect:Fh,useLayoutEffect:jh,useMemo:Uh,useReducer:Jo,useRef:Lh,useState:function(){return Jo(hi)},useDebugValue:cu,useDeferredValue:function(t){var e=qe();return Wh(e,oe.memoizedState,t)},useTransition:function(){var t=Jo(hi)[0],e=qe().memoizedState;return[t,e]},useMutableSource:Nh,useSyncExternalStore:Rh,useId:Hh,unstable_isNewReconciler:!1},J_={readContext:Ye,useCallback:Bh,useContext:Ye,useEffect:uu,useImperativeHandle:bh,useInsertionEffect:Fh,useLayoutEffect:jh,useMemo:Uh,useReducer:Zo,useRef:Lh,useState:function(){return Zo(hi)},useDebugValue:cu,useDeferredValue:function(t){var e=qe();return oe===null?e.memoizedState=t:Wh(e,oe.memoizedState,t)},useTransition:function(){var t=Zo(hi)[0],e=qe().memoizedState;return[t,e]},useMutableSource:Nh,useSyncExternalStore:Rh,useId:Hh,unstable_isNewReconciler:!1};function Je(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var po={isMounted:function(t){return(t=t._reactInternals)?Tn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Te(),i=Ht(t),s=vt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ut(t,s,i),e!==null&&(st(e,t,i,r),cs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Te(),i=Ht(t),s=vt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ut(t,s,i),e!==null&&(st(e,t,i,r),cs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Te(),r=Ht(t),i=vt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ut(t,i,r),e!==null&&(st(e,t,r,n),cs(e,t,r))}};function Gc(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!oi(n,r)||!oi(i,s):!0}function Gh(t,e,n){var r=!1,i=Yt,s=e.contextType;return typeof s=="object"&&s!==null?s=Ye(s):(i=Me(e)?gn:Se.current,r=e.contextTypes,s=(r=r!=null)?tr(t,i):Yt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=po,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Kc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&po.enqueueReplaceState(e,e.state,null)}function Kl(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},nu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ye(s):(s=Me(e)?gn:Se.current,i.context=tr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gl(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&po.enqueueReplaceState(i,i.state,null),As(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function sr(t,e){try{var n="",r=e;do n+=Tg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function el(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z_=typeof WeakMap=="function"?WeakMap:Map;function Kh(t,e,n){n=vt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zs||(zs=!0,sa=r),Yl(t,e)},n}function Yh(t,e,n){n=vt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yl(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yl(t,e),typeof r!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hv.bind(null,t,e,n),e.then(t,t))}function qc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vt(-1,1),e.tag=2,Ut(n,e,1))),n.lanes|=1),t)}var ev=It.ReactCurrentOwner,Pe=!1;function xe(t,e,n,r){e.child=t===null?kh(e,null,n,r):rr(e,t.child,n,r)}function Jc(t,e,n,r,i){n=n.render;var s=e.ref;return Kn(e,i),r=lu(t,e,n,r,s,i),n=au(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,St(t,e,i)):(q&&n&&Ya(e),e.flags|=1,xe(t,e,r,i),e.child)}function Zc(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!vu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qh(t,e,s,r,i)):(t=gs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:oi,n(o,r)&&t.ref===e.ref)return St(t,e,i)}return e.flags|=1,t=Vt(s,r),t.ref=e.ref,t.return=e,e.child=t}function qh(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(oi(s,r)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,St(t,e,i)}return ql(t,e,n,r,i)}function Xh(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(Wn,be),be|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(Wn,be),be|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Q(Wn,be),be|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Q(Wn,be),be|=r;return xe(t,e,i,n),e.child}function Jh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ql(t,e,n,r,i){var s=Me(n)?gn:Se.current;return s=tr(e,s),Kn(e,i),n=lu(t,e,n,r,s,i),r=au(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,St(t,e,i)):(q&&r&&Ya(e),e.flags|=1,xe(t,e,n,i),e.child)}function ed(t,e,n,r,i){if(Me(n)){var s=!0;Ns(e)}else s=!1;if(Kn(e,i),e.stateNode===null)hs(t,e),Gh(e,n,r),Kl(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ye(u):(u=Me(n)?gn:Se.current,u=tr(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Kc(e,o,r,u),Ot=!1;var d=e.memoizedState;o.state=d,As(e,r,o,i),a=e.memoizedState,l!==r||d!==a||Ae.current||Ot?(typeof f=="function"&&(Gl(e,n,f,r),a=e.memoizedState),(l=Ot||Gc(e,n,l,r,d,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Th(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Je(e.type,l),o.props=u,c=e.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ye(a):(a=Me(n)?gn:Se.current,a=tr(e,a));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==a)&&Kc(e,o,r,a),Ot=!1,d=e.memoizedState,o.state=d,As(e,r,o,i);var v=e.memoizedState;l!==c||d!==v||Ae.current||Ot?(typeof _=="function"&&(Gl(e,n,_,r),v=e.memoizedState),(u=Ot||Gc(e,n,u,r,d,v,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Xl(t,e,n,r,s,i)}function Xl(t,e,n,r,i,s){Jh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&bc(e,n,!1),St(t,e,s);r=e.stateNode,ev.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=rr(e,t.child,null,s),e.child=rr(e,null,l,s)):xe(t,e,l,s),e.memoizedState=r.state,i&&bc(e,n,!0),e.child}function Zh(t){var e=t.stateNode;e.pendingContext?zc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zc(t,e.context,!1),ru(t,e.containerInfo)}function td(t,e,n,r,i){return nr(),Xa(i),e.flags|=256,xe(t,e,n,r),e.child}var Jl={dehydrated:null,treeContext:null,retryLane:0};function Zl(t){return{baseLanes:t,cachePool:null,transitions:null}}function ep(t,e,n){var r=e.pendingProps,i=J.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Q(J,i&1),t===null)return $l(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_o(o,r,0,null),t=mn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zl(n),e.memoizedState=Jl,t):du(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return tv(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Vt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Vt(l,s):(s=mn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Zl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Jl,r}return s=t.child,t=s.sibling,r=Vt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function du(t,e){return e=_o({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ji(t,e,n,r){return r!==null&&Xa(r),rr(e,t.child,null,n),t=du(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tv(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=el(Error(S(422))),Ji(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_o({mode:"visible",children:r.children},i,0,null),s=mn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&rr(e,t.child,null,o),e.child.memoizedState=Zl(o),e.memoizedState=Jl,s);if(!(e.mode&1))return Ji(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(S(419)),r=el(s,r,void 0),Ji(t,e,o,r)}if(l=(o&t.childLanes)!==0,Pe||l){if(r=he,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Et(t,i),st(r,t,i,-1))}return _u(),r=el(Error(S(421))),Ji(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pv.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Be=Bt(i.nextSibling),Ue=e,q=!0,et=null,t!==null&&($e[Qe++]=mt,$e[Qe++]=gt,$e[Qe++]=_n,mt=t.id,gt=t.overflow,_n=e),e=du(e,r.children),e.flags|=4096,e)}function nd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ql(t.return,e,n)}function tl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xe(t,e,r.children,n),r=J.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nd(t,n,e);else if(t.tag===19)nd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Q(J,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ms(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ms(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tl(e,!0,n,null,s);break;case"together":tl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function St(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Vt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nv(t,e,n){switch(e.tag){case 3:Zh(e),nr();break;case 5:Ih(e);break;case 1:Me(e.type)&&Ns(e);break;case 4:ru(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Q(Ds,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Q(J,J.current&1),e.flags|=128,null):n&e.child.childLanes?ep(t,e,n):(Q(J,J.current&1),t=St(t,e,n),t!==null?t.sibling:null);Q(J,J.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(J,J.current),r)break;return null;case 22:case 23:return e.lanes=0,Xh(t,e,n)}return St(t,e,n)}var np,ea,rp,ip;np=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ea=function(){};rp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,dn(ft.current);var s=null;switch(n){case"input":i=El(t,i),r=El(t,r),s=[];break;case"select":i=ee({},i,{value:void 0}),r=ee({},r,{value:void 0}),s=[];break;case"textarea":i=xl(t,i),r=xl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ts)}Il(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&G("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ip=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ir(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function we(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rv(t,e,n){var r=e.pendingProps;switch(qa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(e),null;case 1:return Me(e.type)&&Is(),we(e),null;case 3:return r=e.stateNode,ir(),Y(Ae),Y(Se),su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(aa(et),et=null))),ea(t,e),we(e),null;case 5:iu(e);var i=dn(di.current);if(n=e.type,t!==null&&e.stateNode!=null)rp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return we(e),null}if(t=dn(ft.current),qi(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ct]=e,r[ui]=s,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(i=0;i<zr.length;i++)G(zr[i],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":dc(r,s),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},G("invalid",r);break;case"textarea":hc(r,s),G("invalid",r)}Il(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Yi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Yi(r.textContent,l,t),i=["children",""+l]):Zr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":Ui(r),fc(r,s,!0);break;case"textarea":Ui(r),pc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ts)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Of(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ct]=e,t[ui]=r,np(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nl(n,r),n){case"dialog":G("cancel",t),G("close",t),i=r;break;case"iframe":case"object":case"embed":G("load",t),i=r;break;case"video":case"audio":for(i=0;i<zr.length;i++)G(zr[i],t);i=r;break;case"source":G("error",t),i=r;break;case"img":case"image":case"link":G("error",t),G("load",t),i=r;break;case"details":G("toggle",t),i=r;break;case"input":dc(t,r),i=El(t,r),G("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ee({},r,{value:void 0}),G("invalid",t);break;case"textarea":hc(t,r),i=xl(t,r),G("invalid",t);break;default:i=r}Il(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Lf(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Af(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ei(t,a):typeof a=="number"&&ei(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&G("scroll",t):a!=null&&La(t,s,a,o))}switch(n){case"input":Ui(t),fc(t,r,!1);break;case"textarea":Ui(t),pc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Vn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Vn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ts)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return we(e),null;case 6:if(t&&e.stateNode!=null)ip(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=dn(di.current),dn(ft.current),qi(e)){if(r=e.stateNode,n=e.memoizedProps,r[ct]=e,(s=r.nodeValue!==n)&&(t=Ue,t!==null))switch(t.tag){case 3:Yi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yi(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=e,e.stateNode=r}return we(e),null;case 13:if(Y(J),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Be!==null&&e.mode&1&&!(e.flags&128))Eh(),nr(),e.flags|=98560,s=!1;else if(s=qi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(S(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(S(317));s[ct]=e}else nr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),s=!1}else et!==null&&(aa(et),et=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||J.current&1?ae===0&&(ae=3):_u())),e.updateQueue!==null&&(e.flags|=4),we(e),null);case 4:return ir(),ea(t,e),t===null&&li(e.stateNode.containerInfo),we(e),null;case 10:return eu(e.type._context),we(e),null;case 17:return Me(e.type)&&Is(),we(e),null;case 19:if(Y(J),s=e.memoizedState,s===null)return we(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ir(s,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ms(t),o!==null){for(e.flags|=128,Ir(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Q(J,J.current&1|2),e.child}t=t.sibling}s.tail!==null&&ie()>or&&(e.flags|=128,r=!0,Ir(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ms(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ir(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!q)return we(e),null}else 2*ie()-s.renderingStartTime>or&&n!==1073741824&&(e.flags|=128,r=!0,Ir(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ie(),e.sibling=null,n=J.current,Q(J,r?n&1|2:n&1),e):(we(e),null);case 22:case 23:return gu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?be&1073741824&&(we(e),e.subtreeFlags&6&&(e.flags|=8192)):we(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function iv(t,e){switch(qa(e),e.tag){case 1:return Me(e.type)&&Is(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ir(),Y(Ae),Y(Se),su(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return iu(e),null;case 13:if(Y(J),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));nr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(J),null;case 4:return ir(),null;case 10:return eu(e.type._context),null;case 22:case 23:return gu(),null;case 24:return null;default:return null}}var Zi=!1,Ce=!1,sv=typeof WeakSet=="function"?WeakSet:Set,I=null;function Un(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(t,e,r)}else n.current=null}function ta(t,e,n){try{n()}catch(r){ne(t,e,r)}}var rd=!1;function ov(t,e){if(zl=Ss,t=uh(),Ka(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,c=t,d=null;t:for(;;){for(var _;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(_=c.firstChild)!==null;)d=c,c=_;for(;;){if(c===t)break t;if(d===n&&++u===i&&(l=o),d===s&&++f===r&&(a=o),(_=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(bl={focusedElem:t,selectionRange:n},Ss=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var C=v.memoizedProps,A=v.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?C:Je(e.type,C),A);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(E){ne(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return v=rd,rd=!1,v}function $r(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ta(e,n,s)}i=i.next}while(i!==r)}}function mo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function na(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sp(t){var e=t.alternate;e!==null&&(t.alternate=null,sp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ct],delete e[ui],delete e[Wl],delete e[W_],delete e[H_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function op(t){return t.tag===5||t.tag===3||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||op(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ra(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ts));else if(r!==4&&(t=t.child,t!==null))for(ra(t,e,n),t=t.sibling;t!==null;)ra(t,e,n),t=t.sibling}function ia(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ia(t,e,n),t=t.sibling;t!==null;)ia(t,e,n),t=t.sibling}var pe=null,Ze=!1;function Pt(t,e,n){for(n=n.child;n!==null;)lp(t,e,n),n=n.sibling}function lp(t,e,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(oo,n)}catch{}switch(n.tag){case 5:Ce||Un(n,e);case 6:var r=pe,i=Ze;pe=null,Pt(t,e,n),pe=r,Ze=i,pe!==null&&(Ze?(t=pe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pe.removeChild(n.stateNode));break;case 18:pe!==null&&(Ze?(t=pe,n=n.stateNode,t.nodeType===8?Ko(t.parentNode,n):t.nodeType===1&&Ko(t,n),ii(t)):Ko(pe,n.stateNode));break;case 4:r=pe,i=Ze,pe=n.stateNode.containerInfo,Ze=!0,Pt(t,e,n),pe=r,Ze=i;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ta(n,e,o),i=i.next}while(i!==r)}Pt(t,e,n);break;case 1:if(!Ce&&(Un(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ne(n,e,l)}Pt(t,e,n);break;case 21:Pt(t,e,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,Pt(t,e,n),Ce=r):Pt(t,e,n);break;default:Pt(t,e,n)}}function sd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sv),e.forEach(function(r){var i=mv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xe(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:pe=l.stateNode,Ze=!1;break e;case 3:pe=l.stateNode.containerInfo,Ze=!0;break e;case 4:pe=l.stateNode.containerInfo,Ze=!0;break e}l=l.return}if(pe===null)throw Error(S(160));lp(s,o,i),pe=null,Ze=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ne(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ap(e,t),e=e.sibling}function ap(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xe(e,t),at(t),r&4){try{$r(3,t,t.return),mo(3,t)}catch(C){ne(t,t.return,C)}try{$r(5,t,t.return)}catch(C){ne(t,t.return,C)}}break;case 1:Xe(e,t),at(t),r&512&&n!==null&&Un(n,n.return);break;case 5:if(Xe(e,t),at(t),r&512&&n!==null&&Un(n,n.return),t.flags&32){var i=t.stateNode;try{ei(i,"")}catch(C){ne(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Pf(i,s),Nl(l,o);var u=Nl(l,s);for(o=0;o<a.length;o+=2){var f=a[o],c=a[o+1];f==="style"?Lf(i,c):f==="dangerouslySetInnerHTML"?Af(i,c):f==="children"?ei(i,c):La(i,f,c,u)}switch(l){case"input":Sl(i,s);break;case"textarea":Df(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Vn(i,!!s.multiple,_,!1):d!==!!s.multiple&&(s.defaultValue!=null?Vn(i,!!s.multiple,s.defaultValue,!0):Vn(i,!!s.multiple,s.multiple?[]:"",!1))}i[ui]=s}catch(C){ne(t,t.return,C)}}break;case 6:if(Xe(e,t),at(t),r&4){if(t.stateNode===null)throw Error(S(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){ne(t,t.return,C)}}break;case 3:if(Xe(e,t),at(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(e.containerInfo)}catch(C){ne(t,t.return,C)}break;case 4:Xe(e,t),at(t);break;case 13:Xe(e,t),at(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pu=ie())),r&4&&sd(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ce=(u=Ce)||f,Xe(e,t),Ce=u):Xe(e,t),at(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(I=t,f=t.child;f!==null;){for(c=I=f;I!==null;){switch(d=I,_=d.child,d.tag){case 0:case 11:case 14:case 15:$r(4,d,d.return);break;case 1:Un(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(C){ne(r,n,C)}}break;case 5:Un(d,d.return);break;case 22:if(d.memoizedState!==null){ld(c);continue}}_!==null?(_.return=d,I=_):ld(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Mf("display",o))}catch(C){ne(t,t.return,C)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(C){ne(t,t.return,C)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Xe(e,t),at(t),r&4&&sd(t);break;case 21:break;default:Xe(e,t),at(t)}}function at(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(op(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ei(i,""),r.flags&=-33);var s=id(t);ia(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=id(t);ra(t,l,o);break;default:throw Error(S(161))}}catch(a){ne(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lv(t,e,n){I=t,up(t)}function up(t,e,n){for(var r=(t.mode&1)!==0;I!==null;){var i=I,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zi;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ce;l=Zi;var u=Ce;if(Zi=o,(Ce=a)&&!u)for(I=i;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?ad(i):a!==null?(a.return=o,I=a):ad(i);for(;s!==null;)I=s,up(s),s=s.sibling;I=i,Zi=l,Ce=u}od(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,I=s):od(t)}}function od(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ce||mo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Je(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Vc(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vc(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&ii(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}Ce||e.flags&512&&na(e)}catch(d){ne(e,e.return,d)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function ld(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function ad(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mo(4,e)}catch(a){ne(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ne(e,i,a)}}var s=e.return;try{na(e)}catch(a){ne(e,s,a)}break;case 5:var o=e.return;try{na(e)}catch(a){ne(e,o,a)}}}catch(a){ne(e,e.return,a)}if(e===t){I=null;break}var l=e.sibling;if(l!==null){l.return=e.return,I=l;break}I=e.return}}var av=Math.ceil,js=It.ReactCurrentDispatcher,fu=It.ReactCurrentOwner,Ke=It.ReactCurrentBatchConfig,B=0,he=null,se=null,ge=0,be=0,Wn=Zt(0),ae=0,mi=null,yn=0,go=0,hu=0,Qr=null,Re=null,pu=0,or=1/0,ht=null,zs=!1,sa=null,Wt=null,es=!1,Ft=null,bs=0,Gr=0,oa=null,ps=-1,ms=0;function Te(){return B&6?ie():ps!==-1?ps:ps=ie()}function Ht(t){return t.mode&1?B&2&&ge!==0?ge&-ge:$_.transition!==null?(ms===0&&(ms=Gf()),ms):(t=W,t!==0||(t=window.event,t=t===void 0?16:eh(t.type)),t):1}function st(t,e,n,r){if(50<Gr)throw Gr=0,oa=null,Error(S(185));Ti(t,n,r),(!(B&2)||t!==he)&&(t===he&&(!(B&2)&&(go|=n),ae===4&&Mt(t,ge)),Le(t,r),n===1&&B===0&&!(e.mode&1)&&(or=ie()+500,fo&&en()))}function Le(t,e){var n=t.callbackNode;$g(t,e);var r=Es(t,t===he?ge:0);if(r===0)n!==null&&_c(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_c(n),e===1)t.tag===0?V_(ud.bind(null,t)):yh(ud.bind(null,t)),B_(function(){!(B&6)&&en()}),n=null;else{switch(Kf(r)){case 1:n=Ba;break;case 4:n=$f;break;case 16:n=Cs;break;case 536870912:n=Qf;break;default:n=Cs}n=_p(n,cp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cp(t,e){if(ps=-1,ms=0,B&6)throw Error(S(327));var n=t.callbackNode;if(Yn()&&t.callbackNode!==n)return null;var r=Es(t,t===he?ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bs(t,r);else{e=r;var i=B;B|=2;var s=fp();(he!==t||ge!==e)&&(ht=null,or=ie()+500,pn(t,e));do try{dv();break}catch(l){dp(t,l)}while(!0);Za(),js.current=s,B=i,se!==null?e=0:(he=null,ge=0,e=ae)}if(e!==0){if(e===2&&(i=Al(t),i!==0&&(r=i,e=la(t,i))),e===1)throw n=mi,pn(t,0),Mt(t,r),Le(t,ie()),n;if(e===6)Mt(t,r);else{if(i=t.current.alternate,!(r&30)&&!uv(i)&&(e=Bs(t,r),e===2&&(s=Al(t),s!==0&&(r=s,e=la(t,s))),e===1))throw n=mi,pn(t,0),Mt(t,r),Le(t,ie()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:on(t,Re,ht);break;case 3:if(Mt(t,r),(r&130023424)===r&&(e=pu+500-ie(),10<e)){if(Es(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Te(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ul(on.bind(null,t,Re,ht),e);break}on(t,Re,ht);break;case 4:if(Mt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-it(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*av(r/1960))-r,10<r){t.timeoutHandle=Ul(on.bind(null,t,Re,ht),r);break}on(t,Re,ht);break;case 5:on(t,Re,ht);break;default:throw Error(S(329))}}}return Le(t,ie()),t.callbackNode===n?cp.bind(null,t):null}function la(t,e){var n=Qr;return t.current.memoizedState.isDehydrated&&(pn(t,e).flags|=256),t=Bs(t,e),t!==2&&(e=Re,Re=n,e!==null&&aa(e)),t}function aa(t){Re===null?Re=t:Re.push.apply(Re,t)}function uv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mt(t,e){for(e&=~hu,e&=~go,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-it(e),r=1<<n;t[n]=-1,e&=~r}}function ud(t){if(B&6)throw Error(S(327));Yn();var e=Es(t,0);if(!(e&1))return Le(t,ie()),null;var n=Bs(t,e);if(t.tag!==0&&n===2){var r=Al(t);r!==0&&(e=r,n=la(t,r))}if(n===1)throw n=mi,pn(t,0),Mt(t,e),Le(t,ie()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,on(t,Re,ht),Le(t,ie()),null}function mu(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(or=ie()+500,fo&&en())}}function wn(t){Ft!==null&&Ft.tag===0&&!(B&6)&&Yn();var e=B;B|=1;var n=Ke.transition,r=W;try{if(Ke.transition=null,W=1,t)return t()}finally{W=r,Ke.transition=n,B=e,!(B&6)&&en()}}function gu(){be=Wn.current,Y(Wn)}function pn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,b_(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(qa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Is();break;case 3:ir(),Y(Ae),Y(Se),su();break;case 5:iu(r);break;case 4:ir();break;case 13:Y(J);break;case 19:Y(J);break;case 10:eu(r.type._context);break;case 22:case 23:gu()}n=n.return}if(he=t,se=t=Vt(t.current,null),ge=be=e,ae=0,mi=null,hu=go=yn=0,Re=Qr=null,cn!==null){for(e=0;e<cn.length;e++)if(n=cn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}cn=null}return t}function dp(t,e){do{var n=se;try{if(Za(),ds.current=Fs,Ls){for(var r=Z.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ls=!1}if(vn=0,ce=oe=Z=null,Vr=!1,fi=0,fu.current=null,n===null||n.return===null){ae=1,mi=e,se=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=ge,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=qc(o);if(_!==null){_.flags&=-257,Xc(_,o,l,s,e),_.mode&1&&Yc(s,u,e),e=_,a=u;var v=e.updateQueue;if(v===null){var C=new Set;C.add(a),e.updateQueue=C}else v.add(a);break e}else{if(!(e&1)){Yc(s,u,e),_u();break e}a=Error(S(426))}}else if(q&&l.mode&1){var A=qc(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Xc(A,o,l,s,e),Xa(sr(a,l));break e}}s=a=sr(a,l),ae!==4&&(ae=2),Qr===null?Qr=[s]:Qr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=Kh(s,a,e);Hc(s,p);break e;case 1:l=a;var h=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wt===null||!Wt.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Yh(s,l,e);Hc(s,E);break e}}s=s.return}while(s!==null)}pp(n)}catch(x){e=x,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function fp(){var t=js.current;return js.current=Fs,t===null?Fs:t}function _u(){(ae===0||ae===3||ae===2)&&(ae=4),he===null||!(yn&268435455)&&!(go&268435455)||Mt(he,ge)}function Bs(t,e){var n=B;B|=2;var r=fp();(he!==t||ge!==e)&&(ht=null,pn(t,e));do try{cv();break}catch(i){dp(t,i)}while(!0);if(Za(),B=n,js.current=r,se!==null)throw Error(S(261));return he=null,ge=0,ae}function cv(){for(;se!==null;)hp(se)}function dv(){for(;se!==null&&!Fg();)hp(se)}function hp(t){var e=gp(t.alternate,t,be);t.memoizedProps=t.pendingProps,e===null?pp(t):se=e,fu.current=null}function pp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iv(n,e),n!==null){n.flags&=32767,se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ae=6,se=null;return}}else if(n=rv(n,e,be),n!==null){se=n;return}if(e=e.sibling,e!==null){se=e;return}se=e=t}while(e!==null);ae===0&&(ae=5)}function on(t,e,n){var r=W,i=Ke.transition;try{Ke.transition=null,W=1,fv(t,e,n,r)}finally{Ke.transition=i,W=r}return null}function fv(t,e,n,r){do Yn();while(Ft!==null);if(B&6)throw Error(S(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Qg(t,s),t===he&&(se=he=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||es||(es=!0,_p(Cs,function(){return Yn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ke.transition,Ke.transition=null;var o=W;W=1;var l=B;B|=4,fu.current=null,ov(t,n),ap(n,t),O_(bl),Ss=!!zl,bl=zl=null,t.current=n,lv(n),jg(),B=l,W=o,Ke.transition=s}else t.current=n;if(es&&(es=!1,Ft=t,bs=i),s=t.pendingLanes,s===0&&(Wt=null),Bg(n.stateNode),Le(t,ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zs)throw zs=!1,t=sa,sa=null,t;return bs&1&&t.tag!==0&&Yn(),s=t.pendingLanes,s&1?t===oa?Gr++:(Gr=0,oa=t):Gr=0,en(),null}function Yn(){if(Ft!==null){var t=Kf(bs),e=Ke.transition,n=W;try{if(Ke.transition=null,W=16>t?16:t,Ft===null)var r=!1;else{if(t=Ft,Ft=null,bs=0,B&6)throw Error(S(331));var i=B;for(B|=4,I=t.current;I!==null;){var s=I,o=s.child;if(I.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var f=I;switch(f.tag){case 0:case 11:case 15:$r(8,f,s)}var c=f.child;if(c!==null)c.return=f,I=c;else for(;I!==null;){f=I;var d=f.sibling,_=f.return;if(sp(f),f===u){I=null;break}if(d!==null){d.return=_,I=d;break}I=_}}}var v=s.alternate;if(v!==null){var C=v.child;if(C!==null){v.child=null;do{var A=C.sibling;C.sibling=null,C=A}while(C!==null)}}I=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,I=o;else e:for(;I!==null;){if(s=I,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$r(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,I=p;break e}I=s.return}}var h=t.current;for(I=h;I!==null;){o=I;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,I=g;else e:for(o=h;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mo(9,l)}}catch(x){ne(l,l.return,x)}if(l===o){I=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,I=E;break e}I=l.return}}if(B=i,en(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(oo,t)}catch{}r=!0}return r}finally{W=n,Ke.transition=e}}return!1}function cd(t,e,n){e=sr(n,e),e=Kh(t,e,1),t=Ut(t,e,1),e=Te(),t!==null&&(Ti(t,1,e),Le(t,e))}function ne(t,e,n){if(t.tag===3)cd(t,t,n);else for(;e!==null;){if(e.tag===3){cd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wt===null||!Wt.has(r))){t=sr(n,t),t=Yh(e,t,1),e=Ut(e,t,1),t=Te(),e!==null&&(Ti(e,1,t),Le(e,t));break}}e=e.return}}function hv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Te(),t.pingedLanes|=t.suspendedLanes&n,he===t&&(ge&n)===n&&(ae===4||ae===3&&(ge&130023424)===ge&&500>ie()-pu?pn(t,0):hu|=n),Le(t,e)}function mp(t,e){e===0&&(t.mode&1?(e=Vi,Vi<<=1,!(Vi&130023424)&&(Vi=4194304)):e=1);var n=Te();t=Et(t,e),t!==null&&(Ti(t,e,n),Le(t,n))}function pv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mp(t,n)}function mv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),mp(t,n)}var gp;gp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ae.current)Pe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pe=!1,nv(t,e,n);Pe=!!(t.flags&131072)}else Pe=!1,q&&e.flags&1048576&&wh(e,Ps,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hs(t,e),t=e.pendingProps;var i=tr(e,Se.current);Kn(e,n),i=lu(null,e,r,t,i,n);var s=au();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Me(r)?(s=!0,Ns(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nu(e),i.updater=po,e.stateNode=i,i._reactInternals=e,Kl(e,r,t,n),e=Xl(null,e,r,!0,s,n)):(e.tag=0,q&&s&&Ya(e),xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hs(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_v(r),t=Je(r,t),i){case 0:e=ql(null,e,r,t,n);break e;case 1:e=ed(null,e,r,t,n);break e;case 11:e=Jc(null,e,r,t,n);break e;case 14:e=Zc(null,e,r,Je(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),ql(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),ed(t,e,r,i,n);case 3:e:{if(Zh(e),t===null)throw Error(S(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Th(t,e),As(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=sr(Error(S(423)),e),e=td(t,e,r,n,i);break e}else if(r!==i){i=sr(Error(S(424)),e),e=td(t,e,r,n,i);break e}else for(Be=Bt(e.stateNode.containerInfo.firstChild),Ue=e,q=!0,et=null,n=kh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nr(),r===i){e=St(t,e,n);break e}xe(t,e,r,n)}e=e.child}return e;case 5:return Ih(e),t===null&&$l(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Bl(r,i)?o=null:s!==null&&Bl(r,s)&&(e.flags|=32),Jh(t,e),xe(t,e,o,n),e.child;case 6:return t===null&&$l(e),null;case 13:return ep(t,e,n);case 4:return ru(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=rr(e,null,r,n):xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),Jc(t,e,r,i,n);case 7:return xe(t,e,e.pendingProps,n),e.child;case 8:return xe(t,e,e.pendingProps.children,n),e.child;case 12:return xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Q(Ds,r._currentValue),r._currentValue=o,s!==null)if(lt(s.value,o)){if(s.children===i.children&&!Ae.current){e=St(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=vt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ql(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ql(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Kn(e,n),i=Ye(i),r=r(i),e.flags|=1,xe(t,e,r,n),e.child;case 14:return r=e.type,i=Je(r,e.pendingProps),i=Je(r.type,i),Zc(t,e,r,i,n);case 15:return qh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),hs(t,e),e.tag=1,Me(r)?(t=!0,Ns(e)):t=!1,Kn(e,n),Gh(e,r,i),Kl(e,r,i,n),Xl(null,e,r,!0,t,n);case 19:return tp(t,e,n);case 22:return Xh(t,e,n)}throw Error(S(156,e.tag))};function _p(t,e){return Vf(t,e)}function gv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,n,r){return new gv(t,e,n,r)}function vu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _v(t){if(typeof t=="function")return vu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ja)return 11;if(t===za)return 14}return 2}function Vt(t,e){var n=t.alternate;return n===null?(n=Ge(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gs(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")vu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case On:return mn(n.children,i,s,e);case Fa:o=8,i|=8;break;case vl:return t=Ge(12,n,e,i|2),t.elementType=vl,t.lanes=s,t;case yl:return t=Ge(13,n,e,i),t.elementType=yl,t.lanes=s,t;case wl:return t=Ge(19,n,e,i),t.elementType=wl,t.lanes=s,t;case If:return _o(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xf:o=10;break e;case Tf:o=9;break e;case ja:o=11;break e;case za:o=14;break e;case Dt:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Ge(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function mn(t,e,n,r){return t=Ge(7,t,r,e),t.lanes=n,t}function _o(t,e,n,r){return t=Ge(22,t,r,e),t.elementType=If,t.lanes=n,t.stateNode={isHidden:!1},t}function nl(t,e,n){return t=Ge(6,t,null,e),t.lanes=n,t}function rl(t,e,n){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vv(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jo(0),this.expirationTimes=jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yu(t,e,n,r,i,s,o,l,a){return t=new vv(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ge(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nu(s),t}function yv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vp(t){if(!t)return Yt;t=t._reactInternals;e:{if(Tn(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Me(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(Me(n))return vh(t,n,e)}return e}function yp(t,e,n,r,i,s,o,l,a){return t=yu(n,r,!0,t,i,s,o,l,a),t.context=vp(null),n=t.current,r=Te(),i=Ht(n),s=vt(r,i),s.callback=e??null,Ut(n,s,i),t.current.lanes=i,Ti(t,i,r),Le(t,r),t}function vo(t,e,n,r){var i=e.current,s=Te(),o=Ht(i);return n=vp(n),e.context===null?e.context=n:e.pendingContext=n,e=vt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ut(i,e,o),t!==null&&(st(t,i,o,s),cs(t,i,o)),o}function Us(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wu(t,e){dd(t,e),(t=t.alternate)&&dd(t,e)}function wv(){return null}var wp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cu(t){this._internalRoot=t}yo.prototype.render=Cu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));vo(t,e,null,null)};yo.prototype.unmount=Cu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wn(function(){vo(null,t,null,null)}),e[Ct]=null}};function yo(t){this._internalRoot=t}yo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<At.length&&e!==0&&e<At[n].priority;n++);At.splice(n,0,t),n===0&&Zf(t)}};function Eu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fd(){}function Cv(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Us(o);s.call(u)}}var o=yp(e,r,t,0,null,!1,!1,"",fd);return t._reactRootContainer=o,t[Ct]=o.current,li(t.nodeType===8?t.parentNode:t),wn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Us(a);l.call(u)}}var a=yu(t,0,!1,null,null,!1,!1,"",fd);return t._reactRootContainer=a,t[Ct]=a.current,li(t.nodeType===8?t.parentNode:t),wn(function(){vo(e,a,n,r)}),a}function Co(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Us(o);l.call(a)}}vo(e,o,t,i)}else o=Cv(n,e,t,i,r);return Us(o)}Yf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jr(e.pendingLanes);n!==0&&(Ua(e,n|1),Le(e,ie()),!(B&6)&&(or=ie()+500,en()))}break;case 13:wn(function(){var r=Et(t,1);if(r!==null){var i=Te();st(r,t,1,i)}}),wu(t,1)}};Wa=function(t){if(t.tag===13){var e=Et(t,134217728);if(e!==null){var n=Te();st(e,t,134217728,n)}wu(t,134217728)}};qf=function(t){if(t.tag===13){var e=Ht(t),n=Et(t,e);if(n!==null){var r=Te();st(n,t,e,r)}wu(t,e)}};Xf=function(){return W};Jf=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Pl=function(t,e,n){switch(e){case"input":if(Sl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=co(r);if(!i)throw Error(S(90));Rf(r),Sl(r,i)}}}break;case"textarea":Df(t,n);break;case"select":e=n.value,e!=null&&Vn(t,!!n.multiple,e,!1)}};zf=mu;bf=wn;var Ev={usingClientEntryPoint:!1,Events:[Ni,Fn,co,Ff,jf,mu]},Nr={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sv={bundleType:Nr.bundleType,version:Nr.version,rendererPackageName:Nr.rendererPackageName,rendererConfig:Nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wf(t),t===null?null:t.stateNode},findFiberByHostInstance:Nr.findFiberByHostInstance||wv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ts.isDisabled&&ts.supportsFiber)try{oo=ts.inject(Sv),dt=ts}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ev;He.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eu(e))throw Error(S(200));return yv(t,e,null,n)};He.createRoot=function(t,e){if(!Eu(t))throw Error(S(299));var n=!1,r="",i=wp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yu(t,1,!1,null,null,n,!1,r,i),t[Ct]=e.current,li(t.nodeType===8?t.parentNode:t),new Cu(e)};He.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=Wf(e),t=t===null?null:t.stateNode,t};He.flushSync=function(t){return wn(t)};He.hydrate=function(t,e,n){if(!wo(e))throw Error(S(200));return Co(null,t,e,!0,n)};He.hydrateRoot=function(t,e,n){if(!Eu(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=yp(e,null,t,1,n??null,i,!1,s,o),t[Ct]=e.current,li(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new yo(e)};He.render=function(t,e,n){if(!wo(e))throw Error(S(200));return Co(null,t,e,!1,n)};He.unmountComponentAtNode=function(t){if(!wo(t))throw Error(S(40));return t._reactRootContainer?(wn(function(){Co(null,null,t,!1,function(){t._reactRootContainer=null,t[Ct]=null})}),!0):!1};He.unstable_batchedUpdates=mu;He.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wo(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return Co(t,e,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function Cp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cp)}catch(t){console.error(t)}}Cp(),Cf.exports=He;var kv=Cf.exports,hd=kv;gl.createRoot=hd.createRoot,gl.hydrateRoot=hd.hydrateRoot;var pd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=function(t,e){if(!t)throw pr(e)},pr=function(t){return new Error("Firebase Database ("+Ep.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Su={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,f=s>>2,c=(s&3)<<4|l>>4;let d=(l&15)<<2|u>>6,_=u&63;a||(_=64,o||(d=64)),r.push(n[f],n[c],n[d],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||c==null)throw new Tv;const d=s<<2|l>>4;if(r.push(d),u!==64){const _=l<<4&240|u>>2;if(r.push(_),c!==64){const v=u<<6&192|c;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kp=function(t){const e=Sp(t);return Su.encodeByteArray(e,!0)},Ws=function(t){return kp(t).replace(/\./g,"")},ua=function(t){try{return Su.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){return xp(void 0,t)}function xp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Nv(n)||(t[n]=xp(t[n],e[n]));return t}function Nv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=()=>Rv().__FIREBASE_DEFAULTS__,Dv=()=>{if(typeof process>"u"||typeof pd>"u")return;const t=pd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ov=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ua(t[1]);return e&&JSON.parse(e)},Tp=()=>{try{return Pv()||Dv()||Ov()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Av=t=>{var e,n;return(n=(e=Tp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Mv=t=>{const e=Av(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ip=()=>{var t;return(t=Tp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ws(JSON.stringify(n)),Ws(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Np(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fv())}function jv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zv(){return Ep.NODE_ADMIN===!0}function bv(){try{return typeof indexedDB=="object"}catch{return!1}}function Bv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="FirebaseError";class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Uv,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rp.prototype.create)}}class Rp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Wv(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Pi(i,l,r)}}function Wv(t,e){return t.replace(Hv,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Hv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){return JSON.parse(t)}function fe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=gi(ua(s[0])||""),n=gi(ua(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Vv=function(t){const e=Pp(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},$v=function(t){const e=Pp(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function md(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hs(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ca(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(gd(s)&&gd(o)){if(!ca(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const d=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,f;for(let c=0;c<80;c++){c<40?c<20?(u=l^s&(o^l),f=1518500249):(u=s^o^l,f=1859775393):c<60?(u=s&o|l&(s|o),f=2400959708):(u=s^o^l,f=3395469782);const d=(i<<5|i>>>27)+u+a+f+r[c]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function ku(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,k(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},So=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){return t&&t._delegate?t._delegate:t}class _i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Eo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xv(e))try{this.getOrInitializeService({instanceIdentifier:ln})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ln){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ln){return this.instances.has(e)}getOptions(e=ln){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qv(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ln){return this.component?this.component.multipleInstances?e:ln:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qv(t){return t===ln?void 0:t}function Xv(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(V||(V={}));const Zv={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ey=V.INFO,ty={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ny=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ty[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=ey,this._logHandler=ny,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in V))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...e),this._logHandler(this,V.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...e),this._logHandler(this,V.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,V.INFO,...e),this._logHandler(this,V.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,V.WARN,...e),this._logHandler(this,V.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...e),this._logHandler(this,V.ERROR,...e)}}const ry=(t,e)=>e.some(n=>t instanceof n);let _d,vd;function iy(){return _d||(_d=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sy(){return vd||(vd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Op=new WeakMap,da=new WeakMap,Ap=new WeakMap,il=new WeakMap,xu=new WeakMap;function oy(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($t(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Op.set(n,t)}).catch(()=>{}),xu.set(e,t),e}function ly(t){if(da.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});da.set(t,e)}let fa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return da.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ap.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $t(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ay(t){fa=t(fa)}function uy(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sl(this),e,...n);return Ap.set(r,e.sort?e.sort():[e]),$t(r)}:sy().includes(t)?function(...e){return t.apply(sl(this),e),$t(Op.get(this))}:function(...e){return $t(t.apply(sl(this),e))}}function cy(t){return typeof t=="function"?uy(t):(t instanceof IDBTransaction&&ly(t),ry(t,iy())?new Proxy(t,fa):t)}function $t(t){if(t instanceof IDBRequest)return oy(t);if(il.has(t))return il.get(t);const e=cy(t);return e!==t&&(il.set(t,e),xu.set(e,t)),e}const sl=t=>xu.get(t);function dy(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=$t(o);return r&&o.addEventListener("upgradeneeded",a=>{r($t(o.result),a.oldVersion,a.newVersion,$t(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const fy=["get","getKey","getAll","getAllKeys","count"],hy=["put","add","delete","clear"],ol=new Map;function yd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ol.get(e))return ol.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fy.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return ol.set(e,s),s}ay(t=>({...t,get:(e,n,r)=>yd(e,n)||t.get(e,n,r),has:(e,n)=>!!yd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(my(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function my(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ha="@firebase/app",wd="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt=new Dp("@firebase/app"),gy="@firebase/app-compat",_y="@firebase/analytics-compat",vy="@firebase/analytics",yy="@firebase/app-check-compat",wy="@firebase/app-check",Cy="@firebase/auth",Ey="@firebase/auth-compat",Sy="@firebase/database",ky="@firebase/data-connect",xy="@firebase/database-compat",Ty="@firebase/functions",Iy="@firebase/functions-compat",Ny="@firebase/installations",Ry="@firebase/installations-compat",Py="@firebase/messaging",Dy="@firebase/messaging-compat",Oy="@firebase/performance",Ay="@firebase/performance-compat",My="@firebase/remote-config",Ly="@firebase/remote-config-compat",Fy="@firebase/storage",jy="@firebase/storage-compat",zy="@firebase/firestore",by="@firebase/vertexai-preview",By="@firebase/firestore-compat",Uy="firebase",Wy="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]",Hy={[ha]:"fire-core",[gy]:"fire-core-compat",[vy]:"fire-analytics",[_y]:"fire-analytics-compat",[wy]:"fire-app-check",[yy]:"fire-app-check-compat",[Cy]:"fire-auth",[Ey]:"fire-auth-compat",[Sy]:"fire-rtdb",[ky]:"fire-data-connect",[xy]:"fire-rtdb-compat",[Ty]:"fire-fn",[Iy]:"fire-fn-compat",[Ny]:"fire-iid",[Ry]:"fire-iid-compat",[Py]:"fire-fcm",[Dy]:"fire-fcm-compat",[Oy]:"fire-perf",[Ay]:"fire-perf-compat",[My]:"fire-rc",[Ly]:"fire-rc-compat",[Fy]:"fire-gcs",[jy]:"fire-gcs-compat",[zy]:"fire-fst",[By]:"fire-fst-compat",[by]:"fire-vertex","fire-js":"fire-js",[Uy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Map,Vy=new Map,ma=new Map;function Cd(t,e){try{t.container.addComponent(e)}catch(n){kt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $s(t){const e=t.name;if(ma.has(e))return kt.debug(`There were multiple attempts to register component ${e}.`),!1;ma.set(e,t);for(const n of Vs.values())Cd(n,t);for(const n of Vy.values())Cd(n,t);return!0}function $y(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qt=new Rp("app","Firebase",Qy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=Wy;function Mp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pa,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qt.create("bad-app-name",{appName:String(i)});if(n||(n=Ip()),!n)throw Qt.create("no-options");const s=Vs.get(i);if(s){if(ca(n,s.options)&&ca(r,s.config))return s;throw Qt.create("duplicate-app",{appName:i})}const o=new Jv(i);for(const a of ma.values())o.addComponent(a);const l=new Gy(n,r,o);return Vs.set(i,l),l}function Yy(t=pa){const e=Vs.get(t);if(!e&&t===pa&&Ip())return Mp();if(!e)throw Qt.create("no-app",{appName:t});return e}function qn(t,e,n){var r;let i=(r=Hy[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kt.warn(l.join(" "));return}$s(new _i(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="firebase-heartbeat-database",Xy=1,vi="firebase-heartbeat-store";let ll=null;function Lp(){return ll||(ll=dy(qy,Xy,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qt.create("idb-open",{originalErrorMessage:t.message})})),ll}async function Jy(t){try{const n=(await Lp()).transaction(vi),r=await n.objectStore(vi).get(Fp(t));return await n.done,r}catch(e){if(e instanceof Pi)kt.warn(e.message);else{const n=Qt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kt.warn(n.message)}}}async function Ed(t,e){try{const r=(await Lp()).transaction(vi,"readwrite");await r.objectStore(vi).put(e,Fp(t)),await r.done}catch(n){if(n instanceof Pi)kt.warn(n.message);else{const r=Qt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kt.warn(r.message)}}}function Fp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=1024,e0=30*24*60*60*1e3;class t0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=e0}),this._storage.overwrite(this._heartbeatsCache))}catch(r){kt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sd(),{heartbeatsToSend:r,unsentEntries:i}=n0(this._heartbeatsCache.heartbeats),s=Ws(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return kt.warn(n),""}}}function Sd(){return new Date().toISOString().substring(0,10)}function n0(t,e=Zy){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kd(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class r0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bv()?Bv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jy(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ed(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ed(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kd(t){return Ws(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t){$s(new _i("platform-logger",e=>new py(e),"PRIVATE")),$s(new _i("heartbeat",e=>new t0(e),"PRIVATE")),qn(ha,wd,t),qn(ha,wd,"esm2017"),qn("fire-js","")}i0("");var s0="firebase",o0="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(s0,o0,"app");var xd={};const Td="@firebase/database",Id="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp="";function l0(t){jp=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:gi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Nt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new a0(e)}}catch{}return new u0},fn=zp("localStorage"),c0=zp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new Dp("@firebase/database"),d0=function(){let t=1;return function(){return t++}}(),bp=function(t){const e=Kv(t),n=new Gv;n.update(e);const r=n.digest();return Su.encodeByteArray(r)},Oi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Oi.apply(null,r):typeof r=="object"?e+=fe(r):e+=r,e+=" "}return e};let Kr=null,Nd=!0;const f0=function(t,e){k(!0,"Can't turn on custom loggers persistently."),Xn.logLevel=V.VERBOSE,Kr=Xn.log.bind(Xn)},Ee=function(...t){if(Nd===!0&&(Nd=!1,Kr===null&&c0.get("logging_enabled")===!0&&f0()),Kr){const e=Oi.apply(null,t);Kr(e)}},Ai=function(t){return function(...e){Ee(t,...e)}},ga=function(...t){const e="FIREBASE INTERNAL ERROR: "+Oi(...t);Xn.error(e)},xt=function(...t){const e=`FIREBASE FATAL ERROR: ${Oi(...t)}`;throw Xn.error(e),new Error(e)},Fe=function(...t){const e="FIREBASE WARNING: "+Oi(...t);Xn.warn(e)},h0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},p0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ar="[MIN_NAME]",Cn="[MAX_NAME]",mr=function(t,e){if(t===e)return 0;if(t===ar||e===Cn)return-1;if(e===ar||t===Cn)return 1;{const n=Rd(t),r=Rd(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},m0=function(t,e){return t===e?0:t<e?-1:1},Rr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fe(e))},Tu=function(t){if(typeof t!="object"||t===null)return fe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=fe(e[r]),n+=":",n+=Tu(t[e[r]]);return n+="}",n},Up=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function je(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Wp=function(t){k(!Bp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(a=0;a<64;a+=8){let d=parseInt(f.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),c=c+d}return c.toLowerCase()},g0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function v0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const y0=new RegExp("^-?(0*)\\d{1,10}$"),w0=-2147483648,C0=2147483647,Rd=function(t){if(y0.test(t)){const e=Number(t);if(e>=w0&&e<=C0)return e}return null},gr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Fe("Exception was thrown by user callback.",n),e},Math.floor(0))}},E0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Fe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ee("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fe(e)}}class _s{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}_s.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="5",Hp="v",Vp="s",$p="r",Qp="f",Gp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Kp="ls",Yp="p",_a="ac",qp="websocket",Xp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function x0(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Zp(t,e,n){k(typeof e=="string","typeof type must == string"),k(typeof n=="object","typeof params must == object");let r;if(e===qp)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Xp)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);x0(t)&&(n.ns=t.namespace);const i=[];return je(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.counters_={}}incrementCounter(e,n=1){Nt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Iv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al={},ul={};function Nu(t){const e=t.toString();return al[e]||(al[e]=new T0),al[e]}function I0(t,e){const n=t.toString();return ul[n]||(ul[n]=e()),ul[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&gr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="start",R0="close",P0="pLPCommand",D0="pRTLPCB",em="id",tm="pw",nm="ser",O0="cb",A0="seg",M0="ts",L0="d",F0="dframe",rm=1870,im=30,j0=rm-im,z0=25e3,b0=3e4;class Hn{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ai(e),this.stats_=Nu(n),this.urlFn=a=>(this.appCheckToken&&(a[_a]=this.appCheckToken),Zp(n,Xp,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new N0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(b0)),p0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ru((...s)=>{const[o,l,a,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Pd)this.id=l,this.password=a;else if(o===R0)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Pd]="t",r[nm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[O0]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hp]=Iu,this.transportSessionId&&(r[Vp]=this.transportSessionId),this.lastSessionId&&(r[Kp]=this.lastSessionId),this.applicationId&&(r[Yp]=this.applicationId),this.appCheckToken&&(r[_a]=this.appCheckToken),typeof location<"u"&&location.hostname&&Gp.test(location.hostname)&&(r[$p]=Qp);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hn.forceAllow_=!0}static forceDisallow(){Hn.forceDisallow_=!0}static isAvailable(){return Hn.forceAllow_?!0:!Hn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!g0()&&!_0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=kp(n),i=Up(r,j0);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[F0]="t",r[em]=e,r[tm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=fe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ru{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=d0(),window[P0+this.uniqueCallbackIdentifier]=e,window[D0+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ru.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ee("frame writing exception"),l.stack&&Ee(l.stack),Ee(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ee("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[em]=this.myID,e[tm]=this.myPW,e[nm]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+im+r.length<=rm;){const o=this.pendingSegs.shift();r=r+"&"+A0+i+"="+o.seg+"&"+M0+i+"="+o.ts+"&"+L0+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(z0)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ee("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=16384,U0=45e3;let Qs=null;typeof MozWebSocket<"u"?Qs=MozWebSocket:typeof WebSocket<"u"&&(Qs=WebSocket);class tt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ai(this.connId),this.stats_=Nu(n),this.connURL=tt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Hp]=Iu,typeof location<"u"&&location.hostname&&Gp.test(location.hostname)&&(o[$p]=Qp),n&&(o[Vp]=n),r&&(o[Kp]=r),i&&(o[_a]=i),s&&(o[Yp]=s),Zp(e,qp,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fn.set("previous_websocket_failure",!0);try{let r;zv(),this.mySock=new Qs(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){tt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Qs!==null&&!tt.forceDisallow_}static previouslyFailed(){return fn.isInMemoryStorage||fn.get("previous_websocket_failure")===!0}markConnectionHealthy(){fn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=gi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(k(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Up(n,B0);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(U0))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tt.responsesRequiredToBeHealthy=2;tt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Hn,tt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=tt&&tt.isAvailable();let r=n&&!tt.previouslyFailed();if(e.webSocketOnly&&(n||Fe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tt];else{const i=this.transports_=[];for(const s of yi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);yi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=6e4,H0=5e3,V0=10*1024,$0=100*1024,cl="t",Dd="d",Q0="s",Od="r",G0="e",Ad="o",Md="a",Ld="n",Fd="p",K0="h";class Y0{constructor(e,n,r,i,s,o,l,a,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ai("c:"+this.id+":"),this.transportManager_=new yi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>V0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cl in e){const n=e[cl];n===Md?this.upgradeIfSecondaryHealthy_():n===Od?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ad&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Rr("t",e),r=Rr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Fd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Md,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ld,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Rr("t",e),r=Rr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Rr(cl,e);if(Dd in e){const r=e[Dd];if(n===K0){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Ld){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Q0?this.onConnectionShutdown_(r):n===Od?this.onReset_(r):n===G0?ga("Server Error: "+r):n===Ad?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ga("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Iu!==r&&Fe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Yr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(W0))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(H0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Fd,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.allowedEvents_=e,this.listeners_={},k(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){k(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends om{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Np()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gs}getInitialEvent(e){return k(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=32,zd=768;class H{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function U(){return new H("")}function L(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qt(t){return t.pieces_.length-t.pieceNum_}function $(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new H(t.pieces_,e)}function lm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function q0(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function am(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function um(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new H(e,0)}function le(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof H)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new H(n,0)}function z(t){return t.pieceNum_>=t.pieces_.length}function De(t,e){const n=L(t),r=L(e);if(n===null)return e;if(n===r)return De($(t),$(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Pu(t,e){if(qt(t)!==qt(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function nt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(qt(t)>qt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class X0{constructor(e,n){this.errorPrefix_=n,this.parts_=am(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=So(this.parts_[r]);cm(this)}}function J0(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=So(e),cm(t)}function Z0(t){const e=t.parts_.pop();t.byteLength_-=So(e),t.parts_.length>0&&(t.byteLength_-=1)}function cm(t){if(t.byteLength_>zd)throw new Error(t.errorPrefix_+"has a key path longer than "+zd+" bytes ("+t.byteLength_+").");if(t.parts_.length>jd)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jd+") or object contains a cycle "+an(t))}function an(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends om{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Du}getInitialEvent(e){return k(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=1e3,ew=60*5*1e3,bd=30*1e3,tw=1.3,nw=3e4,rw="server_kill",Bd=3;class yt extends sm{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=yt.nextPersistentConnectionId_++,this.log_=Ai("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pr,this.maxReconnectDelay_=ew,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Du.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Gs.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(fe(s)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Eo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;yt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Nt(e,"w")){const r=lr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Fe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||$v(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bd)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Vv(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+fe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ga("Unrecognized action received from server: "+fe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nw&&(this.reconnectDelay_=Pr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+yt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(c){k(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Ee("getToken() completed but was canceled"):(Ee("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=d&&d.token,l=new Y0(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{Fe(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(rw)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&Fe(c),a())}}}interrupt(e){Ee("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ee("Resuming connection for reason: "+e),delete this.interruptReasons_[e],md(this.interruptReasons_)&&(this.reconnectDelay_=Pr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Tu(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new H(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ee("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Bd&&(this.reconnectDelay_=bd,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ee("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Bd&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+jp.replace(/\./g,"-")]=1,Np()?e["framework.cordova"]=1:jv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Gs.getInstance().currentlyOnline();return md(this.interruptReasons_)&&e}}yt.nextPersistentConnectionId_=0;yt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new F(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new F(ar,e),i=new F(ar,n);return this.compare(r,i)!==0}minPost(){return F.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ns;class dm extends ko{static get __EMPTY_NODE(){return ns}static set __EMPTY_NODE(e){ns=e}compare(e,n){return mr(e.name,n.name)}isDefinedOn(e){throw pr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return F.MIN}maxPost(){return new F(Cn,ns)}makePost(e,n){return k(typeof e=="string","KeyIndex indexValue must always be a string."),new F(e,ns)}toString(){return".key"}}const Jn=new dm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class de{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??de.RED,this.left=i??Oe.EMPTY_NODE,this.right=s??Oe.EMPTY_NODE}copy(e,n,r,i,s){return new de(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Oe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Oe.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,de.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,de.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}de.RED=!0;de.BLACK=!1;class iw{copy(e,n,r,i,s){return this}insert(e,n,r){return new de(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Oe{constructor(e,n=Oe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Oe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,de.BLACK,null,null))}remove(e){return new Oe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,de.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new rs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new rs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new rs(this.root_,null,this.comparator_,!0,e)}}Oe.EMPTY_NODE=new iw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t,e){return mr(t.name,e.name)}function Ou(t,e){return mr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va;function ow(t){va=t}const fm=function(t){return typeof t=="number"?"number:"+Wp(t):"string:"+t},hm=function(t){if(t.isLeafNode()){const e=t.val();k(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Nt(e,".sv"),"Priority must be a string or number.")}else k(t===va||t.isEmpty(),"priority of unexpected type.");k(t===va||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud;class ue{constructor(e,n=ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hm(this.priorityNode_)}static set __childrenNodeConstructor(e){Ud=e}static get __childrenNodeConstructor(){return Ud}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ue(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ue.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return z(e)?this:L(e)===".priority"?this.priorityNode_:ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=L(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(k(r!==".priority"||qt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ue.__childrenNodeConstructor.EMPTY_NODE.updateChild($(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+fm(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Wp(this.value_):e+=this.value_,this.lazyHash_=bp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ue.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ue.__childrenNodeConstructor?-1:(k(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ue.VALUE_TYPE_ORDER.indexOf(n),s=ue.VALUE_TYPE_ORDER.indexOf(r);return k(i>=0,"Unknown leaf type: "+n),k(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm,mm;function lw(t){pm=t}function aw(t){mm=t}class uw extends ko{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?mr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(Cn,new ue("[PRIORITY-POST]",mm))}makePost(e,n){const r=pm(e);return new F(n,new ue("[PRIORITY-POST]",r))}toString(){return".priority"}}const re=new uw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=Math.log(2);class dw{constructor(e){const n=s=>parseInt(Math.log(s)/cw,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ks=function(t,e,n,r){t.sort(e);const i=function(a,u){const f=u-a;let c,d;if(f===0)return null;if(f===1)return c=t[a],d=n?n(c):c,new de(d,c.node,de.BLACK,null,null);{const _=parseInt(f/2,10)+a,v=i(a,_),C=i(_+1,u);return c=t[_],d=n?n(c):c,new de(d,c.node,de.BLACK,v,C)}},s=function(a){let u=null,f=null,c=t.length;const d=function(v,C){const A=c-v,p=c;c-=v;const h=i(A+1,p),g=t[A],E=n?n(g):g;_(new de(E,g.node,C,null,h))},_=function(v){u?(u.left=v,u=v):(f=v,u=v)};for(let v=0;v<a.count;++v){const C=a.nextBitIsOne(),A=Math.pow(2,a.count-(v+1));C?d(A,de.BLACK):(d(A,de.BLACK),d(A,de.RED))}return f},o=new dw(t.length),l=s(o);return new Oe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;const Pn={};class _t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return k(Pn&&re,"ChildrenNode.ts has not been loaded"),dl=dl||new _t({".priority":Pn},{".priority":re}),dl}get(e){const n=lr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Oe?n:null}hasIndex(e){return Nt(this.indexSet_,e.toString())}addIndex(e,n){k(e!==Jn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(F.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Ks(r,e.getCompare()):l=Pn;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const f=Object.assign({},this.indexes_);return f[a]=l,new _t(f,u)}addToIndexes(e,n){const r=Hs(this.indexes_,(i,s)=>{const o=lr(this.indexSet_,s);if(k(o,"Missing index implementation for "+s),i===Pn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(F.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),Ks(l,o.getCompare())}else return Pn;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new F(e.name,l))),a.insert(e,e.node)}});return new _t(r,this.indexSet_)}removeFromIndexes(e,n){const r=Hs(this.indexes_,i=>{if(i===Pn)return i;{const s=n.get(e.name);return s?i.remove(new F(e.name,s)):i}});return new _t(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dr;class D{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&hm(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Dr||(Dr=new D(new Oe(Ou),null,_t.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dr}updatePriority(e){return this.children_.isEmpty()?this:new D(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Dr:n}}getChild(e){const n=L(e);return n===null?this:this.getImmediateChild(n).getChild($(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(k(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new F(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Dr:this.priorityNode_;return new D(i,o,s)}}updateChild(e,n){const r=L(e);if(r===null)return n;{k(L(e)!==".priority"||qt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild($(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(re,(o,l)=>{n[o]=l.val(e),r++,s&&D.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+fm(this.getPriority().val())+":"),this.forEachChild(re,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":bp(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new F(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new F(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new F(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Mi?-1:0}withIndex(e){if(e===Jn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new D(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Jn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(re),i=n.getIterator(re);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Jn?null:this.indexMap_.get(e.toString())}}D.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fw extends D{constructor(){super(new Oe(Ou),D.EMPTY_NODE,_t.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return D.EMPTY_NODE}isEmpty(){return!1}}const Mi=new fw;Object.defineProperties(F,{MIN:{value:new F(ar,D.EMPTY_NODE)},MAX:{value:new F(Cn,Mi)}});dm.__EMPTY_NODE=D.EMPTY_NODE;ue.__childrenNodeConstructor=D;ow(Mi);aw(Mi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=!0;function me(t,e=null){if(t===null)return D.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),k(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ue(n,me(e))}if(!(t instanceof Array)&&hw){const n=[];let r=!1;if(je(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=me(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new F(o,a)))}}),n.length===0)return D.EMPTY_NODE;const s=Ks(n,sw,o=>o.name,Ou);if(r){const o=Ks(n,re.getCompare());return new D(s,me(e),new _t({".priority":o},{".priority":re}))}else return new D(s,me(e),_t.Default)}else{let n=D.EMPTY_NODE;return je(t,(r,i)=>{if(Nt(t,r)&&r.substring(0,1)!=="."){const s=me(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(me(e))}}lw(me);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends ko{constructor(e){super(),this.indexPath_=e,k(!z(e)&&L(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?mr(e.name,n.name):s}makePost(e,n){const r=me(e),i=D.EMPTY_NODE.updateChild(this.indexPath_,r);return new F(n,i)}maxPost(){const e=D.EMPTY_NODE.updateChild(this.indexPath_,Mi);return new F(Cn,e)}toString(){return am(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends ko{compare(e,n){const r=e.node.compareTo(n.node);return r===0?mr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(e,n){const r=me(e);return new F(n,r)}toString(){return".value"}}const gw=new mw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){return{type:"value",snapshotNode:t}}function ur(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function wi(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ci(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function _w(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){k(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(wi(n,l)):k(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ur(n,r)):o.trackChildChange(Ci(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(re,(i,s)=>{n.hasChild(i)||r.trackChildChange(wi(i,s))}),n.isLeafNode()||n.forEachChild(re,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ci(i,s,o))}else r.trackChildChange(ur(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?D.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.indexedFilter_=new Au(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ei.getStartPost_(e),this.endPost_=Ei.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new F(n,r))||(r=D.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=D.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(D.EMPTY_NODE);const s=this;return n.forEachChild(re,(o,l)=>{s.matches(new F(o,l))||(i=i.updateImmediateChild(o,D.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ei(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new F(n,r))||(r=D.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=D.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=D.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(D.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,D.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(d,_)=>c(_,d)}else o=this.index_.getCompare();const l=e;k(l.numChildren()===this.limit_,"");const a=new F(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const _=d==null?1:o(d,a);if(f&&!r.isEmpty()&&_>=0)return s!=null&&s.trackChildChange(Ci(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(wi(n,c));const C=l.updateImmediateChild(n,D.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(ur(d.name,d.node)),C.updateImmediateChild(d.name,d.node)):C}}else return r.isEmpty()?e:f&&o(u,a)>=0?(s!=null&&(s.trackChildChange(wi(u.name,u.node)),s.trackChildChange(ur(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,D.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ar}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===re}copy(){const e=new Mu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yw(t){return t.loadsAllData()?new Au(t.getIndex()):t.hasLimit()?new vw(t):new Ei(t)}function Wd(t){const e={};if(t.isDefault())return e;let n;if(t.index_===re?n="$priority":t.index_===gw?n="$value":t.index_===Jn?n="$key":(k(t.index_ instanceof pw,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=fe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=fe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+fe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=fe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+fe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Hd(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==re&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends sm{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ai("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(k(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Ys.getListenId_(e,r),l={};this.listens_[o]=l;const a=Wd(e._queryParams);this.restRequest_(s+".json",a,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,r),lr(this.listens_,o)===l){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=Ys.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Wd(e._queryParams),r=e._path.toString(),i=new Eo;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qv(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=gi(l.responseText)}catch{Fe("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Fe("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.rootNode_=D.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(){return{value:null,children:new Map}}function _m(t,e,n){if(z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=L(e);t.children.has(r)||t.children.set(r,qs());const i=t.children.get(r);e=$(e),_m(i,e,n)}}function ya(t,e,n){t.value!==null?n(e,t.value):Cw(t,(r,i)=>{const s=new H(e.toString()+"/"+r);ya(i,s,n)})}function Cw(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&je(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=10*1e3,Sw=30*1e3,kw=5*60*1e3;class xw{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ew(e);const r=Vd+(Sw-Vd)*Math.random();Yr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;je(e,(i,s)=>{s>0&&Nt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Yr(this.reportStats_.bind(this),Math.floor(Math.random()*2*kw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rt||(rt={}));function vm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Lu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Fu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=rt.ACK_USER_WRITE,this.source=vm()}operationForChild(e){if(z(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new H(e));return new Xs(U(),n,this.revert)}}else return k(L(this.path)===e,"operationForChild called for unrelated child."),new Xs($(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){this.source=e,this.path=n,this.type=rt.LISTEN_COMPLETE}operationForChild(e){return z(this.path)?new Si(this.source,U()):new Si(this.source,$(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=rt.OVERWRITE}operationForChild(e){return z(this.path)?new En(this.source,U(),this.snap.getImmediateChild(e)):new En(this.source,$(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=rt.MERGE}operationForChild(e){if(z(this.path)){const n=this.children.subtree(new H(e));return n.isEmpty()?null:n.value?new En(this.source,U(),n.value):new ki(this.source,U(),n)}else return k(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ki(this.source,$(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(z(e))return this.isFullyInitialized()&&!this.filtered_;const n=L(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Iw(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(_w(o.childName,o.snapshotNode))}),Or(t,i,"child_removed",e,r,n),Or(t,i,"child_added",e,r,n),Or(t,i,"child_moved",s,r,n),Or(t,i,"child_changed",e,r,n),Or(t,i,"value",e,r,n),i}function Or(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>Rw(t,l,a)),o.forEach(l=>{const a=Nw(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function Nw(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Rw(t,e,n){if(e.childName==null||n.childName==null)throw pr("Should only compare child_ events.");const r=new F(e.childName,e.snapshotNode),i=new F(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t,e){return{eventCache:t,serverCache:e}}function qr(t,e,n,r){return xo(new Sn(e,n,r),t.serverCache)}function ym(t,e,n,r){return xo(t.eventCache,new Sn(e,n,r))}function wa(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function kn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;const Pw=()=>(fl||(fl=new Oe(m0)),fl);class K{constructor(e,n=Pw()){this.value=e,this.children=n}static fromObject(e){let n=new K(null);return je(e,(r,i)=>{n=n.set(new H(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:U(),value:this.value};if(z(e))return null;{const r=L(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue($(e),n);return s!=null?{path:le(new H(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(z(e))return this;{const n=L(e),r=this.children.get(n);return r!==null?r.subtree($(e)):new K(null)}}set(e,n){if(z(e))return new K(n,this.children);{const r=L(e),s=(this.children.get(r)||new K(null)).set($(e),n),o=this.children.insert(r,s);return new K(this.value,o)}}remove(e){if(z(e))return this.children.isEmpty()?new K(null):new K(null,this.children);{const n=L(e),r=this.children.get(n);if(r){const i=r.remove($(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new K(null):new K(this.value,s)}else return this}}get(e){if(z(e))return this.value;{const n=L(e),r=this.children.get(n);return r?r.get($(e)):null}}setTree(e,n){if(z(e))return n;{const r=L(e),s=(this.children.get(r)||new K(null)).setTree($(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new K(this.value,o)}}fold(e){return this.fold_(U(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(le(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,U(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(z(e))return null;{const s=L(e),o=this.children.get(s);return o?o.findOnPath_($(e),le(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,U(),n)}foreachOnPath_(e,n,r){if(z(e))return this;{this.value&&r(n,this.value);const i=L(e),s=this.children.get(i);return s?s.foreachOnPath_($(e),le(n,i),r):new K(null)}}foreach(e){this.foreach_(U(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(le(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.writeTree_=e}static empty(){return new ot(new K(null))}}function Xr(t,e,n){if(z(e))return new ot(new K(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=De(i,e);return s=s.updateChild(o,n),new ot(t.writeTree_.set(i,s))}else{const i=new K(n),s=t.writeTree_.setTree(e,i);return new ot(s)}}}function $d(t,e,n){let r=t;return je(n,(i,s)=>{r=Xr(r,le(e,i),s)}),r}function Qd(t,e){if(z(e))return ot.empty();{const n=t.writeTree_.setTree(e,new K(null));return new ot(n)}}function Ca(t,e){return In(t,e)!=null}function In(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(De(n.path,e)):null}function Gd(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(re,(r,i)=>{e.push(new F(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new F(r,i.value))}),e}function Gt(t,e){if(z(e))return t;{const n=In(t,e);return n!=null?new ot(new K(n)):new ot(t.writeTree_.subtree(e))}}function Ea(t){return t.writeTree_.isEmpty()}function cr(t,e){return wm(U(),t.writeTree_,e)}function wm(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(k(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=wm(le(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(le(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e){return km(e,t)}function Dw(t,e,n,r,i){k(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Xr(t.visibleWrites,e,n)),t.lastWriteId=r}function Ow(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Aw(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);k(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&Mw(l,r.path)?i=!1:nt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return Lw(t),!0;if(r.snap)t.visibleWrites=Qd(t.visibleWrites,r.path);else{const l=r.children;je(l,a=>{t.visibleWrites=Qd(t.visibleWrites,le(r.path,a))})}return!0}else return!1}function Mw(t,e){if(t.snap)return nt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&nt(le(t.path,n),e))return!0;return!1}function Lw(t){t.visibleWrites=Cm(t.allWrites,Fw,U()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Fw(t){return t.visible}function Cm(t,e,n){let r=ot.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)nt(n,o)?(l=De(n,o),r=Xr(r,l,s.snap)):nt(o,n)&&(l=De(o,n),r=Xr(r,U(),s.snap.getChild(l)));else if(s.children){if(nt(n,o))l=De(n,o),r=$d(r,l,s.children);else if(nt(o,n))if(l=De(o,n),z(l))r=$d(r,U(),s.children);else{const a=lr(s.children,L(l));if(a){const u=a.getChild($(l));r=Xr(r,U(),u)}}}else throw pr("WriteRecord should have .snap or .children")}}return r}function Em(t,e,n,r,i){if(!r&&!i){const s=In(t.visibleWrites,e);if(s!=null)return s;{const o=Gt(t.visibleWrites,e);if(Ea(o))return n;if(n==null&&!Ca(o,U()))return null;{const l=n||D.EMPTY_NODE;return cr(o,l)}}}else{const s=Gt(t.visibleWrites,e);if(!i&&Ea(s))return n;if(!i&&n==null&&!Ca(s,U()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(nt(u.path,e)||nt(e,u.path))},l=Cm(t.allWrites,o,e),a=n||D.EMPTY_NODE;return cr(l,a)}}}function jw(t,e,n){let r=D.EMPTY_NODE;const i=In(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(re,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Gt(t.visibleWrites,e);return n.forEachChild(re,(o,l)=>{const a=cr(Gt(s,new H(o)),l);r=r.updateImmediateChild(o,a)}),Gd(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Gt(t.visibleWrites,e);return Gd(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function zw(t,e,n,r,i){k(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=le(e,n);if(Ca(t.visibleWrites,s))return null;{const o=Gt(t.visibleWrites,s);return Ea(o)?i.getChild(n):cr(o,i.getChild(n))}}function bw(t,e,n,r){const i=le(e,n),s=In(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Gt(t.visibleWrites,i);return cr(o,r.getNode().getImmediateChild(n))}else return null}function Bw(t,e){return In(t.visibleWrites,e)}function Uw(t,e,n,r,i,s,o){let l;const a=Gt(t.visibleWrites,e),u=In(a,U());if(u!=null)l=u;else if(n!=null)l=cr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],c=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=d.getNext();for(;_&&f.length<i;)c(_,r)!==0&&f.push(_),_=d.getNext();return f}else return[]}function Ww(){return{visibleWrites:ot.empty(),allWrites:[],lastWriteId:-1}}function Js(t,e,n,r){return Em(t.writeTree,t.treePath,e,n,r)}function zu(t,e){return jw(t.writeTree,t.treePath,e)}function Kd(t,e,n,r){return zw(t.writeTree,t.treePath,e,n,r)}function Zs(t,e){return Bw(t.writeTree,le(t.treePath,e))}function Hw(t,e,n,r,i,s){return Uw(t.writeTree,t.treePath,e,n,r,i,s)}function bu(t,e,n){return bw(t.writeTree,t.treePath,e,n)}function Sm(t,e){return km(le(t.treePath,e),t.writeTree)}function km(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;k(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),k(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ci(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,wi(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ur(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ci(r,e.snapshotNode,i.oldSnap));else throw pr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const xm=new $w;class Bu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Sn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bu(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:kn(this.viewCache_),s=Hw(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){return{filter:t}}function Gw(t,e){k(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),k(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Kw(t,e,n,r,i){const s=new Vw;let o,l;if(n.type===rt.OVERWRITE){const u=n;u.source.fromUser?o=Sa(t,e,u.path,u.snap,r,i,s):(k(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!z(u.path),o=eo(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===rt.MERGE){const u=n;u.source.fromUser?o=qw(t,e,u.path,u.children,r,i,s):(k(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=ka(t,e,u.path,u.children,r,i,l,s))}else if(n.type===rt.ACK_USER_WRITE){const u=n;u.revert?o=Zw(t,e,u.path,r,i,s):o=Xw(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===rt.LISTEN_COMPLETE)o=Jw(t,e,n.path,r,s);else throw pr("Unknown operation type: "+n.type);const a=s.getChanges();return Yw(e,o,a),{viewCache:o,changes:a}}function Yw(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=wa(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(gm(wa(e)))}}function Tm(t,e,n,r,i,s){const o=e.eventCache;if(Zs(r,n)!=null)return e;{let l,a;if(z(n))if(k(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=kn(e),f=u instanceof D?u:D.EMPTY_NODE,c=zu(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const u=Js(r,kn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=L(n);if(u===".priority"){k(qt(n)===1,"Can't have a priority with additional path components");const f=o.getNode();a=e.serverCache.getNode();const c=Kd(r,n,f,a);c!=null?l=t.filter.updatePriority(f,c):l=o.getNode()}else{const f=$(n);let c;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const d=Kd(r,n,o.getNode(),a);d!=null?c=o.getNode().getImmediateChild(u).updateChild(f,d):c=o.getNode().getImmediateChild(u)}else c=bu(r,u,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),u,c,f,i,s):l=o.getNode()}}return qr(e,l,o.isFullyInitialized()||z(n),t.filter.filtersNodes())}}function eo(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(z(n))u=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);u=f.updateFullNode(a.getNode(),_,null)}else{const _=L(n);if(!a.isCompleteForPath(n)&&qt(n)>1)return e;const v=$(n),A=a.getNode().getImmediateChild(_).updateChild(v,r);_===".priority"?u=f.updatePriority(a.getNode(),A):u=f.updateChild(a.getNode(),_,A,v,xm,null)}const c=ym(e,u,a.isFullyInitialized()||z(n),f.filtersNodes()),d=new Bu(i,c,s);return Tm(t,c,n,i,d,l)}function Sa(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const f=new Bu(i,e,s);if(z(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=qr(e,u,!0,t.filter.filtersNodes());else{const c=L(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=qr(e,u,l.isFullyInitialized(),l.isFiltered());else{const d=$(n),_=l.getNode().getImmediateChild(c);let v;if(z(d))v=r;else{const C=f.getCompleteChild(c);C!=null?lm(d)===".priority"&&C.getChild(um(d)).isEmpty()?v=C:v=C.updateChild(d,r):v=D.EMPTY_NODE}if(_.equals(v))a=e;else{const C=t.filter.updateChild(l.getNode(),c,v,d,f,o);a=qr(e,C,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Yd(t,e){return t.eventCache.isCompleteForChild(e)}function qw(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const f=le(n,a);Yd(e,L(f))&&(l=Sa(t,l,f,u,i,s,o))}),r.foreach((a,u)=>{const f=le(n,a);Yd(e,L(f))||(l=Sa(t,l,f,u,i,s,o))}),l}function qd(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ka(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;z(n)?u=r:u=new K(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((c,d)=>{if(f.hasChild(c)){const _=e.serverCache.getNode().getImmediateChild(c),v=qd(t,_,d);a=eo(t,a,new H(c),v,i,s,o,l)}}),u.children.inorderTraversal((c,d)=>{const _=!e.serverCache.isCompleteForChild(c)&&d.value===null;if(!f.hasChild(c)&&!_){const v=e.serverCache.getNode().getImmediateChild(c),C=qd(t,v,d);a=eo(t,a,new H(c),C,i,s,o,l)}}),a}function Xw(t,e,n,r,i,s,o){if(Zs(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(z(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return eo(t,e,n,a.getNode().getChild(n),i,s,l,o);if(z(n)){let u=new K(null);return a.getNode().forEachChild(Jn,(f,c)=>{u=u.set(new H(f),c)}),ka(t,e,n,u,i,s,l,o)}else return e}else{let u=new K(null);return r.foreach((f,c)=>{const d=le(n,f);a.isCompleteForPath(d)&&(u=u.set(f,a.getNode().getChild(d)))}),ka(t,e,n,u,i,s,l,o)}}function Jw(t,e,n,r,i){const s=e.serverCache,o=ym(e,s.getNode(),s.isFullyInitialized()||z(n),s.isFiltered());return Tm(t,o,n,r,xm,i)}function Zw(t,e,n,r,i,s){let o;if(Zs(r,n)!=null)return e;{const l=new Bu(r,e,i),a=e.eventCache.getNode();let u;if(z(n)||L(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Js(r,kn(e));else{const c=e.serverCache.getNode();k(c instanceof D,"serverChildren would be complete if leaf node"),f=zu(r,c)}f=f,u=t.filter.updateFullNode(a,f,s)}else{const f=L(n);let c=bu(r,f,e.serverCache);c==null&&e.serverCache.isCompleteForChild(f)&&(c=a.getImmediateChild(f)),c!=null?u=t.filter.updateChild(a,f,c,$(n),l,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(a,f,D.EMPTY_NODE,$(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Js(r,kn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Zs(r,U())!=null,qr(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Au(r.getIndex()),s=yw(r);this.processor_=Qw(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(D.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(D.EMPTY_NODE,l.getNode(),null),f=new Sn(a,o.isFullyInitialized(),i.filtersNodes()),c=new Sn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=xo(c,f),this.eventGenerator_=new Tw(this.query_)}get query(){return this.query_}}function tC(t){return t.viewCache_.serverCache.getNode()}function nC(t,e){const n=kn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!z(e)&&!n.getImmediateChild(L(e)).isEmpty())?n.getChild(e):null}function Xd(t){return t.eventRegistrations_.length===0}function rC(t,e){t.eventRegistrations_.push(e)}function Jd(t,e,n){const r=[];if(n){k(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Zd(t,e,n,r){e.type===rt.MERGE&&e.source.queryId!==null&&(k(kn(t.viewCache_),"We should always have a full cache before handling merges"),k(wa(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Kw(t.processor_,i,e,n,r);return Gw(t.processor_,s.viewCache),k(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Im(t,s.changes,s.viewCache.eventCache.getNode(),null)}function iC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(re,(s,o)=>{r.push(ur(s,o))}),n.isFullyInitialized()&&r.push(gm(n.getNode())),Im(t,r,n.getNode(),e)}function Im(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Iw(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to;class sC{constructor(){this.views=new Map}}function oC(t){k(!to,"__referenceConstructor has already been defined"),to=t}function lC(){return k(to,"Reference.ts has not been loaded"),to}function aC(t){return t.views.size===0}function Uu(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return k(s!=null,"SyncTree gave us an op for an invalid query."),Zd(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Zd(o,e,n,r));return s}}function uC(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Js(n,i?r:null),a=!1;l?a=!0:r instanceof D?(l=zu(n,r),a=!1):(l=D.EMPTY_NODE,a=!1);const u=xo(new Sn(l,a,!1),new Sn(r,i,!1));return new eC(e,u)}return o}function cC(t,e,n,r,i,s){const o=uC(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),rC(o,n),iC(o,n)}function dC(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Xt(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(Jd(u,n,r)),Xd(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(Jd(a,n,r)),Xd(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Xt(t)&&s.push(new(lC())(e._repo,e._path)),{removed:s,events:o}}function Nm(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Zn(t,e){let n=null;for(const r of t.views.values())n=n||nC(r,e);return n}function Rm(t,e){if(e._queryParams.loadsAllData())return To(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Pm(t,e){return Rm(t,e)!=null}function Xt(t){return To(t)!=null}function To(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no;function fC(t){k(!no,"__referenceConstructor has already been defined"),no=t}function hC(){return k(no,"Reference.ts has not been loaded"),no}let pC=1;class ef{constructor(e){this.listenProvider_=e,this.syncPointTree_=new K(null),this.pendingWriteTree_=Ww(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Dm(t,e,n,r,i){return Dw(t.pendingWriteTree_,e,n,r,i),i?Li(t,new En(vm(),e,n)):[]}function hn(t,e,n=!1){const r=Ow(t.pendingWriteTree_,e);if(Aw(t.pendingWriteTree_,e)){let s=new K(null);return r.snap!=null?s=s.set(U(),!0):je(r.children,o=>{s=s.set(new H(o),!0)}),Li(t,new Xs(r.path,s,n))}else return[]}function Io(t,e,n){return Li(t,new En(Lu(),e,n))}function mC(t,e,n){const r=K.fromObject(n);return Li(t,new ki(Lu(),e,r))}function gC(t,e){return Li(t,new Si(Lu(),e))}function _C(t,e,n){const r=Hu(t,n);if(r){const i=Vu(r),s=i.path,o=i.queryId,l=De(s,e),a=new Si(Fu(o),l);return $u(t,s,a)}else return[]}function xa(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||Pm(o,e))){const a=dC(o,e,n,r);aC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const f=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(s,(d,_)=>Xt(_));if(f&&!c){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const _=wC(d);for(let v=0;v<_.length;++v){const C=_[v],A=C.query,p=Mm(t,C);t.listenProvider_.startListening(Jr(A),ro(t,A),p.hashFn,p.onComplete)}}}!c&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(Jr(e),null):u.forEach(d=>{const _=t.queryToTagMap.get(No(d));t.listenProvider_.stopListening(Jr(d),_)}))}CC(t,u)}return l}function vC(t,e,n,r){const i=Hu(t,r);if(i!=null){const s=Vu(i),o=s.path,l=s.queryId,a=De(o,e),u=new En(Fu(l),a,n);return $u(t,o,u)}else return[]}function yC(t,e,n,r){const i=Hu(t,r);if(i){const s=Vu(i),o=s.path,l=s.queryId,a=De(o,e),u=K.fromObject(n),f=new ki(Fu(l),a,u);return $u(t,o,f)}else return[]}function tf(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,_)=>{const v=De(d,i);s=s||Zn(_,v),o=o||Xt(_)});let l=t.syncPointTree_.get(i);l?(o=o||Xt(l),s=s||Zn(l,U())):(l=new sC,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=D.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,v)=>{const C=Zn(v,U());C&&(s=s.updateImmediateChild(_,C))}));const u=Pm(l,e);if(!u&&!e._queryParams.loadsAllData()){const d=No(e);k(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const _=EC();t.queryToTagMap.set(d,_),t.tagToQueryMap.set(_,d)}const f=ju(t.pendingWriteTree_,i);let c=cC(l,e,n,f,s,a);if(!u&&!o&&!r){const d=Rm(l,e);c=c.concat(SC(t,e,d))}return c}function Wu(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=De(o,e),u=Zn(l,a);if(u)return u});return Em(i,e,s,n,!0)}function Li(t,e){return Om(e,t.syncPointTree_,null,ju(t.pendingWriteTree_,U()))}function Om(t,e,n,r){if(z(t.path))return Am(t,e,n,r);{const i=e.get(U());n==null&&i!=null&&(n=Zn(i,U()));let s=[];const o=L(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,f=Sm(r,o);s=s.concat(Om(l,a,u,f))}return i&&(s=s.concat(Uu(i,t,r,n))),s}}function Am(t,e,n,r){const i=e.get(U());n==null&&i!=null&&(n=Zn(i,U()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Sm(r,o),f=t.operationForChild(o);f&&(s=s.concat(Am(f,l,a,u)))}),i&&(s=s.concat(Uu(i,t,r,n))),s}function Mm(t,e){const n=e.query,r=ro(t,n);return{hashFn:()=>(tC(e)||D.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?_C(t,n._path,r):gC(t,n._path);{const s=v0(i,n);return xa(t,n,null,s)}}}}function ro(t,e){const n=No(e);return t.queryToTagMap.get(n)}function No(t){return t._path.toString()+"$"+t._queryIdentifier}function Hu(t,e){return t.tagToQueryMap.get(e)}function Vu(t){const e=t.indexOf("$");return k(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new H(t.substr(0,e))}}function $u(t,e,n){const r=t.syncPointTree_.get(e);k(r,"Missing sync point for query tag that we're tracking");const i=ju(t.pendingWriteTree_,e);return Uu(r,n,i,null)}function wC(t){return t.fold((e,n,r)=>{if(n&&Xt(n))return[To(n)];{let i=[];return n&&(i=Nm(n)),je(r,(s,o)=>{i=i.concat(o)}),i}})}function Jr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hC())(t._repo,t._path):t}function CC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=No(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function EC(){return pC++}function SC(t,e,n){const r=e._path,i=ro(t,e),s=Mm(t,n),o=t.listenProvider_.startListening(Jr(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)k(!Xt(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,f,c)=>{if(!z(u)&&f&&Xt(f))return[To(f).query];{let d=[];return f&&(d=d.concat(Nm(f).map(_=>_.query))),je(c,(_,v)=>{d=d.concat(v)}),d}});for(let u=0;u<a.length;++u){const f=a[u];t.listenProvider_.stopListening(Jr(f),ro(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Qu(n)}node(){return this.node_}}class Gu{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=le(this.path_,e);return new Gu(this.syncTree_,n)}node(){return Wu(this.syncTree_,this.path_)}}const kC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},nf=function(t,e,n){if(!t||typeof t!="object")return t;if(k(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return xC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return TC(t[".sv"],e);k(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},xC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:k(!1,"Unexpected server value: "+t)}},TC=function(t,e,n){t.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&k(!1,"Unexpected increment value: "+r);const i=e.node();if(k(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},IC=function(t,e,n,r){return Ku(e,new Gu(n,t),r)},Lm=function(t,e,n){return Ku(t,new Qu(e),n)};function Ku(t,e,n){const r=t.getPriority().val(),i=nf(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=nf(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new ue(l,me(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ue(i))),o.forEachChild(re,(l,a)=>{const u=Ku(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function qu(t,e){let n=e instanceof H?e:new H(e),r=t,i=L(n);for(;i!==null;){const s=lr(r.node.children,i)||{children:{},childCount:0};r=new Yu(i,r,s),n=$(n),i=L(n)}return r}function _r(t){return t.node.value}function Fm(t,e){t.node.value=e,Ta(t)}function jm(t){return t.node.childCount>0}function NC(t){return _r(t)===void 0&&!jm(t)}function Ro(t,e){je(t.node.children,(n,r)=>{e(new Yu(n,t,r))})}function zm(t,e,n,r){n&&e(t),Ro(t,i=>{zm(i,e,!0)})}function RC(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Fi(t){return new H(t.parent===null?t.name:Fi(t.parent)+"/"+t.name)}function Ta(t){t.parent!==null&&PC(t.parent,t.name,t)}function PC(t,e,n){const r=NC(n),i=Nt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ta(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ta(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/[\[\].#$\/\u0000-\u001F\u007F]/,OC=/[\[\].#$\u0000-\u001F\u007F]/,hl=10*1024*1024,bm=function(t){return typeof t=="string"&&t.length!==0&&!DC.test(t)},Bm=function(t){return typeof t=="string"&&t.length!==0&&!OC.test(t)},AC=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Bm(t)},MC=function(t,e,n,r){Xu(ku(t,"value"),e,n)},Xu=function(t,e,n){const r=n instanceof H?new X0(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+an(r));if(typeof e=="function")throw new Error(t+"contains a function "+an(r)+" with contents = "+e.toString());if(Bp(e))throw new Error(t+"contains "+e.toString()+" "+an(r));if(typeof e=="string"&&e.length>hl/3&&So(e)>hl)throw new Error(t+"contains a string greater than "+hl+" utf8 bytes "+an(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(je(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!bm(o)))throw new Error(t+" contains an invalid key ("+o+") "+an(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);J0(r,o),Xu(t,l,r),Z0(r)}),i&&s)throw new Error(t+' contains ".value" child '+an(r)+" in addition to actual children.")}},Um=function(t,e,n,r){if(!Bm(n))throw new Error(ku(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},LC=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Um(t,e,n)},FC=function(t,e){if(L(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},jC=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!AC(n))throw new Error(ku(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ju(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Pu(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Wm(t,e,n){Ju(t,n),Hm(t,r=>Pu(r,e))}function Tt(t,e,n){Ju(t,n),Hm(t,r=>nt(r,e)||nt(e,r))}function Hm(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(bC(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function bC(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Kr&&Ee("event: "+n.toString()),gr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="repo_interrupt",UC=25;class WC{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qs(),this.transactionQueueTree_=new Yu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function HC(t,e,n){if(t.stats_=Nu(t.repoInfo_),t.forceRestClient_||E0())t.server_=new Ys(t.repoInfo_,(r,i,s,o)=>{rf(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sf(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new yt(t.repoInfo_,e,(r,i,s,o)=>{rf(t,r,i,s,o)},r=>{sf(t,r)},r=>{$C(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=I0(t.repoInfo_,()=>new xw(t.stats_,t.server_)),t.infoData_=new ww,t.infoSyncTree_=new ef({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Io(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ec(t,"connected",!1),t.serverSyncTree_=new ef({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Tt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function VC(t){const n=t.infoData_.getNode(new H(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Zu(t){return kC({timestamp:VC(t)})}function rf(t,e,n,r,i){t.dataUpdateCount++;const s=new H(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Hs(n,u=>me(u));o=yC(t.serverSyncTree_,s,a,i)}else{const a=me(n);o=vC(t.serverSyncTree_,s,a,i)}else if(r){const a=Hs(n,u=>me(u));o=mC(t.serverSyncTree_,s,a)}else{const a=me(n);o=Io(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Po(t,s)),Tt(t.eventQueue_,l,o)}function sf(t,e){ec(t,"connected",e),e===!1&&GC(t)}function $C(t,e){je(e,(n,r)=>{ec(t,n,r)})}function ec(t,e,n){const r=new H("/.info/"+e),i=me(n);t.infoData_.updateSnapshot(r,i);const s=Io(t.infoSyncTree_,r,i);Tt(t.eventQueue_,r,s)}function Vm(t){return t.nextWriteId_++}function QC(t,e,n,r,i){tc(t,"set",{path:e.toString(),value:n,priority:r});const s=Zu(t),o=me(n,r),l=Wu(t.serverSyncTree_,e),a=Lm(o,l,s),u=Vm(t),f=Dm(t.serverSyncTree_,e,a,u,!0);Ju(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(d,_)=>{const v=d==="ok";v||Fe("set at "+e+" failed: "+d);const C=hn(t.serverSyncTree_,u,!v);Tt(t.eventQueue_,e,C),XC(t,i,d,_)});const c=Ym(t,e);Po(t,c),Tt(t.eventQueue_,c,[])}function GC(t){tc(t,"onDisconnectEvents");const e=Zu(t),n=qs();ya(t.onDisconnect_,U(),(i,s)=>{const o=IC(i,s,t.serverSyncTree_,e);_m(n,i,o)});let r=[];ya(n,U(),(i,s)=>{r=r.concat(Io(t.serverSyncTree_,i,s));const o=Ym(t,i);Po(t,o)}),t.onDisconnect_=qs(),Tt(t.eventQueue_,U(),r)}function KC(t,e,n){let r;L(e._path)===".info"?r=tf(t.infoSyncTree_,e,n):r=tf(t.serverSyncTree_,e,n),Wm(t.eventQueue_,e._path,r)}function YC(t,e,n){let r;L(e._path)===".info"?r=xa(t.infoSyncTree_,e,n):r=xa(t.serverSyncTree_,e,n),Wm(t.eventQueue_,e._path,r)}function qC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(BC)}function tc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ee(n,...e)}function XC(t,e,n,r){e&&gr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function $m(t,e,n){return Wu(t.serverSyncTree_,e,n)||D.EMPTY_NODE}function nc(t,e=t.transactionQueueTree_){if(e||Do(t,e),_r(e)){const n=Gm(t,e);k(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&JC(t,Fi(e),n)}else jm(e)&&Ro(e,n=>{nc(t,n)})}function JC(t,e,n){const r=n.map(u=>u.currentWriteId),i=$m(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];k(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=De(e,f.path);s=s.updateChild(c,f.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{tc(t,"transaction put response",{path:a.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(hn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&c.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Do(t,qu(t.transactionQueueTree_,e)),nc(t,t.transactionQueueTree_),Tt(t.eventQueue_,e,f);for(let d=0;d<c.length;d++)gr(c[d])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Fe("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}Po(t,e)}},o)}function Po(t,e){const n=Qm(t,e),r=Fi(n),i=Gm(t,n);return ZC(t,i,r),r}function ZC(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=De(n,a.path);let f=!1,c;if(k(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,c=a.abortReason,i=i.concat(hn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=UC)f=!0,c="maxretry",i=i.concat(hn(t.serverSyncTree_,a.currentWriteId,!0));else{const d=$m(t,a.path,o);a.currentInputSnapshot=d;const _=e[l].update(d.val());if(_!==void 0){Xu("transaction failed: Data returned ",_,a.path);let v=me(_);typeof _=="object"&&_!=null&&Nt(_,".priority")||(v=v.updatePriority(d.getPriority()));const A=a.currentWriteId,p=Zu(t),h=Lm(v,d,p);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=h,a.currentWriteId=Vm(t),o.splice(o.indexOf(A),1),i=i.concat(Dm(t.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(hn(t.serverSyncTree_,A,!0))}else f=!0,c="nodata",i=i.concat(hn(t.serverSyncTree_,a.currentWriteId,!0))}Tt(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}Do(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)gr(r[l]);nc(t,t.transactionQueueTree_)}function Qm(t,e){let n,r=t.transactionQueueTree_;for(n=L(e);n!==null&&_r(r)===void 0;)r=qu(r,n),e=$(e),n=L(e);return r}function Gm(t,e){const n=[];return Km(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Km(t,e,n){const r=_r(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ro(e,i=>{Km(t,i,n)})}function Do(t,e){const n=_r(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Fm(e,n.length>0?n:void 0)}Ro(e,r=>{Do(t,r)})}function Ym(t,e){const n=Fi(Qm(t,e)),r=qu(t.transactionQueueTree_,e);return RC(r,i=>{pl(t,i)}),pl(t,r),zm(r,i=>{pl(t,i)}),n}function pl(t,e){const n=_r(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(k(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(k(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(hn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Fm(e,void 0):n.length=s+1,Tt(t.eventQueue_,Fi(e),i);for(let o=0;o<r.length;o++)gr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function tE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Fe(`Invalid query segment '${n}' in query '${t}'`)}return e}const of=function(t,e){const n=nE(t),r=n.namespace;n.domain==="firebase.com"&&xt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&xt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||h0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Jp(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new H(n.pathString)}},nE=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(f,c)),f<c&&(i=eE(t.substring(f,c)));const d=tE(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+fe(this.snapshot.exportVal())}}class iE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return z(this._path)?null:lm(this._path)}get ref(){return new tn(this._repo,this._path)}get _queryIdentifier(){const e=Hd(this._queryParams),n=Tu(e);return n==="{}"?"default":n}get _queryObject(){return Hd(this._queryParams)}isEqual(e){if(e=Di(e),!(e instanceof rc))return!1;const n=this._repo===e._repo,r=Pu(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+q0(this._path)}}class tn extends rc{constructor(e,n){super(e,n,new Mu,!1)}get parent(){const e=um(this._path);return e===null?null:new tn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class io{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new H(e),r=Ia(this.ref,e);return new io(this._node.getChild(n),r,re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new io(i,Ia(this.ref,r),re)))}hasChild(e){const n=new H(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ar(t,e){return t=Di(t),t._checkNotDeleted("ref"),e!==void 0?Ia(t._root,e):t._root}function Ia(t,e){return t=Di(t),L(t._path)===null?LC("child","path",e):Um("child","path",e),new tn(t._repo,le(t._path,e))}function ml(t,e){t=Di(t),FC("set",t._path),MC("set",e,t._path);const n=new Eo;return QC(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class ic{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new rE("value",this,new io(e.snapshotNode,new tn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iE(this,e,n):null}matches(e){return e instanceof ic?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function oE(t,e,n,r,i){const s=new sE(n,void 0),o=new ic(s);return KC(t._repo,t,o),()=>YC(t._repo,t,o)}function lf(t,e,n,r){return oE(t,"value",e)}oC(tn);fC(tn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="FIREBASE_DATABASE_EMULATOR_HOST",Na={};let aE=!1;function uE(t,e,n,r){t.repoInfo_=new Jp(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function cE(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||xt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ee("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=of(s,i),l=o.repoInfo,a;typeof process<"u"&&xd&&(a=xd[lE]),a?(s=`http://${a}?ns=${l.namespace}`,o=of(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new k0(t.name,t.options,e);jC("Invalid Firebase Database URL",o),z(o.path)||xt("Database URL must point to the root of a Firebase Database (not including a child path).");const f=fE(l,t,u,new S0(t.name,n));return new hE(f,t)}function dE(t,e){const n=Na[e];(!n||n[t.key]!==t)&&xt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),qC(t),delete n[t.key]}function fE(t,e,n,r){let i=Na[e.name];i||(i={},Na[e.name]=i);let s=i[t.toURLString()];return s&&xt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new WC(t,aE,n,r),i[t.toURLString()]=s,s}class hE{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(HC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tn(this._repo,U())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xt("Cannot call "+e+" on a deleted database.")}}function pE(t=Yy(),e){const n=$y(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Mv("database");r&&mE(n,...r)}return n}function mE(t,e,n,r={}){t=Di(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&xt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&xt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new _s(_s.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Lv(r.mockUserToken,t.app.options.projectId);s=new _s(o)}uE(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){l0(Ky),$s(new _i("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return cE(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),qn(Td,Id,t),qn(Td,Id,"esm2017")}yt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};yt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gE();const _E={apiKey:"AIzaSyB3Z1WDeqO4cEBMk5Q1j9H8c2-0Z1Y8X0",authDomain:"winslow-756c3.firebaseapp.com",databaseURL:"https://winslow-756c3-default-rtdb.firebaseio.com",projectId:"winslow-756c3",storageBucket:"winslow-756c3.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abc123"},vE=Mp(_E),Mr=pE(vE),qm={todo:"",progress:"",review:"",done:"",dev:"",marketing:"",content:"",ambassador:"",ops:"",michigan:"",internal:"",brain_dump:"",meeting:"",idea:"",project:""},af={dev:{bg:"rgba(96, 165, 250, 0.15)",text:"#60a5fa"},marketing:{bg:"rgba(248, 113, 113, 0.15)",text:"#f87171"},content:{bg:"rgba(251, 191, 36, 0.15)",text:"#fbbf24"},ambassador:{bg:"rgba(52, 211, 153, 0.15)",text:"#34d399"},ops:{bg:"rgba(139, 92, 246, 0.15)",text:"#a78bfa"},michigan:{bg:"rgba(251, 146, 60, 0.15)",text:"#fb923c"},internal:{bg:"rgba(34, 211, 238, 0.15)",text:"#22d3ee"}},yE={high:"#ef4444",medium:"#fbbf24",low:"#34d399"},uf={brain_dump:{bg:"rgba(251, 191, 36, 0.15)",text:"#fbbf24"},meeting:{bg:"rgba(96, 165, 250, 0.15)",text:"#60a5fa"},idea:{bg:"rgba(52, 211, 153, 0.15)",text:"#34d399"},project:{bg:"rgba(139, 92, 246, 0.15)",text:"#a78bfa"}},wE={todo:"#f87171",progress:"#fbbf24",review:"#34d399",done:"#60a5fa"};function CE({task:t,onClick:e,onDragStart:n,onDragEnd:r}){const i=af[t.category]||af.ops;return m.jsxs("div",{className:"task-card",draggable:!0,onDragStart:s=>n(s,t),onDragEnd:r,onClick:e,children:[m.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"0.5rem"},children:[m.jsx("div",{style:{fontWeight:500,fontSize:"0.875rem",lineHeight:1.4,paddingRight:"0.5rem",flex:1},children:t.title}),m.jsx("div",{className:"priority-dot",style:{backgroundColor:yE[t.priority]}})]}),m.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:m.jsxs("div",{className:"category-badge",style:{background:i.bg,color:i.text},children:[qm[t.category]," ",t.category.charAt(0).toUpperCase()+t.category.slice(1)]})})]})}function EE({status:t,tasks:e,columnIcons:n,columnLabels:r,onTaskClick:i,onDragOver:s,onDragLeave:o,onDrop:l,isOver:a}){const u=Object.values(e).filter(f=>f.status===t).sort((f,c)=>(f.order||0)-(c.order||0));return m.jsxs("div",{id:`column-${t}`,"data-status":t,className:`column-layout ${a?"drag-over":""}`,onDragOver:s,onDragLeave:o,onDrop:l,style:{minHeight:"150px"},children:[m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:`2px solid ${wE[t]}`},children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx("span",{style:{fontSize:"1.125rem"},children:n[t]}),m.jsx("span",{style:{fontWeight:600,fontSize:"0.875rem"},children:r[t]}),m.jsx("div",{style:{padding:"0.125rem 0.5rem",borderRadius:"9999px",background:"rgba(55, 65, 81, 0.5)",fontSize:"0.75rem",color:"#9ca3af"},children:u.length})]})}),m.jsxs("div",{className:"cards-scroll",style:{minHeight:"100px"},children:[u.map(f=>m.jsx(CE,{task:f,onClick:()=>i(f)},f.id)),u.length===0&&m.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#4b5563",fontSize:"0.75rem"},children:"Drop tasks here"})]})]})}function SE({note:t,onClick:e}){const n=uf[t.type]||uf.brain_dump;return m.jsxs("div",{className:"note-card",onClick:e,children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:600,fontSize:"0.875rem",marginBottom:"0.5rem"},children:[m.jsx("span",{style:{fontSize:"1.125rem"},children:qm[t.type]||""}),t.title,m.jsx("div",{style:{marginLeft:"auto",padding:"0.125rem 0.5rem",borderRadius:"0.5rem",background:n.bg,color:n.text,fontSize:"0.75rem",textTransform:"capitalize"},children:t.type.replace("_"," ")})]}),m.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",lineHeight:1.5,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:t.content}),m.jsx("div",{style:{fontSize:"0.75rem",color:"#4b5563",marginTop:"0.5rem"},children:new Date(t.updated).toLocaleDateString()})]})}function is({isOpen:t,onClose:e,title:n,children:r}){return t?m.jsx("div",{className:"modal-overlay",onClick:e,children:m.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[m.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700},children:n}),m.jsx("button",{className:"close-btn",onClick:e,children:""})]}),r]})}):null}function kE(){const[t,e]=te.useState("tasks"),[n,r]=te.useState({}),[i,s]=te.useState({}),[o,l]=te.useState({text:"Loading...",type:"saved"}),[a,u]=te.useState(!1),[f,c]=te.useState(!1),[d,_]=te.useState(null),[v,C]=te.useState(null),[A,p]=te.useState(null),[h,g]=te.useState(null);te.useEffect(()=>{const y=Ar(Mr,"workspaces/winslow_main/tasks"),w=lf(y,O=>{const M=O.val();if(M)r(M),l({text:"Synced ",type:"saved"});else{const ve={1:{id:"1",title:"Welcome to Mission Control",category:"ops",priority:"medium",status:"todo",order:0},2:{id:"2",title:"Drag cards between columns",category:"dev",priority:"low",status:"todo",order:1},3:{id:"3",title:"Try moving to Progress",category:"michigan",priority:"high",status:"progress",order:0},4:{id:"4",title:"Or drop in Review",category:"content",priority:"medium",status:"review",order:0},5:{id:"5",title:"Completed tasks go to Done",category:"marketing",priority:"low",status:"done",order:0}};r(ve),ml(Ar(Mr,"workspaces/winslow_main/tasks"),ve),l({text:"Ready",type:"saved"})}});return()=>w()},[]),te.useEffect(()=>{const y=Ar(Mr,"workspaces/winslow_main/notes"),w=lf(y,O=>{const M=O.val();M&&s(M)});return()=>w()},[]);const E=te.useCallback(async y=>{l({text:"Saving...",type:"saving"});try{await ml(Ar(Mr,"workspaces/winslow_main/tasks"),y),l({text:"Saved ",type:"saved"})}catch{l({text:"Local only",type:"saved"})}},[]),x=te.useCallback(async y=>{try{await ml(Ar(Mr,"workspaces/winslow_main/notes"),y)}catch(w){console.log("Notes save failed",w)}},[]);te.useCallback((y,w)=>{p(w),y.dataTransfer.setData("text/plain",w.id),y.dataTransfer.effectAllowed="move",y.target.classList.add("dragging")},[]),te.useCallback(y=>{p(null),g(null),y.target.classList.remove("dragging")},[]);const N=te.useCallback(y=>{y.preventDefault(),y.dataTransfer.dropEffect="move";let w=y.target;for(;w&&w!==document.body;){if(w.id&&w.id.startsWith("column-")){h!==w.id&&g(w.id);break}w=w.parentElement}},[h]),R=te.useCallback(y=>{y.currentTarget.contains(y.relatedTarget)||g(null)},[]),P=te.useCallback(y=>{y.preventDefault(),g(null);const w=y.dataTransfer.getData("text/plain"),O=y.currentTarget.dataset.status;if(w&&O&&n[w]){const M=n[w];if(M.status!==O){const ve={...n};Object.values(ve).forEach(ke=>{ke.status===M.status&&ke.order>M.order&&(ve[ke.id]={...ke,order:ke.order-1})});const wr=Object.values(ve).filter(ke=>ke.status===O).length;ve[w]={...M,status:O,order:wr},r(ve),E(ve)}}p(null)},[n,E]),X=y=>{const w=Date.now().toString(),O=Object.values(n).filter(ve=>ve.status===y.status).length,M={...n,[w]:{...y,id:w,order:O}};r(M),E(M),u(!1)},j=(y,w)=>{const O={...n,[y]:{...n[y],...w}};r(O),E(O)},ze=async y=>{const w={...n},O=w[y];delete w[y],Object.values(w).forEach(M=>{M.status===O.status&&M.order>O.order&&(w[M.id]={...M,order:M.order-1})}),r(w),await E(w)},nn=y=>{const w=Date.now().toString(),O={...i,[w]:{...y,id:w,updated:Date.now()}};s(O),x(O),c(!1)},rn=(y,w)=>{const O={...i,[y]:{...i[y],...w,updated:Date.now()}};s(O),x(O),_(null)},ji=async y=>{const w={...i};delete w[y],s(w),await x(w),_(null)},Nn={total:Object.keys(n).length,todo:Object.values(n).filter(y=>y.status==="todo").length,progress:Object.values(n).filter(y=>y.status==="progress").length,review:Object.values(n).filter(y=>y.status==="review").length,done:Object.values(n).filter(y=>y.status==="done").length},vr={todo:"",progress:"",review:"",done:""},yr={todo:"To Do",progress:"In Progress",review:"Review",done:"Done"},T=[{i:"",n:"Docs",u:"https://docs.google.com"},{i:"",n:"Sheets",u:"https://sheets.google.com"},{i:"",n:"Drive",u:"https://drive.google.com"},{i:"",n:"Calendar",u:"https://calendar.google.com"},{i:"",n:"Gmail",u:"https://mail.google.com"},{i:"",n:"Photos",u:"https://photos.google.com"}];return m.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:[m.jsx("header",{style:{position:"sticky",top:0,zIndex:40,background:"rgba(10, 10, 15, 0.8)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(55, 65, 81, 0.3)",padding:"1rem 1.25rem"},children:m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[m.jsxs("div",{children:[m.jsx("h1",{style:{fontSize:"1.25rem",fontWeight:700,background:"linear-gradient(135deg, #fff 0%, #a78bfa 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:" Mission Control"}),m.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.125rem"},children:"Drag cards between columns"})]}),m.jsxs("div",{className:`status-badge ${o.type}`,children:[m.jsx("span",{className:`status-dot ${o.type}`}),m.jsx("span",{children:o.text})]})]})}),m.jsx("div",{style:{position:"sticky",top:"5.5rem",zIndex:30,background:"rgba(10, 10, 15, 0.95)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(55, 65, 81, 0.3)",padding:"0.75rem 1.25rem"},children:m.jsx("div",{className:"tab-scroll",children:["tasks","notes","files","tools"].map(y=>m.jsx("button",{onClick:()=>e(y),className:`tab-btn ${t===y?"active":"inactive"}`,children:y==="tasks"?" Tasks":y==="notes"?" Notes":y==="files"?" Files":" Tools"},y))})}),m.jsxs("div",{style:{flex:1,overflow:"auto",overflowX:"hidden"},children:[m.jsxs("div",{className:"stats-scroll",children:[m.jsxs("div",{className:"stat-pill",children:["Total: ",m.jsx("span",{children:Nn.total})]}),m.jsxs("div",{className:"stat-pill",style:{color:"#f87171"},children:["To Do: ",m.jsx("span",{children:Nn.todo})]}),m.jsxs("div",{className:"stat-pill",style:{color:"#fbbf24"},children:["Progress: ",m.jsx("span",{children:Nn.progress})]}),m.jsxs("div",{className:"stat-pill",style:{color:"#34d399"},children:["Done: ",m.jsx("span",{children:Nn.done})]})]}),t==="tasks"&&m.jsx("div",{className:"board-container",children:["todo","progress","review","done"].map(y=>m.jsx(EE,{status:y,tasks:n,columnIcons:vr,columnLabels:yr,onTaskClick:w=>C(w),onDragOver:N,onDragLeave:R,onDrop:P,isOver:h===`column-${y}`},y))}),t==="notes"&&m.jsx("div",{style:{padding:"0 1.25rem 6rem"},children:m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Object.keys(i).length===0?m.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"#6b7280",fontSize:"0.875rem"},children:"No notes yet. Create your first note!"}):Object.values(i).sort((y,w)=>w.updated-y.updated).map(y=>m.jsx(SE,{note:y,onClick:()=>_(y)},y.id))})}),t==="files"&&m.jsx("div",{style:{padding:"0 1.25rem 6rem"},children:m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem"},children:[m.jsxs("div",{className:"grid-card",children:[m.jsx("div",{style:{fontSize:"1.75rem",marginBottom:"0.5rem"},children:""}),m.jsx("div",{style:{fontSize:"0.75rem",fontWeight:500},children:"Template Pack V4"})]}),m.jsxs("div",{className:"grid-card",children:[m.jsx("div",{style:{fontSize:"1.75rem",marginBottom:"0.5rem"},children:""}),m.jsx("div",{style:{fontSize:"0.75rem",fontWeight:500},children:"Brand Assets"})]})]})}),t==="tools"&&m.jsx("div",{style:{padding:"0 1.25rem 6rem"},children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem"},children:T.map(y=>m.jsxs("div",{className:"grid-card",onClick:()=>window.open(y.u,"_blank"),children:[m.jsx("div",{style:{fontSize:"1.75rem",marginBottom:"0.5rem"},children:y.i}),m.jsx("div",{style:{fontSize:"0.875rem",fontWeight:600},children:y.n})]},y.n))})})]}),m.jsx("nav",{className:"bottom-nav",children:m.jsx("div",{style:{display:"flex",justifyContent:"space-around",padding:"0.5rem"},children:[{id:"tasks",icon:"",label:"Tasks"},{id:"notes",icon:"",label:"Notes"},{id:"files",icon:"",label:"Files"},{id:"tools",icon:"",label:"Tools"}].map(y=>m.jsxs("div",{className:`nav-item ${t===y.id?"active":"inactive"}`,onClick:()=>e(y.id),children:[m.jsx("div",{className:"nav-icon",children:y.icon}),m.jsx("div",{className:"nav-label",children:y.label})]},y.id))})}),t==="tasks"&&m.jsx("button",{className:"fab",onClick:()=>u(!0),children:"+"}),t==="notes"&&m.jsx("button",{className:"fab",onClick:()=>c(!0),children:"+"}),m.jsx(is,{isOpen:a,onClose:()=>u(!1),title:"New Task",children:m.jsxs("form",{onSubmit:y=>{y.preventDefault();const w=y.target;X({title:w.title.value,category:w.category.value,priority:w.priority.value,status:"todo"})},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Title"}),m.jsx("input",{name:"title",required:!0,className:"form-input",placeholder:"Task title...",autoFocus:!0})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Category"}),m.jsxs("select",{name:"category",className:"form-select",children:[m.jsx("option",{value:"dev",children:" Dev"}),m.jsx("option",{value:"marketing",children:" Marketing"}),m.jsx("option",{value:"content",children:" Content"}),m.jsx("option",{value:"ambassador",children:" Ambassador"}),m.jsx("option",{value:"ops",children:" Ops"}),m.jsx("option",{value:"michigan",children:" Michigan Project"}),m.jsx("option",{value:"internal",children:" Internal"})]})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Priority"}),m.jsxs("select",{name:"priority",className:"form-select",children:[m.jsx("option",{value:"high",children:" High"}),m.jsx("option",{value:"medium",children:" Medium"}),m.jsx("option",{value:"low",children:" Low"})]})]})]}),m.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[m.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>u(!1),children:"Cancel"}),m.jsx("button",{type:"submit",className:"btn-primary",children:"Create"})]})]})}),m.jsx(is,{isOpen:v!==null,onClose:()=>C(null),title:"Task Details",children:v&&m.jsxs("form",{onSubmit:y=>{y.preventDefault();const w=y.target;j(v.id,{title:w.title.value,category:w.category.value,priority:w.priority.value,status:w.status.value}),C(null)},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Status"}),m.jsxs("select",{name:"status",className:"form-select",defaultValue:v.status,children:[m.jsx("option",{value:"todo",children:" To Do"}),m.jsx("option",{value:"progress",children:" In Progress"}),m.jsx("option",{value:"review",children:" Review"}),m.jsx("option",{value:"done",children:" Done"})]})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Title"}),m.jsx("input",{name:"title",required:!0,className:"form-input",defaultValue:v.title})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Category"}),m.jsxs("select",{name:"category",className:"form-select",defaultValue:v.category,children:[m.jsx("option",{value:"dev",children:" Dev"}),m.jsx("option",{value:"marketing",children:" Marketing"}),m.jsx("option",{value:"content",children:" Content"}),m.jsx("option",{value:"ambassador",children:" Ambassador"}),m.jsx("option",{value:"ops",children:" Ops"}),m.jsx("option",{value:"michigan",children:" Michigan Project"}),m.jsx("option",{value:"internal",children:" Internal"})]})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Priority"}),m.jsxs("select",{name:"priority",className:"form-select",defaultValue:v.priority,children:[m.jsx("option",{value:"high",children:" High"}),m.jsx("option",{value:"medium",children:" Medium"}),m.jsx("option",{value:"low",children:" Low"})]})]})]}),m.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[m.jsx("button",{type:"button",className:"btn-danger",onClick:()=>{ze(v.id),C(null)},children:"Delete"}),m.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})}),m.jsx(is,{isOpen:f,onClose:()=>c(!1),title:"New Note",children:m.jsxs("form",{onSubmit:y=>{y.preventDefault();const w=y.target;nn({title:w.title.value,content:w.content.value,type:w.type.value})},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Title"}),m.jsx("input",{name:"title",required:!0,className:"form-input",placeholder:"Note title...",autoFocus:!0})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Content"}),m.jsx("textarea",{name:"content",className:"form-textarea",placeholder:"Brain dump, ideas, meeting notes..."})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Type"}),m.jsxs("select",{name:"type",className:"form-select",children:[m.jsx("option",{value:"brain_dump",children:" Brain Dump"}),m.jsx("option",{value:"meeting",children:" Meeting Notes"}),m.jsx("option",{value:"idea",children:" Idea"}),m.jsx("option",{value:"project",children:" Project"})]})]})]}),m.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[m.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>c(!1),children:"Cancel"}),m.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})}),m.jsx(is,{isOpen:d!==null,onClose:()=>_(null),title:"Edit Note",children:d&&m.jsxs("form",{onSubmit:y=>{y.preventDefault();const w=y.target;rn(d.id,{title:w.title.value,content:w.content.value,type:w.type.value})},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Title"}),m.jsx("input",{name:"title",required:!0,className:"form-input",defaultValue:d.title})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Content"}),m.jsx("textarea",{name:"content",className:"form-textarea",defaultValue:d.content})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Type"}),m.jsxs("select",{name:"type",className:"form-select",defaultValue:d.type,children:[m.jsx("option",{value:"brain_dump",children:" Brain Dump"}),m.jsx("option",{value:"meeting",children:" Meeting Notes"}),m.jsx("option",{value:"idea",children:" Idea"}),m.jsx("option",{value:"project",children:" Project"})]})]})]}),m.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[m.jsx("button",{type:"button",className:"btn-danger",onClick:()=>{ji(d.id)},children:"Delete"}),m.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})})]})}gl.createRoot(document.getElementById("root")).render(m.jsx(hg.StrictMode,{children:m.jsx(kE,{})}));
